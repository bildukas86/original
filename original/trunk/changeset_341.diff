Index: /trunk/aCis_datapack/data/html/merchant/30135-bought.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30135-bought.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30135-bought.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 31">Buy Fighter equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Buy 32">Buy Mystic equipment.</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">Exchange equipment.</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">Exchange equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Wear 31">Wear Fighter equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Wear 32">Wear Mystic equipment.</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30138-sold.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30138-sold.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30138-sold.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 36">Buy Accessories</a><br>
 <a action="bypass -h npc_%objectId%_Buy 362">Buy Spellbooks</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">Exchange equipment.</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">Exchange equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Sell">Sell</a><br>
 <a action="bypass -h npc_%objectId%_TerritoryStatus">See the Lord and get the tax rate information.</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30138.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30138.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30138.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 36">Buy Accessories</a><br>
 <a action="bypass -h npc_%objectId%_Buy 362">Buy Spellbooks</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">Exchange equipment.</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">Exchange equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Sell">Sell</a><br>
 <a action="bypass -h npc_%objectId%_TerritoryStatus">See the Lord and get the tax rate information.</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30558-sold.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30558-sold.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30558-sold.htm	(revision 341)
@@ -4,5 +4,5 @@
 <a action="bypass -h npc_%objectId%_Buy 81">"I want to buy Warrior equipment."</a><br>
 <a action="bypass -h npc_%objectId%_Buy 82">"I want to buy Wizard equipment."</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">"I want to exchange equipment."</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">"I want to exchange equipment."</a><br>
 <a action="bypass -h npc_%objectId%_Wear 81">"I want to try on Warrior equipment."</a><br>
 <a action="bypass -h npc_%objectId%_Wear 82">"I want to try on Wizard equipment."</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30002-sold.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30002-sold.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30002-sold.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 11">Buy Fighter equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Buy 12">Buy Mystic equipment.</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">Exchange equipment.</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">Exchange equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Wear 11">Wear Warrior equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Wear 12">Wear Mystic equipment.</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30560-bought.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30560-bought.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30560-bought.htm	(revision 341)
@@ -4,5 +4,5 @@
 <a action="bypass -h npc_%objectId%_Buy 85">"I want to buy an acessory."</a><br>
 <a action="bypass -h npc_%objectId%_Buy 363">"I want to buy an amulet."</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">"I want to exchange equipment."</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">"I want to exchange equipment."</a><br>
 <a action="bypass -h npc_%objectId%_Sell ">Sell</a><br>
 <a action="bypass -h npc_%objectId%_TerritoryStatus">"Who is the lord of the manor and what is the tax rate?"</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30138-bought.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30138-bought.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30138-bought.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 36">Buy Accessories</a><br>
 <a action="bypass -h npc_%objectId%_Buy 362">Buy Spellbooks</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">Exchange equipment.</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">Exchange equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Sell">Sell</a><br>
 <a action="bypass -h npc_%objectId%_TerritoryStatus">See the Lord and get the tax rate information.</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30147-sold.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30147-sold.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30147-sold.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 37">Buy Fighter equipment</a><br>
 <a action="bypass -h npc_%objectId%_Buy 38">Buy Mystic equipment</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">Exchange equipment</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">Exchange equipment</a><br>
 <a action="bypass -h npc_%objectId%_Wear 37">Try on Fighter Equipment</a><br>
 <a action="bypass -h npc_%objectId%_Wear 38">Try on Mystic Equipment</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30147.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30147.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30147.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 37">Buy Fighter equipment</a><br>
 <a action="bypass -h npc_%objectId%_Buy 38">Buy Mystic equipment</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">Exchange equipment</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">Exchange equipment</a><br>
 <a action="bypass -h npc_%objectId%_Wear 37">Try on Fighter Equipment</a><br>
 <a action="bypass -h npc_%objectId%_Wear 38">Try on Mystic Equipment</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30147-bought.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30147-bought.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30147-bought.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 37">Buy Fighter equipment</a><br>
 <a action="bypass -h npc_%objectId%_Buy 38">Buy Mystic equipment</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">Exchange equipment</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">Exchange equipment</a><br>
 <a action="bypass -h npc_%objectId%_Wear 37">Try on Fighter Equipment</a><br>
 <a action="bypass -h npc_%objectId%_Wear 38">Try on Mystic Equipment</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30314.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30314.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30314.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 67">Buy Accessories</a><br>
 <a action="bypass -h npc_%objectId%_Buy 205">Buy Spellbooks, Charms and Blueprints</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">Exchange equipment</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">Exchange equipment</a><br>
 <a action="bypass -h npc_%objectId%_Sell">Sell</a><br>
 <a action="bypass -h npc_%objectId%_TerritoryStatus">See the Lord and Tax Rate Information</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30560-sold.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30560-sold.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30560-sold.htm	(revision 341)
@@ -4,5 +4,5 @@
 <a action="bypass -h npc_%objectId%_Buy 85">"I want to buy an acessory."</a><br>
 <a action="bypass -h npc_%objectId%_Buy 363">"I want to buy an amulet."</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">"I want to exchange equipment."</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">"I want to exchange equipment."</a><br>
 <a action="bypass -h npc_%objectId%_Sell ">Sell</a><br>
 <a action="bypass -h npc_%objectId%_TerritoryStatus">"Who is the lord of the manor and what is the tax rate?"</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30519.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30519.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30519.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 80">"I want to buy consumables and minerals."</a><br>
 <a action="bypass -h npc_%objectId%_Sell">Sell</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">"I want to exchange equipment."</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">"I want to exchange equipment."</a><br>
 <a action="bypass -h npc_%objectId%_TerritoryStatus">"Who is the Lord of the manor and what is the tax rate?"</a><br>
 <a action="bypass -h npc_%objectId%_Quest">Quest</a>
Index: /trunk/aCis_datapack/data/html/merchant/30558.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30558.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30558.htm	(revision 341)
@@ -4,5 +4,5 @@
 <a action="bypass -h npc_%objectId%_Buy 81">"I want to buy Warrior equipment."</a><br>
 <a action="bypass -h npc_%objectId%_Buy 82">"I want to buy Wizard equipment."</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">"I want to exchange equipment."</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">"I want to exchange equipment."</a><br>
 <a action="bypass -h npc_%objectId%_Wear 81">"I want to try on Warrior equipment."</a><br>
 <a action="bypass -h npc_%objectId%_Wear 82">"I want to try on Wizard equipment."</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30001-bought.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30001-bought.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30001-bought.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 1">Buy Fighter equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Buy 2">Buy Mystic equipment.</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">Exchange equipment.</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">Exchange equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Wear 1">Wear Fighter equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Wear 2">Wear Mystic equipment.</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30002.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30002.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30002.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 11">Buy Fighter equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Buy 12">Buy Mystic equipment.</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">Exchange equipment.</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">Exchange equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Wear 11">Wear Warrior equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Wear 12">Wear Mystic equipment.</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30207.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30207.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30207.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 53">Buy Fighter Equipment</a><br>
 <a action="bypass -h npc_%objectId%_Buy 54">Buy Mystic Equipment</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">Exchange equipment</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">Exchange equipment</a><br>
 <a action="bypass -h npc_%objectId%_Wear 53">Try on Fighter Equipment</a><br>
 <a action="bypass -h npc_%objectId%_Wear 54">Try on Mystic Equipment</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30149-sold.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30149-sold.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30149-sold.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 41">Buy Accessories</a><br>
 <a action="bypass -h npc_%objectId%_Buy 360">Buy Spellbooks</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">Exchange weapon</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">Exchange weapon</a><br>
 <a action="bypass -h npc_%objectId%_Sell">Sell</a><br>
 <a action="bypass -h npc_%objectId%_TerritoryStatus">See the Lord and get the tax rate information.</a>
Index: /trunk/aCis_datapack/data/html/merchant/30135.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30135.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30135.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 31">Buy Fighter equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Buy 32">Buy Mystic equipment.</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">Exchange equipment.</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">Exchange equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Wear 31">Wear Fighter equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Wear 32">Wear Mystic equipment.</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30294.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30294.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30294.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 64">Buy Accessories</a><br>
 <a action="bypass -h npc_%objectId%_Buy 373">Buy Spellbooks, Charms and Blueprints</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">Exchange equipment</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">Exchange equipment</a><br>
 <a action="bypass -h npc_%objectId%_Sell">Sell</a><br>
 <a action="bypass -h npc_%objectId%_TerritoryStatus">See the Lord and Tax Rate Information</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30135-sold.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30135-sold.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30135-sold.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 31">Buy Fighter equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Buy 32">Buy Mystic equipment.</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">Exchange equipment.</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">Exchange equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Wear 31">Wear Fighter equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Wear 32">Wear Mystic equipment.</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30148.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30148.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30148.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 39">"I want to buy Warrior equipment."</a><br>
 <a action="bypass -h npc_%objectId%_Buy 40">"I want to buy Wizard equipment."</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">"I want to exchange equipment."</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">"I want to exchange equipment."</a><br>
 <a action="bypass -h npc_%objectId%_Wear 39">"I want to try on Warrior equipment."</a><br>
 <a action="bypass -h npc_%objectId%_Wear 40">"I want to try on Wizard equipment."</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30516.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30516.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30516.htm	(revision 341)
@@ -5,5 +5,5 @@
 <a action="bypass -h npc_%objectId%_Buy 75">"I want to buy Warrior equipment."</a><br>
 <a action="bypass -h npc_%objectId%_Buy 76">"I want to buy Wizard equipment."</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">Exchange Equipment</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">Exchange Equipment</a><br>
 <a action="bypass -h npc_%objectId%_Wear 75">"I want to try on Warrior equipment."</a><br>
 <a action="bypass -h npc_%objectId%_Wear 76">"I want to try on Wizard equipment."</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30559.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30559.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30559.htm	(revision 341)
@@ -4,5 +4,5 @@
 <a action="bypass -h npc_%objectId%_Buy 83">"I want to buy Warrior equipment."</a><br>
 <a action="bypass -h npc_%objectId%_Buy 84">"I want to buy Wizard equipment."</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">"I want to exchange equipment."</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">"I want to exchange equipment."</a><br>
 <a action="bypass -h npc_%objectId%_Wear 83">"I want to try on Warrior equipment."</a><br>
 <a action="bypass -h npc_%objectId%_Wear 84">"I want to try on Wizard equipment."</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30003.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30003.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30003.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 13">Buy Accessories</a><br>
 <a action="bypass -h npc_%objectId%_Buy 355">Buy Spellbooks</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">Exchange equipment</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">Exchange equipment</a><br>
 <a action="bypass -h npc_%objectId%_Sell">Sell</a><br>
 <a action="bypass -h npc_%objectId%_TerritoryStatus">See the Lord and get the tax rate information</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30208.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30208.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30208.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 55">Buy Fighter Equipment</a><br>
 <a action="bypass -h npc_%objectId%_Buy 56">Buy Mystic Equipment</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">Exchange equipment</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">Exchange equipment</a><br>
 <a action="bypass -h npc_%objectId%_Wear 55">Try on Fighter Equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Wear 56">Try on Mystic Equipment.</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30560.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30560.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30560.htm	(revision 341)
@@ -4,5 +4,5 @@
 <a action="bypass -h npc_%objectId%_Buy 85">"I want to buy an acessory."</a><br>
 <a action="bypass -h npc_%objectId%_Buy 363">Buy the amulet</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">"I want to exchange equipment."</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">"I want to exchange equipment."</a><br>
 <a action="bypass -h npc_%objectId%_Sell">Sell</a><br>
 <a action="bypass -h npc_%objectId%_TerritoryStatus">"Who is the lord of the manor and what is the tax rate?"</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30001-sold.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30001-sold.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30001-sold.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 1">Buy Fighter equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Buy 2">Buy Mystic equipment.</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">Exchange equipment.</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">Exchange equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Wear 1">Wear Fighter equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Wear 2">Wear Mystic equipment.</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30149-bought.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30149-bought.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30149-bought.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 41">Buy Accessories</a><br>
 <a action="bypass -h npc_%objectId%_Buy 360">Buy Spellbooks</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">Exchange weapon</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">Exchange weapon</a><br>
 <a action="bypass -h npc_%objectId%_Sell">Sell</a><br>
 <a action="bypass -h npc_%objectId%_TerritoryStatus">See the Lord and get the tax rate information.</a>
Index: /trunk/aCis_datapack/data/html/merchant/30559-bought.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30559-bought.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30559-bought.htm	(revision 341)
@@ -4,5 +4,5 @@
 <a action="bypass -h npc_%objectId%_Buy 83">"I want to buy Warrior equipment."</a><br>
 <a action="bypass -h npc_%objectId%_Buy 84">"I want to buy Wizard equipment."</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">"I want to exchange equipment."</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">"I want to exchange equipment."</a><br>
 <a action="bypass -h npc_%objectId%_Wear 83">"I want to try on Warrior equipment."</a><br>
 <a action="bypass -h npc_%objectId%_Wear 84">"I want to try on Wizard equipment."</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30136.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30136.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30136.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 33">Buy Fighter equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Buy 34">Buy Mystic equipment.</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">Exchange equipment.</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">Exchange equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Wear 33">Wear Fighter equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Wear 34">Wear Mystic equipment.</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30003-bought.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30003-bought.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30003-bought.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 13">Buy Accessories</a><br>
 <a action="bypass -h npc_%objectId%_Buy 355">Buy Spellbooks</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">Exchange equipment</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">Exchange equipment</a><br>
 <a action="bypass -h npc_%objectId%_Sell">Sell</a><br>
 <a action="bypass -h npc_%objectId%_TerritoryStatus">See the Lord and get the tax rate information</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30149.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30149.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30149.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 41">Buy Accessories</a><br>
 <a action="bypass -h npc_%objectId%_Buy 360">Buy Spellbooks</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">Exchange weapon</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">Exchange weapon</a><br>
 <a action="bypass -h npc_%objectId%_Sell">Sell</a><br>
 <a action="bypass -h npc_%objectId%_TerritoryStatus">See the Lord and get the tax rate information.</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30559-sold.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30559-sold.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30559-sold.htm	(revision 341)
@@ -4,5 +4,5 @@
 <a action="bypass -h npc_%objectId%_Buy 83">"I want to buy Warrior equipment."</a><br>
 <a action="bypass -h npc_%objectId%_Buy 84">"I want to buy Wizard equipment."</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">"I want to exchange equipment."</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">"I want to exchange equipment."</a><br>
 <a action="bypass -h npc_%objectId%_Wear 83">"I want to try on Warrior equipment."</a><br>
 <a action="bypass -h npc_%objectId%_Wear 84">"I want to try on Wizard equipment."</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30003-sold.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30003-sold.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30003-sold.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 13">Buy Accessories</a><br>
 <a action="bypass -h npc_%objectId%_Buy 355">Buy Spellbooks</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">Exchange equipment</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">Exchange equipment</a><br>
 <a action="bypass -h npc_%objectId%_Sell">Sell</a><br>
 <a action="bypass -h npc_%objectId%_TerritoryStatus">See the Lord and get the tax rate information</a>
Index: /trunk/aCis_datapack/data/html/merchant/30148-sold.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30148-sold.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30148-sold.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 39">Buy Fighter equipment</a><br>
 <a action="bypass -h npc_%objectId%_Buy 40">Buy Mystic equipment.</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">Exchange Equipment.</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">Exchange Equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Wear 39">Wear Fighter Equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Wear 40">Wear Mystic Equipment."</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30517.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30517.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30517.htm	(revision 341)
@@ -5,5 +5,5 @@
 <a action="bypass -h npc_%objectId%_Buy 77">"I want to buy Warrior equipment."</a><br>
 <a action="bypass -h npc_%objectId%_Buy 78">"I want to buy Wizard equipment."</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">"I want to exchange equipment."</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">"I want to exchange equipment."</a><br>
 <a action="bypass -h npc_%objectId%_Wear 77">"I want to try on Warrior equipment."</a><br>
 <a action="bypass -h npc_%objectId%_Wear 78">"I want to try on Wizard equipment."</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30136-bought.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30136-bought.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30136-bought.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 33">Buy Fighter equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Buy 34">Buy Mystic equipment.</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">Exchange equipment.</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">Exchange equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Wear 33">Wear Fighter equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Wear 34">Wear Mystic equipment.</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30321.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30321.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30321.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 69">Buy Fighter Equipment</a><br>
 <a action="bypass -h npc_%objectId%_Buy 70">Buy Mystic Equipment</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">Exchange Equipment.</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">Exchange Equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Wear 69">Try on Fighter Equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Wear 70">Try on Mystic Equipment.</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30253.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30253.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30253.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 61">Buy warrior gear.</a><br>
 <a action="bypass -h npc_%objectId%_Buy 62">Buy magician gear.</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">Trade Equipment</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">Trade Equipment</a><br>
 <a action="bypass -h npc_%objectId%_Wear 61">Try the warrior gear on.</a><br>
 <a action="bypass -h npc_%objectId%_Wear 62">Try the magician gear on.</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30148-bought.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30148-bought.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30148-bought.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 39">Buy Fighter equipment</a><br>
 <a action="bypass -h npc_%objectId%_Buy 40">Buy Mystic equipment.</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">Exchange Equipment.</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">Exchange Equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Wear 39">Wear Fighter Equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Wear 40">Wear Mystic Equipment."</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30558-bought.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30558-bought.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30558-bought.htm	(revision 341)
@@ -4,5 +4,5 @@
 <a action="bypass -h npc_%objectId%_Buy 81">"I want to buy Warrior equipment."</a><br>
 <a action="bypass -h npc_%objectId%_Buy 82">"I want to buy Wizard equipment."</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">"I want to exchange equipment."</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">"I want to exchange equipment."</a><br>
 <a action="bypass -h npc_%objectId%_Wear 81">"I want to try on Warrior equipment."</a><br>
 <a action="bypass -h npc_%objectId%_Wear 82">"I want to try on Wizard equipment."</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30002-bought.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30002-bought.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30002-bought.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 11">Buy Fighter equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Buy 12">Buy Mystic equipment.</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">Exchange equipment.</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">Exchange equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Wear 11">Wear Warrior equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Wear 12">Wear Mystic equipment.</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30136-sold.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30136-sold.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30136-sold.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 33">Buy Fighter equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Buy 34">Buy Mystic equipment.</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">Exchange equipment.</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">Exchange equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Wear 33">Wear Fighter equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Wear 34">Wear Mystic equipment.</a><br>
Index: /trunk/aCis_datapack/data/html/merchant/30518.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30518.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30518.htm	(revision 341)
@@ -4,5 +4,5 @@
 <a action="bypass -h npc_%objectId%_Buy 79">"I want to buy an accessory."</a><br>
 <a action="bypass -h npc_%objectId%_Sell">Sell</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">"I want to exchange equipment."</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">"I want to exchange equipment."</a><br>
 <a action="bypass -h npc_%objectId%_TerritoryStatus">"Who is the Lord of the manor and what is the tax rate?"</a><br>
 <a action="bypass -h npc_%objectId%_Quest">Quest</a>
Index: /trunk/aCis_datapack/data/html/merchant/30001.htm
===================================================================
--- /trunk/aCis_datapack/data/html/merchant/30001.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/merchant/30001.htm	(revision 341)
@@ -3,5 +3,5 @@
 <a action="bypass -h npc_%objectId%_Buy 1">Buy Fighter equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Buy 2">Buy Mystic equipment.</a><br>
-<a action="bypass -h npc_%objectId%_exc_multisell 003">Exchange equipment.</a><br>
+<a action="bypass -h npc_%objectId%_Newbie_Exc_Multisell 003">Exchange equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Wear 1">Wear Fighter equipment.</a><br>
 <a action="bypass -h npc_%objectId%_Wear 2">Wear Mystic equipment.</a><br>
Index: /trunk/aCis_datapack/data/html/exchangelvlimit.htm
===================================================================
--- /trunk/aCis_datapack/data/html/exchangelvlimit.htm	(revision 341)
+++ /trunk/aCis_datapack/data/html/exchangelvlimit.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>Merchant:<br>
+The right to exchange equipment is reserved for <font color="LEVEL">new characters of level 25 and below.</font><br>
+A new character is the first character that you've developed past level 5 in this world.
+</body></html>
Index: /trunk/aCis_datapack/data/html/admin/announce.htm
===================================================================
--- /trunk/aCis_datapack/data/html/admin/announce.htm	(revision 340)
+++ /trunk/aCis_datapack/data/html/admin/announce.htm	(revision 341)
@@ -42,5 +42,6 @@
 			<tr>
 				<td><button value="Show .xml content" action="bypass -h admin_announce list" width=95 height=21 back="bigbutton_over" fore="bigbutton"></td>
-				<td><button value="Announce .xml" action="bypass -h admin_announce all" width=95 height=21 back="bigbutton_over" fore="bigbutton"></td>
+				<td><button value="Ann. all" action="bypass -h admin_announce all" width=75 height=21 back="L2UI_ch3.Btn1_normalOn" fore="L2UI_ch3.Btn1_normal"></td>
+				<td><button value="Ann. auto" action="bypass -h admin_announce all_auto" width=75 height=21 back="L2UI_ch3.Btn1_normalOn" fore="L2UI_ch3.Btn1_normal"></td>
 			</tr>
 		</table></center>
Index: /trunk/aCis_datapack/data/scripts.cfg
===================================================================
--- /trunk/aCis_datapack/data/scripts.cfg	(revision 340)
+++ /trunk/aCis_datapack/data/scripts.cfg	(revision 341)
@@ -52,5 +52,5 @@
 village_master/Clan/Clan.java
 village_master/FirstClassChange/FirstClassChange.java
-#village_master/SecondClassChange/SecondClassChange.java
+village_master/SecondClassChange/SecondClassChange.java
 
 # Quests Section
@@ -363,5 +363,5 @@
 quests/Q660_AidingTheFloranVillage/Q660_AidingTheFloranVillage.java
 quests/Q661_MakingTheHarvestGroundsSafe/Q661_MakingTheHarvestGroundsSafe.java
-#quests/Q662_AGameOfCards/Q662_AGameOfCards.java
+quests/Q662_AGameOfCards/Q662_AGameOfCards.java
 #quests/Q663_SeductiveWhispers/Q663_SeductiveWhispers.java
 quests/Q688_DefeatTheElrokianRaiders/Q688_DefeatTheElrokianRaiders.java
Index: /trunk/aCis_datapack/data/scripts/ai/individual/Baium.java
===================================================================
--- /trunk/aCis_datapack/data/scripts/ai/individual/Baium.java	(revision 340)
+++ /trunk/aCis_datapack/data/scripts/ai/individual/Baium.java	(revision 341)
@@ -458,5 +458,5 @@
 	 * @return a usable skillId
 	 */
-	private int getRandomSkill(L2Npc npc)
+	private static int getRandomSkill(L2Npc npc)
 	{
 		// Baium's selfheal. It happens exceptionaly.
Index: /trunk/aCis_datapack/data/scripts/ai/individual/Antharas.java
===================================================================
--- /trunk/aCis_datapack/data/scripts/ai/individual/Antharas.java	(revision 340)
+++ /trunk/aCis_datapack/data/scripts/ai/individual/Antharas.java	(revision 341)
@@ -490,4 +490,5 @@
 	/**
 	 * Drop timers, meaning Antharas is dead or inactivity task occured.
+	 * @param npc : The NPC to affect.
 	 */
 	private void dropTimers(L2Npc npc)
Index: /trunk/aCis_datapack/data/scripts/ai/individual/Valakas.java
===================================================================
--- /trunk/aCis_datapack/data/scripts/ai/individual/Valakas.java	(revision 340)
+++ /trunk/aCis_datapack/data/scripts/ai/individual/Valakas.java	(revision 341)
@@ -432,5 +432,5 @@
 	 * @return a usable skillId
 	 */
-	private int getRandomSkill(L2Npc npc)
+	private static int getRandomSkill(L2Npc npc)
 	{
 		final double hpRatio = npc.getCurrentHp() / npc.getMaxHp();
Index: /trunk/aCis_datapack/data/scripts/ai/individual/DrChaos.java
===================================================================
--- /trunk/aCis_datapack/data/scripts/ai/individual/DrChaos.java	(revision 340)
+++ /trunk/aCis_datapack/data/scripts/ai/individual/DrChaos.java	(revision 341)
@@ -272,5 +272,4 @@
 	 * Launches the complete animation.
 	 * @param npc the midget.
-	 * @param player the victim.
 	 */
 	private void crazyMidgetBecomesAngry(L2Npc npc)
Index: /trunk/aCis_datapack/data/scripts/ai/group/HotSpringDisease.java
===================================================================
--- /trunk/aCis_datapack/data/scripts/ai/group/HotSpringDisease.java	(revision 340)
+++ /trunk/aCis_datapack/data/scripts/ai/group/HotSpringDisease.java	(revision 341)
@@ -77,5 +77,5 @@
 	}
 	
-	private void tryToApplyEffect(L2Npc npc, L2PcInstance victim, int skillId)
+	private static void tryToApplyEffect(L2Npc npc, L2PcInstance victim, int skillId)
 	{
 		if (Rnd.get(100) < DISEASE_CHANCE)
@@ -84,5 +84,5 @@
 			
 			L2Effect[] effects = victim.getAllEffects();
-			if (effects.length != 0 || effects != null)
+			if (effects.length != 0)
 			{
 				for (L2Effect e : effects)
Index: /trunk/aCis_datapack/data/scripts/ai/group/FeedableBeasts.java
===================================================================
--- /trunk/aCis_datapack/data/scripts/ai/group/FeedableBeasts.java	(revision 340)
+++ /trunk/aCis_datapack/data/scripts/ai/group/FeedableBeasts.java	(revision 341)
@@ -719,6 +719,6 @@
 		if (growthLevel == 0 && _FeedInfo.containsKey(objectId))
 			return super.onSkillSee(npc, caster, skill, targets, isPet);
-		else
-			_FeedInfo.put(objectId, caster.getObjectId());
+		
+		_FeedInfo.put(objectId, caster.getObjectId());
 		
 		int food = 0;
Index: /trunk/aCis_datapack/data/scripts/ai/AbstractNpcAI.java
===================================================================
--- /trunk/aCis_datapack/data/scripts/ai/AbstractNpcAI.java	(revision 340)
+++ /trunk/aCis_datapack/data/scripts/ai/AbstractNpcAI.java	(revision 341)
@@ -57,5 +57,5 @@
 	/**
 	 * Register a monster on particular event types.
-	 * @param mobs A mob.
+	 * @param mob A mob.
 	 * @param types Types of event to register mob on.
 	 */
Index: /trunk/aCis_datapack/data/scripts/custom/HeroWeapon/HeroWeapon.java
===================================================================
--- /trunk/aCis_datapack/data/scripts/custom/HeroWeapon/HeroWeapon.java	(revision 340)
+++ /trunk/aCis_datapack/data/scripts/custom/HeroWeapon/HeroWeapon.java	(revision 341)
@@ -89,5 +89,5 @@
 	}
 	
-	private boolean hasHeroWeapon(L2PcInstance player)
+	private static boolean hasHeroWeapon(L2PcInstance player)
 	{
 		for (int i : WEAPON_IDS)
Index: /trunk/aCis_datapack/data/scripts/village_master/FirstClassChange/FirstClassChange.java
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/FirstClassChange/FirstClassChange.java	(revision 340)
+++ /trunk/aCis_datapack/data/scripts/village_master/FirstClassChange/FirstClassChange.java	(revision 341)
@@ -23,4 +23,5 @@
 import net.sf.l2j.gameserver.model.quest.Quest;
 import net.sf.l2j.gameserver.model.quest.QuestState;
+import net.sf.l2j.gameserver.network.serverpackets.HennaInfo;
 
 /**
@@ -364,4 +365,5 @@
 						player.setClassId(array[0]);
 						player.setBaseClass(array[0]);
+						player.sendPacket(new HennaInfo(player));
 						player.broadcastUserInfo();
 					}
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-55.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-55.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-55.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+Congratulations! Now you are a Treasure Hunter! You can learn much from the Masters around you.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-59.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-59.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-59.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+Congratulations! Now you are a Hawkeye! You can learn much from the Masters around you.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-20.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-20.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-20.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Destroyer your level must be over 40 and you must collect the Mark of the Challenger, the Mark of Glory, and the Mark of the Champion.<br>
+Obviously you lack the marks and the skills to advance. Come back when you have collected all 3 marks and completed the necessary training and I will change your occupation to Destroyer.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-21.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-21.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-21.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+Congratulations! You are now a Spellsinger! Many ordeals and hardships await you, but I have faith that you will endure. Anything you truly wish for is now within your grasp. May the blessings of Einhasad and Eva be with you always.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-01.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-01.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-01.htm	(revision 341)
@@ -0,0 +1,5 @@
+<html><body>
+An occupational change occurs when one gets promoted to a higher-level occupation. If you are a Palus Knight, you may advance to a <font color="LEVEL">Shillien Knight</font> or a <font color="LEVEL">Bladedancer</font>. Which occupation do you seek?<br>
+<a action="bypass -h Quest SecondClassChange master_de-02.htm">Shillien Knight</a><br>
+<a action="bypass -h Quest SecondClassChange master_de-05.htm">Bladedancer</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-24.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-24.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-24.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become an Overlord your level must be over 40 and you must collect the Mark of the Pilgrim, the Mark of Glory, and the Mark of the Lord.<br>
+Obviously you lack the marks and the skills to advance. Come back when you have collected all 3 marks and completed the necessary training and I will change your occupation to Overlord.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-23.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-23.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-23.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+Congratulations! You have grown further as a child of Einhasad. More ordeals and hardships await you, but I believe you will endure and triumph. Great things come to those who have great dreams.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-40.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-40.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-40.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+In order to be an Abyss Walker your level must be over 40 and you must collect the Mark of the Seeker, the Mark of Fate, and the Mark of the Searcher.<br>
+Your level is adequate but you still haven't brought me all of the marks. Come back after collecting all of the marks and I will change your occupation to Abyss Walker.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-25.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-25.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-25.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+Congratulations! You are now an Elemental Summoner! Many ordeals and hardships await you, but I have faith that you will endure. Anything you truly wish for is now within your grasp. May the blessings of Einhasad and Eva be with you always.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-05.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-05.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-05.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+Shillien Knights focus on the strategies of offense and defense, while Bladedancers fight with blades and use Supplementary Magic to bolster our forces.<br>
+<a action="bypass -h Quest SecondClassChange master_de-06.htm">Description of the Bladedancer</a><br>
+<a action="bypass -h Quest SecondClassChange BD">Change occupations to a Bladedancer</a><br>
+<a action="bypass -h Quest SecondClassChange master_de-01.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-28.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-28.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-28.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Warcrier your level must be over 40 and you must collect the Mark of the Pilgrim, the Mark of Glory, and the Mark of the War Spirit.<br>
+Obviously you lack the marks and the skills to advance. Come back when you have collected all 3 marks and completed the necessary training and I will change your occupation to Warcrier.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-44.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-44.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-44.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+In order to be a Phantom Ranger your level must be over 40 and you must collect the Mark of the Seeker, the Mark of Fate, and the Mark of the Sagittarius.<br>
+Your level is adequate but you still haven't brought me all of the marks. Come back after collecting all of the marks and I will change your occupation to Phantom Ranger.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-29.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-29.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-29.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+Congratulations! Now you are a Sorcerer! Many ordeals and hardships await you, but I have faith that you will endure. Anything you truly wish for is now within your grasp. May the blessings of Einhasad and Eva be with you always..
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-09.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-09.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-09.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+A Shillien Oracle, a worshipper of the Goddess of Darkness Shilen, may advance to Shillien Elder. A Shillien Elder can use both Healing Magic and Supplementary Magic.<br>
+<a action="bypass -h Quest SecondClassChange master_de-10.htm">Description of the Shillien Elder</a><br>
+<a action="bypass -h Quest SecondClassChange SE">Change occupations to a Shillien Elder.</a><br>
+<a action="bypass -h Quest SecondClassChange master_de-08.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-48.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-48.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-48.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+In order to be a Spellhowler your level must be over 40 and you must collect the Mark of the Scholar, the Mark of Fate, and the Mark of the Magus.<br>
+Your level is adequate but you still haven't brought me all of the marks. Come back after collecting all of the marks and I will change your occupation to Spellhowler.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-13.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-13.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-13.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+Hey, aren't you still a Dwarven Fighter? I train Scavengers to become Bounty Hunters. Go home and become a Scavenger, then I can help you with your occupation change.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-17.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-17.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-17.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To advance to Warsmith, your level must be over 40 and you must possess the Mark of the Guildsman, the Mark of Prosperity, and the Mark of the Maestro.<br>
+You have the marks, but your level is not high enough. Come back to me after more training and I will change your occupation to Warsmith. Keep up the good work, young one.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-60.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-60.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-60.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Plainswalker your level must be over 40 and you must collect the Mark of the Seeker, the Mark of Life and the Mark of the Searcher. Obviously your skills need improvement and you have not collected the necessary marks.<br>
+Didn't I make myself clear on the requirements for this occupation earlier? Come back after collecting the marks and increasing your level above 40. Then I shall change your occupation to Plainswalker.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-25.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-25.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-25.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+Each mark requires its own test.<br>
+The <font color="LEVEL">Mark of the Seeker</font> is reserved for those who pass the Trial of the Seeker. You must be above <font color="LEVEL">level 35</font> to qualify. To take this test visit <font color="LEVEL">Master Dufner of Giran Castle Town</font>.<br>
+The <font color="LEVEL">Mark of Life</font> is reserved for those who pass the Testimony of Life. You must be above <font color="LEVEL">level 37</font> to qualify. To take this test visit <font color="LEVEL">Master Cardien of Dion Castle Town</font>.<br>
+And last, the <font color="LEVEL">Mark of the Searcher</font> is reserved for those who pass the Test of the Searcher. You must be above <font color="LEVEL">level 39</font> to qualify. To take this test visit <font color="LEVEL">Master Luther at the Hunters Village</font>.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-24.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-64.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-64.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-64.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Silver Ranger your level must be over 40 and you must collect the Mark of the Seeker, the Mark of Life and the Mark of the Sagittarius. Obviously your skills need improvement and you have not collected the necessary marks.<br>
+Didn't I make myself clear on the requirements for this occupation earlier? Come back after collecting the marks and increasing your level above 40. Then I shall change your occupation to Silver Ranger.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-29.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-29.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-29.htm	(revision 341)
@@ -0,0 +1,5 @@
+<html><body>
+An occupational change occurs when one is promoted to a higher-level occupation. A Warrior like yourself may advance to a <font color="LEVEL">Warlord</font> or a <font color="LEVEL">Gladiator</font>. Which occupation would you like to learn about?<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-30.htm">Gladiator</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-33.htm">Warlord</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-68.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-68.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-68.htm	(revision 341)
@@ -0,0 +1,5 @@
+<html><body>
+To become a Gladiator your level must be over 40 and you need to collect the Mark of the Challenger, the Mark of Trust, and the Mark of the Duelist.<br>
+Obviously your skills need improvement and you have not collected the necessary marks.<br>
+Didn't I make myself clear on the requirements for this occupation earlier? Come back after collecting the marks and increasing your level above 40. Then I shall change your occupation to Gladiator.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-30.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-30.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-30.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Necromancer your level must be over 40 and you must collect the Mark of the Scholar, the Mark of Trust, and the Mark of Witchcraft.<br>
+Obviously your skill level is not high enough and you have not collected all the marks. Return when you have done this and I will change your occupation to Necromancer.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-10.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-10.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-10.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+The Shillien Elder uses Healing Magic and Supplementary Magic together. They are useful in a small party, increasing hit rate and basic abilities.<br>
+To be a Shillien Elder, your level must be over 40 and you must collect the Mark of the Pilgrim, the Mark of Fate, and the Mark of the Reformer.<br>
+<a action="bypass -h Quest SecondClassChange master_de-11.htm">Ask about marks.</a><br>
+<a action="bypass -h Quest SecondClassChange master_de-09.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-33.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-33.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-33.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+You have yet to complete your first occupational change! I only train advanced Orc Fighters and Mystics. If you wish to study with me you must change occupations. Dejakyar Pa'agrio!
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-34.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-34.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-34.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Warlock your level must be over 40 and you must collect the Mark of the Scholar, the Mark of Trust, and the Mark of the Summoner.<br>
+Obviously your skill level is not high enough and you have not collected all the marks. Return when you have done this and I will change your occupation to Warlock.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-14.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-14.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-14.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+The Abyss Walker is quite similar to the Human Treasure Hunter, but stronger. The Abyss Walker is very useful to its party. They can act as an Assassin during Siege Battle, and inflict strong damage upon opponents.<br>
+They have basic skills such as strengthening light equipment and creeping up on enemies and striking deadly blows. They are also quite adept at dodging first attacks by monsters.<br>
+To be a Abyss Walker your level must be over 40 and you must collect the Mark of the Seeker, the Mark of Fate, and the Mark of the Searcher.<br>
+<a action="bypass -h Quest SecondClassChange master_de-15.htm">Ask about marks.</a><br>
+<a action="bypass -h Quest SecondClassChange master_de-13.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-53.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-53.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-53.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+Congratulations! You have at last become a Phantom Summoner! It may feel strange at first, but there is no need to worry. Soon you will start learning from the masters around you.<br>
+May you take the name and power of Shilen to the far corners of the world.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-18.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-18.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-18.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+Each mark requires its own test.<br>
+The <font color="LEVEL">Mark of the Seeker</font> is reserved for those who pass the Trial of the Seeker. You must be above <font color="LEVEL">level 35</font> to qualify. To take this trial you must visit <font color="LEVEL">Master Dufner of Giran Castle Town</font>.<br>
+The <font color="LEVEL">Mark of Fate</font> is reserved for those who pass the Testimony of Fate. You must be above <font color="LEVEL">level 37</font> to qualify. In order to take this test you must go to <font color="LEVEL">Giran Castle Town and meet Dark Elven Magister Kaira</font>.<br>
+And last, the <font color="LEVEL">Mark of the Sagittarius</font> is reserved for those who pass the Test of the Sagittarius. You must be above <font color="LEVEL">level 39</font> to qualify. In order to take this test you must visit the <font color="LEVEL">Guild President Bernard at the Hunters Village</font>.<br>
+<a action="bypass -h Quest SecondClassChange master_de-17.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-38.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-38.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-38.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+You have not changed occupations even once! I only train Wizards to advance.<br>
+If you want to be trained by me, you must first become a Wizard.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-22.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-22.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-22.htm	(revision 341)
@@ -0,0 +1,5 @@
+<html><body>
+I am the Head Blacksmith, and have trained many famous Dwarven Warsmiths. I have nothing to teach someone like you.<br>
+But, you should remember, that armor that you wear would not have been possible but for the miracles of Dwarven technology.<br>
+If you happen to be a Scavanger, you should go visit the Warehouse Chief. If not, never mind.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-30.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-30.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-30.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+Gladiators specialize in individual duels, especially with two swords.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-31.htm">Description of the Gladiator</a><br>
+<a action="bypass -h Quest SecondClassChange GL">Change occupations to a Gladiator.</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-29.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-34.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-34.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-34.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+Warlords specialize in fighting multiple opponents and excel in siege battles. They prefer pole-type weapons.<br>
+To become a Warlord your level must be over 40 and you must collect the Mark of the Challenger, the Mark of Trust, and the Mark of the Champion.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-35.htm">Ask about marks.</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-33.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-73.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-73.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-73.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Warlord your level must be over 40 and you must collect the Mark of the Challenger, the Mark of Trust, and the Mark of the Champion.<br>
+I see that you have all the marks but your skill level is still insufficient. Come back after more training and I shall change your occupation to Warlord.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-38.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-38.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-38.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Temple Knight your level must be over 40 and you must collect the Mark of Duty, the Mark of Life, and the Mark of the Healer.<br>
+Your skill level is good but you have not yet brought all the required marks to me. Bring all 3 marks requested and I will change your occupation to Temple Knight.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-77.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-77.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-77.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+You are limited to two occupational changes.<br>
+You would be better served training yourself. Remember that strength flows from your mind, not your weapon.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-03.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-03.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-03.htm	(revision 341)
@@ -0,0 +1,5 @@
+<html><body>
+The Tyrant is an advanced occupation of the Orc Monk. Lightly armed, their attack is quick and devastating. Known to sacrifice stamina and defense in order to make their attack even faster. In order to become a Tyrant, your level must be over 40 and you must collect the Mark of the Challenger, the Mark of Glory, and the Mark of the Duelist.<br>
+<a action="bypass -h Quest SecondClassChange master_orc-04.htm">Ask about marks</a><br>
+<a action="bypass -h Quest SecondClassChange master_orc-02.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-02.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-02.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-02.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+The Elder serves Eva, the Goddess of Water. The goddess endows Elders with her magical powers.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_buffer-03.htm">Description of the Elven Elder</a><br>
+<a action="bypass -h Quest SecondClassChange EE">Change occupations to an Elven Elder.</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_buffer-01.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-04.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-04.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-04.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+Each mark requires its own trial.<br>
+The <font color="LEVEL">Mark of the Scholar</font> is reserved for those who pass the Trial of the Scholar. You must be above <font color="LEVEL">level 35</font> to qualify. To take this test visit <font color="LEVEL">Magister Mirien in the temple of Dion Castle Town</font>.<br>
+The <font color="LEVEL">Mark of Life</font> is given to those who pass the Testimony of Life. You must be above <font color="LEVEL">level 37</font> to take the test. To take this test visit <font color="LEVEL">Master Cardien of Dion Castle Town</font>.<br>
+And last, the <font color="LEVEL">Mark of the Magus</font> is reserved for those who pass the Test of the Magus. You must be above <font color="LEVEL">level 39</font> to qualify. To take this test visit <font color="LEVEL">Bard Rukal of Dion Castle Town</font>.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_mystic-03.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-07.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-07.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-07.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+Destroyers are courageous Orc Fighters who are best at the front line, wielding huge swords and axes. Orc Raiders advance to this occupation.<br>
+To become a Destroyer, your level must be over 40 and you must collect the Mark of the Challenger, the Mark of Glory, and the Mark of the Champion.<br>
+<a action="bypass -h Quest SecondClassChange master_orc-08.htm">Ask about marks.</a><br>
+<a action="bypass -h Quest SecondClassChange master_orc-06.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-23.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-23.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-23.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+Phantom Summoners are best at using their dark powers and summoning a variety of creatures. They are the highest level of advancement for Dark Wizards learning Summoning Magic.<br>
+<a action="bypass -h Quest SecondClassChange master_de-24.htm">Description of the Phantom Summoner</a><br>
+<a action="bypass -h Quest SecondClassChange PS">Change occupations to a Phantom Summoner.</a><br>
+<a action="bypass -h Quest SecondClassChange master_de-19.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-06.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-06.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-06.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+Bishops trust in the gods and use their power to heal and restore. They are the best practitioners of healing magic.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_buffer-07.htm">Description of the Bishop</a><br>
+<a action="bypass -h Quest SecondClassChange BI">Change occupations to Bishop.</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_buffer-05.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-08.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-08.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-08.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+An occupational change occurs when one gets promoted to a higher-level occupation. A Wizard may advance to a <font color="LEVEL">Sorcerer</font>, a <font color="LEVEL">Necromancer</font>, or a <font color="LEVEL">Warlock</font>. Which occupation would you like to know about?<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_mystic-09.htm">Sorcerer</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_mystic-12.htm">Necromancer</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_mystic-15.htm">Warlock</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-27.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-27.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-27.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+In order to be a Shillien Knight your level must be over 40 and you must collect the Mark of Duty, the Mark of Fate and the Mark of Witchcraft.<br>
+Obviously you have all of the marks but your level is not high enough. Come back after more training and I will change your occupation to Shillien Knight.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-04.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-04.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-04.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+Each mark requires its own test.<br>
+The <font color="LEVEL">Mark of Duty</font> is reserved for those who pass the Trial of Duty. You must be above <font color="LEVEL">level 35</font> to qualify. To take this test visit <font color="LEVEL">Grand Master Hannavalt of Giran Castle Town</font>.<br>
+The <font color="LEVEL">Mark of Life</font> is reserved for those who pass the Testimony of Life. You must be above <font color="LEVEL">level 37</font> to qualify. To take this test visit <font color="LEVEL">Master Cardien of Dion Castle Town</font>.<br>
+And last, the <font color="LEVEL">Mark of the Healer</font> is only given to those who pass the Test of the Healer. You must be above <font color="LEVEL">level 39</font> to qualify. To take this test visit <font color="LEVEL">Priest Bandellos at the Temple of Giran Castle Town</font>.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-03.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-43.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-43.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-43.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+Congratulations! Now you are a Sword Singer! You can learn much from the Masters around you.<br>
+May you always use your skills for the glory of Eva and the advancement of your noble Elven race!
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-08.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-08.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-08.htm	(revision 341)
@@ -0,0 +1,5 @@
+<html><body>
+An occupational change occurs when one is promoted to a higher-level occupation. A Knight like yourself can advance to a <font color="LEVEL">Paladin</font> or an <font color="LEVEL">Dark Avenger</font>. Which occupation would you like to learn about?<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-09.htm">Paladin</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-12.htm">Dark Avenger</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-47.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-47.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-47.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+Congratulations! Now you are a Paladin! You can learn much from the Masters around you.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-12.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-12.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-12.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+Each mark requires its own test.<br>
+The <font color="LEVEL">Mark of the Pilgrim</font> is reserved for those who pass the Trial of the Pilgrim. You must be above <font color="LEVEL">level 35</font> to qualify. To this test visit <font color="LEVEL">Hermit Santiago in the Estate of Gludio</font>. He lives on a farm with Piotur.<br>
+The <font color="LEVEL">Mark of Glory</font> is only given to those who pass the Testimony of Glory. You must be above <font color="LEVEL">level 37</font> to qualify. To take this test visit <font color="LEVEL">Prefect Vokian of Giran Castle Town</font>.<br>
+And last, the <font color="LEVEL">Mark of the Lord</font> is only given to those who pass the Test of the Lord. You must be above <font color="LEVEL">level 39</font> to qualify. To take this test visit <font color="LEVEL">Flame Lord Kakai of the Orc Village</font>.<br>
+<a action="bypass -h Quest SecondClassChange master_orc-11.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-11.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-11.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-11.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+Each mark requires its own trial.<br>
+The <font color="LEVEL">Mark of the Pilgrim</font> is reserved for those who pass the Trial of the Pilgrim. You must be above <font color="LEVEL">level 35</font> to qualify. To take this test you must visit <font color="LEVEL">Hermit Santiago in the Estate of Gludio</font>. He lives on a farm with Piotur.<br>
+The <font color="LEVEL">Mark of Trust</font> is reserved for those who pass the Testimony of Trust. You must be above <font color="LEVEL">level 37</font> to qualify. To take this test, visit <font color="LEVEL">High Priest Hollint at the Town of Oren</font>.<br>
+And last, the <font color="LEVEL">Mark of the Reformer</font> is reserved for those who pass the Trial of the Reformer. You must be above <font color="LEVEL">level 39</font> to qualify. To take this test, visit <font color="LEVEL">Priestess Pupina at the temple of Giran Castle Town</font>.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_buffer-10.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-16.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-16.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-16.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Tyrant your level must be over 40 and you must collect the Mark of the Challenger, the Mark of Glory, and the Mark of the Duelist.<br>
+Obviously you lack the marks and the skills to advance. Come back when you have collected all 3 marks and completed the necessary training and I will change your occupation to Tyrant.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-13.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-13.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-13.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+A Necromancer is an advanced form of Wizard. The Necromancer first weakens his opponent with Black Magic and then summons a zombie to finish him off. Uses poisons effectively on monsters.<br>
+To be a Necromancer, your level must be over 40 and you must collect the Mark of the Scholar, the Mark of Trust, and the Mark of Witchcraft.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_mystic-14.htm">Ask about marks.</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_mystic-12.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-32.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-32.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-32.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+In order to be a Bladedancer your level must be over 40 and you must collect the Mark of the Challenger, the Mark of Fate, and the Mark of the Duelist.<br>
+Your level is adequate but you still haven't brought me all of the marks. Come back after collecting all of the marks and I will change your occupation to Bladedancer.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-15.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-15.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-15.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+Congratulations! You have become a proud Elder of Eva, the Goddess of Water. Your path will doubtless be challenging and rough at times, but I know that you will endure and triumph. Great things come to those who have great dreams. May the blessings of Einhasad always be with you.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-17.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-17.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-17.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+Each mark requires its own test.<br>
+The <font color="LEVEL">Mark of the Scholar</font> is reserved for those who pass the Trial of the Scholar. You must be above <font color="LEVEL">level 35</font> to qualify. To take this test visit <font color="LEVEL">Magister Mirien in the temple of Dion Castle Town</font>.<br>
+The <font color="LEVEL">Mark of Trust</font> is reserved for those who pass the Testimony of Trust. You must be above <font color="LEVEL">level 37</font> to qualify. To take the Testimony of Trust, visit <font color="LEVEL">High Priest Hollint at the Town of Oren</font>.<br>
+And last, the <font color="LEVEL">Mark of the Summoner</font> is reserved for those who pass the Test of the Summoner. You must be above <font color="LEVEL">level 39</font> to qualify. To take this test, visit <font color="LEVEL">High Summoner Galatea of Gludin</font>.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_mystic-16.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-36.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-36.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-36.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+In order to be a Shillien Elder your level must be over 40 and you must collect the Mark of the Pilgrim, the Mark of Fate, and the Mark of the Reformer.<br>
+Your level is adequate but you still haven't brought me all of the marks. Come back after collecting all of the marks and I will change your occupation to Shillien Elder.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-19.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-19.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-19.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+Congratulations! You have grown further as a child of Einhasad. More ordeals and hardships await you, but I believe you will endure them well. Great things come to those who have great dreams. I congratulate you in the name of the God of Light, Einhasad, whom we serve.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-01.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-01.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-01.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+An occupational change occurs when one gets promoted to a higher-level occupation. Scavengers may advance to a <font color="LEVEL">Bounty Hunter</font>. There is no other path.<br>
+<a action="bypass -h Quest SecondClassChange master_dwarf-02.htm">Bounty Hunter</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-05.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-05.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-05.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+Occupations are changed as skill level and experience increase. An Artisan may change to a <font color="LEVEL">Warsmith</font>. Any others? I think not. You have chosen the path of production.<br>
+<a action="bypass -h Quest SecondClassChange master_dwarf-06.htm">Warsmith</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-13.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-13.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-13.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+A Dark Avenger's combat style, party play and role during a siege are similar to the Paladin's. However, Dark Avengers tend to be selfish and evil, and users of Black Magic.<br>
+To become a Dark Avenger your level must be over 40 and you must collect the Mark of Duty, the Mark of Trust, and the Mark of Witchcraft.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-14.htm">Ask about marks.</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-12.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-52.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-52.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-52.htm	(revision 341)
@@ -0,0 +1,5 @@
+<html><body>
+To become a Treasure Hunter your level must be over 40 and you must collect the Mark of the Seeker, the Mark of Trust, and the Mark of the Searcher.<br>
+Obviously your skills need improvement and you have not collected the necessary marks.<br>
+Didn't I make myself clear on the requirements for this occupation earlier? Come back after collecting the marks and increasing your level above 40. Then I shall change your occupation to Treasure Hunter.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-17.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-17.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-17.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+Treasure Hunters have a combat style and party play similar to a Rogue, typically using a dagger. Treasure Hunters are very apt assassins during siege, and are capable of blistering instantaneuous attacks.<br>
+To become a Treasure Hunter, your level must be over 40 and you must collect the Mark of the Seeker, the Mark of Trust, and the Mark of the Searcher.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-18.htm">Ask about marks.</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-16.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-56.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-56.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-56.htm	(revision 341)
@@ -0,0 +1,5 @@
+<html><body>
+To become a Hawkeye your level must be over 40 and you must collect the Mark of the Seeker, the Mark of Trust, and the Mark of the Sagittarius.<br>
+Obviously your skills need improvement and you have not collected the necessary marks.<br>
+Didn't I make myself clear on the requirements for this occupation earlier? Come back after collecting the marks and increasing your level above 40. Then I shall change your occupation to Hawkeye.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-21.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-21.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-21.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Destroyer your level must be over 40 and you must collect the Mark of the Challenger, the Mark of Glory, and the Mark of the Champion.<br>
+I see that you have collected all 3 marks, but lack the training to advance. Come back when you have completed your training and I will advance your occupation to Destroyer.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-20.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-20.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-20.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Prophet your level must be over 40 and you must collect the Mark of the Pilgrim, the Mark of Trust, and the Mark of the Reformer.<br>
+Obviously you lack training and do not have all the marks. Come back to me when you have done this and I will change your occupation to Prophet.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-02.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-02.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-02.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+<font color="LEVEL">Shillien Knights</font> are the cream of the crop of all the Dark Elves.If a Palus Knight trains very hard, he may become a Shillien Knight.<br>
+<a action="bypass -h Quest SecondClassChange master_de-03.htm">Description of the Shillien Knight</a><br>
+<a action="bypass -h Quest SecondClassChange SK">Change occupations to a Shillien Knight.</a><br>
+<a action="bypass -h Quest SecondClassChange master_de-01.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-25.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-25.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-25.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become an Overlord your level must be over 40 and you must collect the Mark of the Pilgrim, the Mark of Glory, and the Mark of the Lord.<br>
+I see that you have collected all 3 marks, but lack the training to advance. Come back when you have completed your training and I will advance your occupation to Overlord.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-22.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-22.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-22.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become an Elemental Summoner your level must be over 40 and you must collect the Mark of the Scholar, the Mark of Life, and the Mark of the Summoner.<br>
+Obviously your skill level is not high enough and you have not collected all the marks. Return when you have done this and I will change your occupation to Elemental Summoner.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-41.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-41.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-41.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+Congratulations! You have at last become a Abyss Walker! It may take some getting used to, but don't worry. You will soon start learning from the masters around you.<br>
+Continue your practice of swordsmanship. May the grace of Shilen be with you always!
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-24.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-24.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-24.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+You have not changed occupations once! I only teach clerics. Come back when you walk the path of service to Einhasad.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-06.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-06.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-06.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+If Shillien Knights are similar to Palus Knights, with a focus on defense, a Bladedancer is the opposite. Their defense skills are the weakest among Knights. They are strongest during party play or sieges, increasing hit rate, using their skills of dance and other Supplementary Magic. They are useful with double blades, magic skills and poisons, but their skills lag behind the Shillien Knights.<br>
+To be a Bladedancer, your level must be over 40 and you must collect the Mark of the Challenger, the Mark of Fate, and the Mark of the Duelist.<br>
+<a action="bypass -h Quest SecondClassChange master_de-07.htm">Ask about marks.</a><br>
+<a action="bypass -h Quest SecondClassChange master_de-05.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-29.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-29.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-29.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Warcrier your level must be over 40 and you must collect the Mark of the Pilgrim, the Mark of Glory, and the Mark of the War Spirit.<br>
+I see that you have collected all 3 marks, but lack the training to advance. Come back when you have completed your training and I will advance your occupation to Warcrier.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-26.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-26.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-26.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Sorcerer your level must be over 40 and you must collect the Mark of the Scholar, the Mark of Trust, and the Mark of the Magus.<br>
+Your skills are impressive but you still must collect all of the required marks. Return to me when you have the marks and I will change your occupation to Sorcerer.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-45.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-45.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-45.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+Congratulations! You have at last become a Phantom Ranger! It may take a while for you to become accustomed to your new position, but soon you will start learning from the masters around you.<br>
+I pray that you become a dignified Phantom Ranger who lives up to the glorious name of Shilen.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-10.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-10.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-10.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Bounty Hunter your level must be over 40 and you must collect the Mark of the Guildsman, the Mark of Prosperity, and the Mark of the Searcher.<br>
+You have all the marks, but still lack the required training. Return to me when you have completed more training and I will advance your occupation to Bounty Hunter. Keep up the good work, young one.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-49.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-49.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-49.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+Congratulations! You have at last become a Spellhowler. It may take you a while to get used to your new position, but soon you will start learning from the masters around you.<br>
+May you always use your awesome power for the glory of Shilen!
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/SecondClassChange.java
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/SecondClassChange.java	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/SecondClassChange.java	(revision 341)
@@ -0,0 +1,876 @@
+/*
+ * This program is free software: you can redistribute it and/or modify it under
+ * the terms of the GNU General Public License as published by the Free Software
+ * Foundation, either version 3 of the License, or (at your option) any later
+ * version.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE. See the GNU General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU General Public License along with
+ * this program. If not, see <http://www.gnu.org/licenses/>.
+ */
+package village_master.SecondClassChange;
+
+import java.util.HashMap;
+import java.util.Map;
+
+import net.sf.l2j.gameserver.model.actor.L2Npc;
+import net.sf.l2j.gameserver.model.actor.instance.L2PcInstance;
+import net.sf.l2j.gameserver.model.base.ClassId;
+import net.sf.l2j.gameserver.model.base.Race;
+import net.sf.l2j.gameserver.model.quest.Quest;
+import net.sf.l2j.gameserver.model.quest.QuestState;
+import net.sf.l2j.gameserver.network.serverpackets.HennaInfo;
+
+/**
+ * @author fernandopm
+ */
+public class SecondClassChange extends Quest
+{
+	private static final String qn = "SecondClassChange";
+	
+	// 2nd class change items
+	private static final int MARK_OF_CHALLENGER = 2627;
+	private static final int MARK_OF_DUTY = 2633;
+	private static final int MARK_OF_SEEKER = 2673;
+	private static final int MARK_OF_SCHOLAR = 2674;
+	private static final int MARK_OF_PILGRIM = 2721;
+	private static final int MARK_OF_DUELIST = 2762;
+	private static final int MARK_OF_SEARCHER = 2809;
+	private static final int MARK_OF_REFORMER = 2821;
+	private static final int MARK_OF_MAGUS = 2840;
+	private static final int MARK_OF_FATE = 3172;
+	private static final int MARK_OF_SAGITTARIUS = 3293;
+	private static final int MARK_OF_WITCHCRAFT = 3307;
+	private static final int MARK_OF_SUMMONER = 3336;
+	private static final int MARK_OF_WARSPIRIT = 2879;
+	private static final int MARK_OF_GLORY = 3203;
+	private static final int MARK_OF_CHAMPION = 3276;
+	private static final int MARK_OF_LORD = 3390;
+	private static final int MARK_OF_GUILDSMAN = 3119;
+	private static final int MARK_OF_PROSPERITY = 3238;
+	private static final int MARK_OF_MAESTRO = 2867;
+	private static final int MARK_OF_TRUST = 2734;
+	private static final int MARK_OF_HEALER = 2820;
+	private static final int MARK_OF_LIFE = 3140;
+	
+	private static final Map<String, int[]> Classes = new HashMap<>();
+	{
+		// Dark Elfs
+		Classes.put("SK", new int[]
+		{
+			33,
+			32,
+			2,
+			26,
+			27,
+			28,
+			29,
+			MARK_OF_DUTY,
+			MARK_OF_FATE,
+			MARK_OF_WITCHCRAFT,
+			56
+		});
+		Classes.put("BD", new int[]
+		{
+			34,
+			32,
+			2,
+			30,
+			31,
+			32,
+			33,
+			MARK_OF_CHALLENGER,
+			MARK_OF_FATE,
+			MARK_OF_DUELIST,
+			56
+		});
+		Classes.put("SE", new int[]
+		{
+			42,
+			43,
+			2,
+			34,
+			35,
+			36,
+			37,
+			MARK_OF_PILGRIM,
+			MARK_OF_FATE,
+			MARK_OF_REFORMER,
+			56
+		});
+		Classes.put("AW", new int[]
+		{
+			36,
+			35,
+			2,
+			38,
+			39,
+			40,
+			41,
+			MARK_OF_SEEKER,
+			MARK_OF_FATE,
+			MARK_OF_SEARCHER,
+			56
+		});
+		Classes.put("PR", new int[]
+		{
+			37,
+			35,
+			2,
+			42,
+			43,
+			44,
+			45,
+			MARK_OF_SEEKER,
+			MARK_OF_FATE,
+			MARK_OF_SAGITTARIUS,
+			56
+		});
+		Classes.put("SH", new int[]
+		{
+			40,
+			39,
+			2,
+			46,
+			47,
+			48,
+			49,
+			MARK_OF_SCHOLAR,
+			MARK_OF_FATE,
+			MARK_OF_MAGUS,
+			56
+		});
+		Classes.put("PS", new int[]
+		{
+			41,
+			39,
+			2,
+			50,
+			51,
+			52,
+			53,
+			MARK_OF_SCHOLAR,
+			MARK_OF_FATE,
+			MARK_OF_SUMMONER,
+			56
+		});
+		// Orcs
+		Classes.put("TY", new int[]
+		{
+			48,
+			47,
+			3,
+			16,
+			17,
+			18,
+			19,
+			MARK_OF_CHALLENGER,
+			MARK_OF_GLORY,
+			MARK_OF_DUELIST,
+			34
+		});
+		Classes.put("DE", new int[]
+		{
+			46,
+			45,
+			3,
+			20,
+			21,
+			22,
+			23,
+			MARK_OF_CHALLENGER,
+			MARK_OF_GLORY,
+			MARK_OF_CHAMPION,
+			34
+		});
+		Classes.put("OL", new int[]
+		{
+			51,
+			50,
+			3,
+			24,
+			25,
+			26,
+			27,
+			MARK_OF_PILGRIM,
+			MARK_OF_GLORY,
+			MARK_OF_LORD,
+			34
+		});
+		Classes.put("WC", new int[]
+		{
+			52,
+			50,
+			3,
+			28,
+			29,
+			30,
+			31,
+			MARK_OF_PILGRIM,
+			MARK_OF_GLORY,
+			MARK_OF_WARSPIRIT,
+			34
+		});
+		// Dwarf
+		Classes.put("BH", new int[]
+		{
+			55,
+			54,
+			4,
+			109, // i can't use 09 so i put 109 :P
+			10,
+			11,
+			12,
+			MARK_OF_GUILDSMAN,
+			MARK_OF_PROSPERITY,
+			MARK_OF_SEARCHER,
+			15
+		});
+		Classes.put("WS", new int[]
+		{
+			57,
+			56,
+			4,
+			16,
+			17,
+			18,
+			19,
+			MARK_OF_GUILDSMAN,
+			MARK_OF_PROSPERITY,
+			MARK_OF_MAESTRO,
+			22
+		});
+		// Human & Elfs Fighters
+		Classes.put("TK", new int[]
+		{
+			20,
+			19,
+			1,
+			36,
+			37,
+			38,
+			39,
+			MARK_OF_DUTY,
+			MARK_OF_LIFE,
+			MARK_OF_HEALER,
+			78
+		});
+		Classes.put("SS", new int[]
+		{
+			21,
+			19,
+			1,
+			40,
+			41,
+			42,
+			43,
+			MARK_OF_CHALLENGER,
+			MARK_OF_LIFE,
+			MARK_OF_DUELIST,
+			78
+		});
+		Classes.put("PL", new int[]
+		{
+			5,
+			4,
+			0,
+			44,
+			45,
+			46,
+			47,
+			MARK_OF_DUTY,
+			MARK_OF_TRUST,
+			MARK_OF_HEALER,
+			78
+		});
+		Classes.put("DA", new int[]
+		{
+			6,
+			4,
+			0,
+			48,
+			49,
+			50,
+			51,
+			MARK_OF_DUTY,
+			MARK_OF_TRUST,
+			MARK_OF_WITCHCRAFT,
+			78
+		});
+		Classes.put("TH", new int[]
+		{
+			8,
+			7,
+			0,
+			52,
+			53,
+			54,
+			55,
+			MARK_OF_SEEKER,
+			MARK_OF_TRUST,
+			MARK_OF_SEARCHER,
+			78
+		});
+		Classes.put("HE", new int[]
+		{
+			9,
+			7,
+			0,
+			56,
+			57,
+			58,
+			59,
+			MARK_OF_SEEKER,
+			MARK_OF_TRUST,
+			MARK_OF_SAGITTARIUS,
+			78
+		});
+		Classes.put("PW", new int[]
+		{
+			23,
+			22,
+			1,
+			60,
+			61,
+			62,
+			63,
+			MARK_OF_SEEKER,
+			MARK_OF_LIFE,
+			MARK_OF_SEARCHER,
+			78
+		});
+		Classes.put("SR", new int[]
+		{
+			24,
+			22,
+			1,
+			64,
+			65,
+			66,
+			67,
+			MARK_OF_SEEKER,
+			MARK_OF_LIFE,
+			MARK_OF_SAGITTARIUS,
+			78
+		});
+		Classes.put("GL", new int[]
+		{
+			2,
+			1,
+			0,
+			68,
+			69,
+			70,
+			71,
+			MARK_OF_CHALLENGER,
+			MARK_OF_TRUST,
+			MARK_OF_DUELIST,
+			78
+		});
+		Classes.put("WL", new int[]
+		{
+			3,
+			1,
+			0,
+			72,
+			73,
+			74,
+			75,
+			MARK_OF_CHALLENGER,
+			MARK_OF_TRUST,
+			MARK_OF_CHAMPION,
+			78
+		});
+		// Human & Elfs Mages (nukers)
+		Classes.put("EW", new int[]
+		{
+			27,
+			26,
+			1,
+			18,
+			19,
+			20,
+			21,
+			MARK_OF_SCHOLAR,
+			MARK_OF_LIFE,
+			MARK_OF_MAGUS,
+			40
+		});
+		Classes.put("ES", new int[]
+		{
+			28,
+			26,
+			1,
+			22,
+			23,
+			24,
+			25,
+			MARK_OF_SCHOLAR,
+			MARK_OF_LIFE,
+			MARK_OF_SUMMONER,
+			40
+		});
+		Classes.put("HS", new int[]
+		{
+			12,
+			11,
+			0,
+			26,
+			27,
+			28,
+			29,
+			MARK_OF_SCHOLAR,
+			MARK_OF_TRUST,
+			MARK_OF_MAGUS,
+			40
+		});
+		Classes.put("HN", new int[]
+		{
+			13,
+			11,
+			0,
+			30,
+			31,
+			32,
+			33,
+			MARK_OF_SCHOLAR,
+			MARK_OF_TRUST,
+			MARK_OF_WITCHCRAFT,
+			40
+		});
+		Classes.put("HW", new int[]
+		{
+			14,
+			11,
+			0,
+			34,
+			35,
+			36,
+			37,
+			MARK_OF_SCHOLAR,
+			MARK_OF_TRUST,
+			MARK_OF_SUMMONER,
+			40
+		});
+		// Human & Elfs Mages (buffers)
+		Classes.put("BI", new int[]
+		{
+			16,
+			15,
+			0,
+			16,
+			17,
+			18,
+			19,
+			MARK_OF_PILGRIM,
+			MARK_OF_TRUST,
+			MARK_OF_HEALER,
+			26
+		});
+		Classes.put("PH", new int[]
+		{
+			17,
+			15,
+			0,
+			20,
+			21,
+			22,
+			23,
+			MARK_OF_PILGRIM,
+			MARK_OF_TRUST,
+			MARK_OF_REFORMER,
+			26
+		});
+		Classes.put("EE", new int[]
+		{
+			30,
+			29,
+			1,
+			12,
+			13,
+			14,
+			15,
+			MARK_OF_PILGRIM,
+			MARK_OF_LIFE,
+			MARK_OF_HEALER,
+			26
+		});
+	}
+	
+	private static final int[] SECONDCLASSNPCS =
+	{
+		// Dark Elfs
+		31328,
+		30195,
+		30699,
+		30474,
+		31324,
+		30862,
+		30910,
+		31285,
+		31331,
+		31334,
+		31974,
+		32096,
+		// Orcs
+		30513,
+		30681,
+		30704,
+		30865,
+		30913,
+		31288,
+		31326,
+		31977,
+		// Dwarf
+		30511,
+		30676,
+		30685,
+		30845,
+		30894,
+		31269,
+		31314,
+		31958,
+		30512,
+		30677,
+		30687,
+		30847,
+		30897,
+		31272,
+		31317,
+		31961,
+		// Human & Elfs Fighters
+		30109,
+		30187,
+		30689,
+		30849,
+		30900,
+		31965,
+		32094,
+		// Human & Elfs Mages (nukers)
+		30115,
+		30174,
+		30176,
+		30694,
+		30854,
+		31996,
+		// Human & Elfs Mages (buffers)
+		30120,
+		30191,
+		30857,
+		30905,
+		31276,
+		31321,
+		31279,
+		31755,
+		31968,
+		32095,
+		31336
+	};
+	
+	public SecondClassChange()
+	{
+		super(-1, qn, "village_master");
+		
+		addStartNpc(SECONDCLASSNPCS);
+		addTalkId(SECONDCLASSNPCS);
+	}
+	
+	@Override
+	public String onAdvEvent(String event, L2Npc npc, L2PcInstance player)
+	{
+		String htmltext = event;
+		QuestState st = player.getQuestState(qn);
+		if (st == null)
+			return htmltext;
+		
+		String suffix = "";
+		if (Classes.containsKey(event))
+		{
+			// 0 = newClass, 1 = reqClass, 2 = reqRace, 3 = no/no, 4 = no/ok, 5 = ok/no, 6 = ok/ok, 7,8,9 = Required Items 10 = denied class
+			final int[] array = Classes.get(event);
+			if (player.getClassId().getId() == array[1] && player.getRace().ordinal() == array[2])
+			{
+				if (player.getLevel() < 40)
+					suffix = "-" + ((st.hasQuestItems(array[7], array[8], array[9])) ? array[4] : array[3]);
+				else
+				{
+					if (st.hasQuestItems(array[7], array[8], array[9]))
+					{
+						st.playSound(QuestState.SOUND_FANFARE);
+						st.takeItems(array[7], -1);
+						st.takeItems(array[8], -1);
+						st.takeItems(array[9], -1);
+						player.setClassId(array[0]);
+						player.setBaseClass(array[0]);
+						player.sendPacket(new HennaInfo(player));
+						player.broadcastUserInfo();
+						suffix = "-" + array[6];
+					}
+					else
+						suffix = "-" + array[5];
+				}
+				
+				htmltext = getClassHtml(player) + suffix + ".htm";
+				st.exitQuest(true);
+			}
+			else
+				htmltext = getClassHtml(player) + "-" + array[10] + ".htm";
+		}
+		
+		return htmltext;
+	}
+	
+	@Override
+	public String onTalk(L2Npc npc, L2PcInstance player)
+	{
+		String htmltext = Quest.getNoQuestMsg();
+		QuestState st = player.getQuestState(qn);
+		if (st == null)
+			return htmltext;
+		
+		if (player.isSubClassActive())
+		{
+			st.exitQuest(true);
+			return htmltext;
+		}
+		
+		switch (npc.getNpcId())
+		{
+			case 31328: // Dark Elfs
+			case 30195:
+			case 30699:
+			case 30474:
+			case 31324:
+			case 30862:
+			case 30910:
+			case 31285:
+			case 31331:
+			case 31334:
+			case 31974:
+			case 32096:
+				if (player.getRace() == Race.DarkElf)
+				{
+					if (player.getClassId().level() == 1)
+					{
+						if (player.getClassId() == ClassId.palusKnight)
+							htmltext = "master_de-01.htm";
+						else if (player.getClassId() == ClassId.shillienOracle)
+							htmltext = "master_de-08.htm";
+						else if (player.getClassId() == ClassId.assassin)
+							htmltext = "master_de-12.htm";
+						else if (player.getClassId() == ClassId.darkWizard)
+							htmltext = "master_de-19.htm";
+					}
+					else
+						htmltext = (player.getClassId().level() == 0) ? "master_de-55.htm" : "master_de-54.htm";
+				}
+				else
+					htmltext = "master_de-56.htm";
+				break;
+			
+			case 30513: // Orcs
+			case 30681:
+			case 30704:
+			case 30865:
+			case 30913:
+			case 31288:
+			case 31326:
+			case 31977:
+				if (player.getRace() == Race.Orc)
+				{
+					if (player.getClassId().level() == 1)
+					{
+						if (player.getClassId() == ClassId.orcMonk)
+							htmltext = "master_orc-01.htm";
+						else if (player.getClassId() == ClassId.orcRaider)
+							htmltext = "master_orc-05.htm";
+						else if (player.getClassId() == ClassId.orcShaman)
+							htmltext = "master_orc-09.htm";
+					}
+					else
+						htmltext = (player.getClassId().level() == 0) ? "master_orc-33.htm" : "master_orc-32.htm";
+				}
+				else
+					htmltext = "master_orc-34.htm";
+				break;
+			
+			case 30511: // Dwarf for Bounty Hunter
+			case 30676:
+			case 30685:
+			case 30845:
+			case 30894:
+			case 31269:
+			case 31314:
+			case 31958:
+				if (player.getRace() == Race.Dwarf)
+				{
+					if (player.getClassId().level() == 1)
+					{
+						if (player.getClassId() == ClassId.scavenger)
+							htmltext = "master_dwarf-01.htm";
+						else if (player.getClassId() == ClassId.artisan)
+							htmltext = "master_dwarf-15.htm";
+					}
+					else
+						htmltext = (player.getClassId().level() == 0) ? "master_dwarf-13.htm" : "master_dwarf-14.htm";
+				}
+				else
+					htmltext = "master_dwarf-15.htm";
+				break;
+			
+			case 30512: // Dwarf for Warsmith
+			case 30677:
+			case 30687:
+			case 30847:
+			case 30897:
+			case 31272:
+			case 31317:
+			case 31961:
+				if (player.getRace() == Race.Dwarf)
+				{
+					if (player.getClassId().level() == 1)
+					{
+						if (player.getClassId() == ClassId.scavenger)
+							htmltext = "master_dwarf-22.htm";
+						else if (player.getClassId() == ClassId.artisan)
+							htmltext = "master_dwarf-05.htm";
+					}
+					else
+						htmltext = (player.getClassId().level() == 0) ? "master_dwarf-20.htm" : "master_dwarf-21.htm";
+				}
+				else
+					htmltext = "master_dwarf-22.htm";
+				break;
+			
+			case 30109: // Human & Elfs Fighters
+			case 30187:
+			case 30689:
+			case 30849:
+			case 30900:
+			case 31965:
+			case 32094:
+				if (player.getRace() == Race.Human || player.getRace() == Race.Elf)
+				{
+					if (player.getClassId().level() == 1)
+					{
+						if (player.getClassId() == ClassId.elvenKnight)
+							htmltext = "master_human_elf_fighter-01.htm";
+						else if (player.getClassId() == ClassId.knight)
+							htmltext = "master_human_elf_fighter-08.htm";
+						else if (player.getClassId() == ClassId.rogue)
+							htmltext = "master_human_elf_fighter-15.htm";
+						else if (player.getClassId() == ClassId.elvenScout)
+							htmltext = "master_human_elf_fighter-22.htm";
+						else if (player.getClassId() == ClassId.warrior)
+							htmltext = "master_human_elf_fighter-29.htm";
+						else
+							htmltext = "master_human_elf_fighter-78.htm";
+					}
+					else
+						htmltext = (player.getClassId().level() == 0) ? "master_human_elf_fighter-76.htm" : "master_human_elf_fighter-77.htm";
+				}
+				else
+					htmltext = "master_human_elf_fighter-78.htm";
+				break;
+			
+			case 30115: // Human & Elfs Mages (nukers)
+			case 30174:
+			case 30176:
+			case 30694:
+			case 30854:
+			case 31996:
+				if (player.getRace() == Race.Elf || player.getRace() == Race.Human)
+				{
+					if (player.getClassId().level() == 1)
+					{
+						if (player.getClassId() == ClassId.elvenWizard)
+							htmltext = "master_human_elf_mystic-01.htm";
+						else if (player.getClassId() == ClassId.wizard)
+							htmltext = "master_human_elf_mystic-08.htm";
+						else
+							htmltext = "master_human_elf_mystic-40.htm";
+					}
+					else
+						htmltext = (player.getClassId().level() == 0) ? "master_human_elf_mystic-38.htm" : "master_human_elf_mystic-39.htm";
+				}
+				else
+					htmltext = "master_human_elf_mystic-40.htm";
+				break;
+			
+			case 30120: // Human & Elfs Mages (buffers)
+			case 30191:
+			case 30857:
+			case 30905:
+			case 31276:
+			case 31321:
+			case 31279:
+			case 31755:
+			case 31968:
+			case 32095:
+			case 31336:
+				if (player.getRace() == Race.Human || player.getRace() == Race.Elf)
+				{
+					if (player.getClassId().level() == 1)
+					{
+						if (player.getClassId() == ClassId.oracle)
+							htmltext = "master_human_elf_buffer-01.htm";
+						else if (player.getClassId() == ClassId.cleric)
+							htmltext = "master_human_elf_buffer-05.htm";
+						else
+							htmltext = "master_human_elf_buffer-26.htm";
+					}
+					else
+						htmltext = (player.getClassId().level() == 0) ? "master_human_elf_buffer-24.htm" : "master_human_elf_buffer-25.htm";
+				}
+				else
+					htmltext = "master_human_elf_buffer-26.htm";
+				break;
+		}
+		st.exitQuest(true);
+		
+		return htmltext;
+	}
+	
+	/**
+	 * @param player : The player to make checks on.
+	 * @return a String corresponding to html directory.
+	 */
+	private static String getClassHtml(L2PcInstance player)
+	{
+		String change = "";
+		
+		switch (player.getRace())
+		{
+			case DarkElf:
+				change = "master_de";
+				break;
+				
+			case Dwarf:
+				change = "master_dwarf";
+				break;
+				
+			case Orc:
+				change = "master_orc";
+				break;
+				
+			case Human:
+			case Elf:
+				if (player.isMageClass())
+					change = (player.getClassId() == ClassId.wizard || player.getClassId() == ClassId.elvenWizard) ? "master_human_elf_mystic" : "master_human_elf_buffer";
+				else
+					change = "master_human_elf_fighter";
+				break;
+		}
+		
+		return change;
+	}
+	
+	public static void main(String[] args)
+	{
+		new SecondClassChange();
+	}
+}
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-14.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-14.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-14.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+You have already changed occupations twice! Go about your business! Why don't you catch a dragon and bring back its scales or pick at a queen ant's corpse?
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-22.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-22.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-22.htm	(revision 341)
@@ -0,0 +1,5 @@
+<html><body>
+An occupational change occurs when one is promoted to a higher-level occupation. An Elven Scout like yourself may advance to a <font color="LEVEL">Plainswalker</font> or a <font color="LEVEL">Silver Ranger</font>. Which occupation would you like to learn about?<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-23.htm">Plainswalker</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-26.htm">Silver Ranger</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-18.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-18.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-18.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To advance to Warsmith, your level must be over 40 and you must possess the Mark of the Guildsman, the Mark of Prosperity, and the Mark of the Maestro.<br>
+I see that you do not yet have all of the marks. Come back when you have them and I will change your occupation to Warsmith.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-61.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-61.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-61.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Plainswalker your level must be over 40 and you must collect the Mark of the Seeker, the Mark of Life, and the Mark of the Searcher.<br>
+I see that you have all the marks but your skill level is still insufficient. Come back after more training and I shall change your occupation to Plainswalker.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-26.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-26.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-26.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+A Silver Ranger is the highest form of Elven archer. A worthy opponent for Human Hawkeyes.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-27.htm">Description of the Silver Ranger</a><br>
+<a action="bypass -h Quest SecondClassChange SR">Change occupations to a Silver Ranger.</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-22.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-65.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-65.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-65.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Silver Ranger your level must be over 40 and you must collect the Mark of the Seeker, the Mark of Life, and the Mark of the Sagittarius.<br>
+I see that you have all the marks but your skill level is still insufficient. Come back after more training and I shall change your occupation to Silver Ranger.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-69.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-69.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-69.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Gladiator your level must be over 40 and you must collect the Mark of the Challenger, the Mark of Trust, and the Mark of the Duelist.<br>
+I see that you have all the marks but your skill level is still insufficient. Come back after more training and I shall change your occupation to Gladiator.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-30.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-30.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-30.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Warcrier your level must be over 40 and you must collect the Mark of the Pilgrim, the Mark of Glory, and the Mark of the War Spirit.<br>
+Your training is impressive but you still have not collected all 3 marks. Return to me when you get the marks and I will advance your occupation to Warcrier.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-11.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-11.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-11.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+Each mark requires its own test.<br>
+The <font color="LEVEL">Mark of the Pilgrim</font> is only given to those who pass the Trial of the Pilgrim. You must be above <font color="LEVEL">level 35</font> to qualify. To take this trial you must visit the <font color="LEVEL">Hermit Santiago in the Estate of Gludio</font>. He lives at a farm with Piotur.<br>
+The <font color="LEVEL">Mark of Fate</font> is reserved for those who pass the Testimony of Fate. You must be above <font color="LEVEL">level 37</font> to qualify. To take the Testimony of Fate you must go to <font color="LEVEL">Giran Castle Town and meet Dark Elven Magister Kaira</font>.<br>
+And last, the <font color="LEVEL">Mark of the Reformer</font> is reserved for those who pass the Trial of the Reformer. You must be above <font color="LEVEL">level 39</font> to qualify. To take the Trial of the Reformer, visit <font color="LEVEL">Priestess Pupina at the temple of Giran Castle Town</font>.<br>
+<a action="bypass -h Quest SecondClassChange master_de-10.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-34.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-34.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-34.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+I teach Great Orcs under the authority of the Lord of Eternal Flame, Pa'agrio!<br>
+If you are serious about changing occupations, go and find a guild that suits you.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-31.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-31.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-31.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Necromancer your level must be over 40 and you must collect the Mark of the Scholar, the Mark of Trust, and the Mark of Witchcraft.<br>
+I see that you have all the marks, but you still require more training. Return when you have advanced your skill level and I will change your occupation to Necromancer.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-50.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-50.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-50.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+In order to be a Phantom Summoner your level must be above 40 and you must collect the Mark of the Scholar, the Mark of Fate, and the Mark of the Summoner.<br>
+Obviously your level is not high enough and you don't have all of the marks. Come back when you have done this and I will change your occupation to Phantom Summoner.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-15.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-15.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-15.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+Each mark requires its own test.<br>
+The <font color="LEVEL">Mark of the Seeker</font> is reserved for those who pass the Trial of the Seeker. You must be above <font color="LEVEL">level 35</font> to qualify. To take this test you must visit <font color="LEVEL">Master Dufner of Giran Castle Town</font>.<br>
+The <font color="LEVEL">Mark of Fate</font> is reserved for those who pass the Testimony of Fate. You must be above <font color="LEVEL">level 37</font> to qualify. To take this test, go to <font color="LEVEL">Giran Castle Town and meet Dark Elven Magister Kaira</font>.<br>
+And finally, the <font color="LEVEL">Mark of the Searcher</font> is only given to those who pass the Test of the Searcher. You must be above <font color="LEVEL">level 39</font> to qualify. To take this test, visit <font color="LEVEL">Master Luther at the Hunters Village</font>.<br>
+<a action="bypass -h Quest SecondClassChange master_de-14.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-35.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-35.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-35.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Warlock your level must be over 40 and you must collect the Mark of the Scholar, the Mark of Trust, and the Mark of the Summoner.<br>
+I see that you have all the marks, but you still require more training. Return when you have advanced your skill level and I will change your occupation to Warlock.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-54.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-54.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-54.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+How splendid! Already changed occupations twice, have you? Even if you wanted to change again you couldn't!<br>
+The future of our race is assured with such promising young Dark Elves as yourself!
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-19.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-19.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-19.htm	(revision 341)
@@ -0,0 +1,5 @@
+<html><body>
+An occupational change occurs when one is promoted to a higher-level occupation. Dark Wizards like yourself may advance to a <font color="LEVEL">Spellhowler</font> or <font color="LEVEL">Phantom Summoner</font>. Which occupation would you choose?<br>
+<a action="bypass -h Quest SecondClassChange master_de-20.htm">Spellhowler</a><br>
+<a action="bypass -h Quest SecondClassChange master_de-23.htm">Phantom Summoner</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-39.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-39.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-39.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+You have changed occupations twice and are now a higher-level being.<br>
+This continent bears the scars of the repeated misuse of magic, and is now paying the price for it with the Sea of Spores and the Wastelands... That is why you must use magic only for good.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-31.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-31.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-31.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+Gladiators typically shun heavy armor and excel in hand-to-hand combat. They are among the strongest non-magical characters, carrying blades in both hands and having the capability of strong, repeated slashings.<br>
+To become a Gladiator your level must be over 40 and you must collect the Mark of the Challenger, the Mark of Trust, and the Mark of the Duelist.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-32.htm">Ask about marks.</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-30.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-70.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-70.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-70.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+To become a Gladiator your level must be over 40 and you must collect the Mark of the Challenger, the Mark of Trust, and the Mark of the Duelist. Your skill level is good but you have not yet brought all the required marks to me. Bring all 3 marks requested and I will change your occupation to Gladiator.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-35.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-35.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-35.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+Each mark requires its own trial.<br>
+The <font color="LEVEL">Mark of the Challenger</font> is reserved for those who pass the Trial of the Challenger. You must be above <font color="LEVEL">level 35</font> to qualify. To take this test visit <font color="LEVEL">Kash of Dion Castle Town</font>.<br>
+The <font color="LEVEL">Mark of Trust</font> is only given to those who pass the Testimony of Trust. You must be above <font color="LEVEL">level 37</font> to qualify. To take this test visit <font color="LEVEL">High Priest Hollint at the Town of Oren</font>.<br>
+And last, the <font color="LEVEL">Mark of the Champion</font> is reserved for those who pass the Test of the Champion. You must be above <font color="LEVEL">level 39</font> to qualify. To take this test visit <font color="LEVEL">Veteran Ascalon of Giran Castle Town</font>.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-34.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-74.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-74.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-74.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+To become a Warlord your level must be over 40 and you must collect the Mark of the Challenger, the Mark of Trust, and the Mark of the Champion. Your skill level is good but you have not yet brought all the required marks to me. Bring all 3 marks requested and I will change your occupation to Warlord.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-39.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-39.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-39.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+Congratulations! Now you are a noble Temple Knight. You can learn much from the Masters around you.<br>
+I pray that you will always devote your life to the glory of Eva, and always remain loyal to your noble Elven heritage!
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-78.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-78.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-78.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+I only teach higher level Human and Elven Fighters, I have nothing to teach you. If you wish to change occupations, you must go to a guild which suits you.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-04.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-04.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-04.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+Each mark requires its own test.<br>
+The <font color="LEVEL">Mark of the Challenger</font> is reserved for those who pass the Trial of the Challenger. You must be above <font color="LEVEL">level 35</font> to qualify. To take this test visit <font color="LEVEL">Kash of Dion Castle Town</font>.<br>
+The <font color="LEVEL">Mark of Glory</font> is reserved for those who pass the Testimony of Glory. You must be above <font color="LEVEL">level 37</font> to qualify. To take this test visit <font color="LEVEL">Prefect Vokian of Giran Castle Town</font>.<br>
+And last, the <font color="LEVEL">Mark of the Duelist</font> is reserved for those who pass the Test of the Duelist. You must be above <font color="LEVEL">level 39</font> to qualify. To take this test meet <font color="LEVEL">Duelist Kaien of the Town of Oren</font>.<br>
+<a action="bypass -h Quest SecondClassChange master_orc-03.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-01.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-01.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-01.htm	(revision 341)
@@ -0,0 +1,5 @@
+<html><body>
+An occupational change occurs when one gets promoted to a higher-level occupation. An Elven Wizard may advance to a <font color="LEVEL">Spellsinger</font> or an <font color="LEVEL">Elemental Summoner</font>. Which occupation do you want to know about?<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_mystic-02.htm">Spellsinger</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_mystic-05.htm">Elemental Summoner</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-20.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-20.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-20.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+A Spellhowler is capable of strong magical attacks. Dark Wizards may advance to Spellhowler.<br>
+<a action="bypass -h Quest SecondClassChange master_de-21.htm">Description of the Spellhowler</a><br>
+<a action="bypass -h Quest SecondClassChange SH">Change occupations to a Spellhowler.</a><br>
+<a action="bypass -h Quest SecondClassChange master_de-19.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-40.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-40.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-40.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+I exclusively teach Wizards and Elven Wizards. If you wish to change occupations you should find a guild suitable for you.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-03.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-03.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-03.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+Elders practice both healing and supplementary magic. Elders do not specialize in one particular skill and thus are quite useful during small party play.<br>
+They increase defense and evasion and are capable of healing allies and inflicting strong damage on the undead.<br>
+To be an Elder, your level must be over 40 and you must collect the Mark of the Pilgrim, the Mark of Life, and the Mark of the Healer.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_buffer-04.htm">Ask about marks.</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_buffer-02.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-08.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-08.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-08.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+Each mark requires its own trial.<br>
+The <font color="LEVEL">Mark of the Challenger</font> is reserved for those who pass the Trial of the Challenger. You must be above <font color="LEVEL">level 35</font> to qualify. To take this test visit <font color="LEVEL">Kash of Dion Castle Town</font>.<br>
+The <font color="LEVEL">Mark of Glory</font> is only given to those who pass the Testimony of Glory. You must be above <font color="LEVEL">level 37</font> to qualify. To take this test visit <font color="LEVEL">Prefect Vokian of Giran Castle Town</font>.<br>
+And last, the <font color="LEVEL">Mark of the Champion</font> is only given to those who pass the Test of the Champion. You must be above <font color="LEVEL">level 39</font> to qualify. To take this test visit <font color="LEVEL">Veteran Ascalon of Giran Castle Town</font>.<br>
+<a action="bypass -h Quest SecondClassChange master_orc-07.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-05.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-05.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-05.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+The Elemental Summoner is the utmost level of Elven Wizard, with summoning skills second to none.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_mystic-06.htm">Description of the Elemental Summoner</a><br>
+<a action="bypass -h Quest SecondClassChange ES">Change occupations to an Elemental Summoner.</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_mystic-01.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-24.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-24.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-24.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+The Phantom Summoner usually hunts alone and fights cooperatively with the creature(s) he has summoned. It is important that enough creatures be summoned depending on the situation. His summoning skills and magic attack make him useful to a party.<br>
+To be a Phantom Summoner, your level must be over 40 and you must collect the Mark of the Scholar, the Mark of Fate, and the Mark of the Summoner.<br>
+<a action="bypass -h Quest SecondClassChange master_de-25.htm">Ask about marks.</a><br>
+<a action="bypass -h Quest SecondClassChange master_de-23.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-07.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-07.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-07.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+The Bishop is an expert in healing magic. He fights best in groups, and becomes vital in party play or siege. Even strong fighters will appreciate the presence of a Bishop.<br>
+Bishops can revive the dead and are capable of strong white magic attacks.<br>
+To be a Bishop, your level must be over 40 and you must collect the Mark of the Pilgrim, the Mark of Trust, and the Mark of the Healer.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_buffer-08.htm">Ask about marks.</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_buffer-06.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-09.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-09.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-09.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+A Sorcerer has ultimate control of the 4 elements, with elemental magic skills second to none.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_mystic-10.htm">Description of the Sorcerer</a><br>
+<a action="bypass -h Quest SecondClassChange HS">Change occupations to a Sorcerer.</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_mystic-08.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-28.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-28.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-28.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+In order to be a Shillien Knight your level must be over 40 and you must collect the Mark of Duty, the Mark of Fate and the Mark of Witchcraft.<br>
+Your level is adequate but you still haven't brought me all of the marks. Come back after collecting all of the marks and I will change your occupation to Shillien Knight.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-01.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-01.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-01.htm	(revision 341)
@@ -0,0 +1,5 @@
+<html><body>
+An occupational change occurs when one is promoted to a higher-level occupation. An Elven Knight like yourself may advance to a <font color="LEVEL">Temple Knight</font> or a <font color="LEVEL">Sword Singer</font>. Which occupation would you like to learn about?<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-02.htm">Temple Knight</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-05.htm">Swordsinger</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-40.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-40.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-40.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Sword Singer your level must be over 40 and you must collect the Mark of the Challenger, the Mark of Life, and the Mark of the Duelist. Obviously your skills need improvement and you have not collected the necessary marks.<br>
+Didn't I make myself clear on the requirements for this occupation earlier? Come back after collecting the marks and increasing your level above 40. Then I shall change your occupation to Sword Singer.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-05.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-05.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-05.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+Sword Singers are swordsmen who increase the attack power of their allies on the battlefield.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-06.htm">Description of the Swordsinger</a><br>
+<a action="bypass -h Quest SecondClassChange SS">Change occupations to a Swordsinger.</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-01.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-44.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-44.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-44.htm	(revision 341)
@@ -0,0 +1,5 @@
+<html><body>
+To become a Paladin your level must be over 40 and you must collect the Mark of Duty, the Mark of Trust, and the Mark of the Healer.<br>
+Obviously your skills need improvement and you have not collected the necessary marks.<br>
+Didn't I make myself clear on the requirements for this occupation earlier? Come back after collecting the marks and increasing your level above 40. Then I shall change your occupation to Paladin.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-09.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-09.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-09.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+Paladins are above all else loyal to the King and faithful to Einhasad. They are superior swordsmen and are capable of high-level magic attacks.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-10.htm">Description of the Paladin</a><br>
+<a action="bypass -h Quest SecondClassChange PL">Change occupations to a Paladin.</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-08.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-48.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-48.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-48.htm	(revision 341)
@@ -0,0 +1,5 @@
+<html><body>
+To become a Dark Avenger your level must be over 40 and you must collect the Mark of Duty, the Mark of Trust, and the Mark of Witchcraft.<br>
+Obviously your skills need improvement and you have not collected the necessary marks.<br>
+Didn't I make myself clear on the requirements for this occupation earlier? Come back after collecting the marks and increasing your level above 40. Then I shall change your occupation to Dark Avenger.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-13.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-13.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-13.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+Warcriers are advanced form of Shaman. They burst into song at the peak of battle to bolster the fighting spirit. Also capable of supplementary magic.<br>
+<a action="bypass -h Quest SecondClassChange master_orc-14.htm">Description of the Warcrier</a><br>
+<a action="bypass -h Quest SecondClassChange WC">Change occupations to a Warcrier.</a><br>
+<a action="bypass -h Quest SecondClassChange master_orc-09.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-10.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-10.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-10.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+A Sorcerer is an advanced form of a Wizard. Uses elemental magic for long-range offensive attack. Strong offensive power but lacks stamina. Works best with a party. Very valuable during melee and siege. With groups of other sorcerers becomes a most fearsome battlefield weapon.<br>
+To become a Sorcerer your level must be over 40 and you must collect the Mark of the Scholar, the Mark of Trust, and the Mark of the Magus.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_mystic-11.htm">Ask about marks.</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_mystic-09.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-12.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-12.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-12.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become an Elder your level must be over 40 and you must collect the Mark of the Pilgrim, the Mark of Life, and the Mark of the Healer.<br>
+Obviously you lack training and do not have all the marks. Come back to me when you have done this and I will change your occupation to Elder.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-17.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-17.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-17.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Tyrant your level must be over 40 and you must collect the Mark of the Challenger, the Mark of Glory, and the Mark of the Duelist.<br>
+I see that you have collected all 3 marks, but lack the training to advance. Come back when you have completed your training and I will advance your occupation to Tyrant.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-14.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-14.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-14.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+Each mark requires its own trial.<br>
+The <font color="LEVEL">Mark of the Scholar</font> is only given to those who pass the Trial of the Scholar. You must be above <font color="LEVEL">level 35</font> to qualify. To take this test visit <font color="LEVEL">Magister Mirien in the temple of Dion Castle Town</font>.<br>
+The <font color="LEVEL">Mark of Trust</font> is reserved for those who pass the Testimony of Trust. You must be above <font color="LEVEL">level 37</font> to qualify. To take this test visit <font color="LEVEL">High Priest Hollint at the Town of Oren</font>.<br>
+And last, the <font color="LEVEL">Mark of Witchcraft</font> is reserved for those who pass the Test of Witchcraft. You must be above <font color="LEVEL">level 39</font> to qualify. To take this test go to the <font color="LEVEL">Death Pass and visit Orim of the Shadow</font>.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_mystic-13.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-16.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-16.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-16.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Bishop your level must be over 40 and you need to collect the Mark of the Pilgrim, the Mark of Trust, and the Mark of the Healer.<br>
+Obviously you lack training and do not have all the marks. Come back to me when you have done this and I will change your occupation to Bishop.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-33.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-33.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-33.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+Congratulations! You have at last become a Bladedancer of the proud Dark Elves! It may take time to get accustomed to your new occupation, but you will soon start learning from the Masters around you.<br>
+May your dignity and devotion to Shilen remain strong always. You must never stop learning. Congratulations again on becoming a Bladedancer!
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-18.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-18.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-18.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Spellsinger your level must be over 40 and you must collect the Mark of the Scholar, the Mark of Life, and the Mark of the Magus.<br>
+Obviously your skill level is not high enough and you have not collected all the marks. Return when you have done this and I will change your occupation to Spellsinger.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-37.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-37.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-37.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+Congratulations! You have at last become an Shillien Elder of the proud Dark Elves! It may take some getting used to, but don't worry. You will soon start learning from the Masters around you.<br>
+Remember to always carry yourself with the dignity befitting your position. May you carry the awesome power of Shilen with you always.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-02.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-02.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-02.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+A Bounty Hunter is the most advanced Scavenger. They will risk their lives in order to collect certain materials.<br>
+<a action="bypass -h Quest SecondClassChange master_dwarf-03.htm">Description of the Bounty Hunter</a><br>
+<a action="bypass -h Quest SecondClassChange BH">Change occupations to a Bounty Hunter.</a><br>
+<a action="bypass -h Quest SecondClassChange master_dwarf-01.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-10.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-10.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-10.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+With a style of combat similar to a knight, Paladins mainly serve a support role in parties. Capable of strong white magic attacks, their strongest attribute is guarding gates or doors, and blocking strongholds during a siege. Excellent at causing diversions.<br>
+To be a Paladin, your level must be over 40 and you must collect the Mark of Duty, the Mark of Trust, and the Mark of the Healer.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-11.htm">Ask about marks.</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-09.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-06.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-06.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-06.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+The profession of Warsmith is a noble step up for an Artisan such as yourself!<br>
+<a action="bypass -h Quest SecondClassChange master_dwarf-07.htm">Description of the Warsmith</a><br>
+<a action="bypass -h Quest SecondClassChange WS">Change occupations to a Warsmith.</a><br>
+<a action="bypass -h Quest SecondClassChange master_dwarf-05.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-14.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-14.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-14.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+To become a Dark Avenger you must collect three marks.<br>
+The <font color="LEVEL">Mark of Duty</font> is reserved for those who pass the Trial of Duty. You must be above <font color="LEVEL">level 35</font> to qualify. To take this test visit <font color="LEVEL">Grand Master Hannavalt of Giran Castle Town</font>.<br>
+The <font color="LEVEL">Mark of Trust</font> is reserved for those who pass the Testimony of Trust. You must be above <font color="LEVEL">level 37</font> to qualify. To take this test visit <font color="LEVEL">High Priest Hollint at the Town of Oren</font>.<br>
+And last, the <font color="LEVEL">Mark of Witchcraft</font> is reserved for those who pass the Test of Witchcraft. You must be above <font color="LEVEL">level 39</font> to qualify. To take this test go to the <font color="LEVEL">Death Pass and visit Orim of the Shadow</font>.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-13.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-53.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-53.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-53.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+To become a Treasure Hunter your level must be over 40 and you must collect the Mark of the Seeker, the Mark of Trust, and the Mark of the Searcher. I see that you have all the marks but your skill level is still insufficient. Come back after more training and I shall change your occupation to Treasure Hunter.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-18.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-18.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-18.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+Each mark requires its own trial.<br>
+The <font color="LEVEL">Mark of the Seeker</font> is reserved for those who pass the Trial of the Seeker. You must be above <font color="LEVEL">level 35</font> to qualify. To take this test visit <font color="LEVEL">Master Dufner of Giran Castle Town</font>.<br>
+The <font color="LEVEL">Mark of Trust</font> is reserved for those who pass the Testimony of Trust. You must be above <font color="LEVEL">level 37</font> to qualify. To take this test visit <font color="LEVEL">High Priest Hollint at the Town of Oren</font>.<br>
+And last, the <font color="LEVEL">Mark of the Searcher</font> is reserved for those who pass the Test of the Searcher. You must be above <font color="LEVEL">level 39</font> to qualify. To take this test visit <font color="LEVEL">Master Luther at the Hunters Village</font>.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-17.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-57.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-57.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-57.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+To become a Hawkeye your level must be over 40 and you must collect the Mark of the Seeker, the Mark of Trust, and the Mark of the Sagittarius. I see that you have all the marks but your skill level is still insufficient. Come back after more training and I shall change your occupation to Hawkeye.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-22.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-22.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-22.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Destroyer your level must be over 40 and you must collect the Mark of the Challenger, the Mark of Glory, and the Mark of the Champion.<br>
+Your training is impressive but you still have not collected all 3 marks. Return to me when you get the marks and I will advance your occupation to Destroyer.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-21.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-21.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-21.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Prophet your level must be over 40 and you must collect the Mark of the Pilgrim, the Mark of Trust, and the Mark of the Reformer.<br>
+Obviously you lack training even though you have all the marks. Come back to me when you have done more training and I will change your occupation to Prophet.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-26.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-26.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-26.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become an Overlord your level must be over 40 and you must collect the Mark of the Pilgrim, the Mark of Glory, and the Mark of the Lord.<br>
+Your training is impressive but you still have not collected all 3 marks. Return to me when you get the marks and I will advance your occupation to Overlord.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-03.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-03.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-03.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+The Shillien Knight focuses on strategies of offense and defense,much like the Knights of other races. Their defensive skills are exemplary. Perhaps their most valuable skill, however, is their ability to summon Cubics.<br>
+Cubics use Black Magic, strengthen equipment, and will poison, slow down, and drain the energy of opponents.<br>
+To be a Shillien Knight, your level must be over 40 and you must collect the Mark of Duty, the Mark of Fate and the Mark of Witchcraft.<br>
+<a action="bypass -h Quest SecondClassChange master_de-04.htm">Ask about marks.</a><br>
+<a action="bypass -h Quest SecondClassChange master_de-02.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-23.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-23.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-23.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become an Elemental Summoner your level must be over 40 and you must collect the Mark of the Scholar, the Mark of Life, and the Mark of the Summoner.<br>
+I see that you have all the marks, but you still require more training. Return when you have advanced your skill level and I will change your occupation to Elemental Summoner.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-42.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-42.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-42.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+In order to be a Phantom Ranger your level must be over 40 and you must collect the Mark of the Seeker, the Mark of Fate, and the Mark of the Sagittarius.<br>
+Obviously your level is not high enough and you don't have all of the marks. Come back when you have done this and I will change your occupation to Phantom Ranger.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-25.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-25.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-25.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+You are limited to two occupational changes.<br>
+Judging by your strength, I feel that your faith is stronger than others. Keep this faith always, and and constantly move forward. May the will of Einhasad guide you on path of righteousness.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-07.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-07.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-07.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+Each mark requires its own test.<br>
+The <font color="LEVEL">Mark of the Challenger</font> is reserved for those who pass the Trial of the Challenger. You must be above <font color="LEVEL">level 35</font> to take the test. To take this test you must visit <font color="LEVEL">Kash of Dion Castle Town</font>.<br>
+The <font color="LEVEL">Mark of Fate</font> is only given to those who pass the Testimony of Fate. You must be above <font color="LEVEL">level 37</font> to take the test. To take the Testimony of Fate, go to <font color="LEVEL">Giran Castle Town and meet Dark Elven Magister Kaira</font>.<br>
+And finally the <font color="LEVEL">Mark of the Duelist</font> is reserved for those who pass the Test of the Duelist. You must be above <font color="LEVEL">level 39</font> to qualify. To take the Test of the Dualist, meet <font color="LEVEL">Dualist Kaien of the Town of Oren</font>.<br>
+<a action="bypass -h Quest SecondClassChange master_de-06.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-27.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-27.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-27.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Sorcerer your level must be over 40 and you must collect the Mark of the Scholar, the Mark of Trust, and the Mark of the Magus.<br>
+I see that you have all the marks, but you still require more training. Return when you have advanced your skill level and I will change your occupation to Sorcerer.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-46.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-46.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-46.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+In order to be a Spellhowler your level must be over 40 and you must collect the Mark of the Scholar, the Mark of Fate, and the Mark of the Magus.<br>
+Obviously your level is not high enough and you don't have all of the marks. Come back after doing this and I will change your occupation to Spellhowler.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-11.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-11.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-11.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Bounty Hunter your level must be over 40 and you must collect the Mark of the Guildsman, the Mark of Prosperity, and the Mark of the Searcher.<br>
+Your training is impressive but you do not have the required marks. Return to me when you have the marks and I will advance your occupation to Bounty Hunter.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-15.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-15.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-15.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+I am known far and wide as a trainer of famous Dwarven Bounty Hunters. I have no business with a novice like you. If you are so intent on changing occupations, go and find a guild that is suitable for you.<br>
+On the off chance that you might be an Artisan, you should go visit the Head Blacksmith.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-23.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-23.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-23.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+The Plainswalker is a lithe, dextrous adventurer.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-24.htm">Description of the Plainswalker</a><br>
+<a action="bypass -h Quest SecondClassChange PW">Change occupations to a Plainswalker.</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-22.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-19.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-19.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-19.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+At last you are a proud Warsmith! You can learn much from the Blacksmiths over there. They will be glad to teach you. I hope that one day you will be a fine maker of siege golems! Congratulations!
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-62.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-62.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-62.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Plainswalker your level must be over 40 and you must collect the Mark of the Seeker, the Mark of Life, and the Mark of the Searcher.<br>
+Your skill level is good but you have not yet brought all the required marks to me. Bring all 3 marks requested and I will change your occupation to Plainswalker.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-27.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-27.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-27.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+A Silver Ranger is similar to a Human Hawkeye, But his evasion and hit rate are superior. He is most dreaded during Siege Battle. Even a Paladin cannot outlast an attack by a group of them.<br>
+Their archery skills include strengthening their bows and shooting several arrows simultaneously.<br>
+To become a Silver Ranger your level must be over 40 and you must collect the Mark of the Seeker, the Mark of Life, and the Mark of the Sagittarius.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-28.htm">Ask about marks.</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-26.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-66.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-66.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-66.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Silver Ranger your level must be over 40 and you must collect the Mark of the Seeker, the Mark of Life, and the Mark of the Sagittarius.<br>
+Your skill level is good but you have not yet brought all the required marks to me. Bring all 3 marks requested and I will change your occupation to Silver Ranger.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-31.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-31.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-31.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+Dejakyar Pa'agrio! Congratulations! You have become a Warcrier! Remember to always uphold the honor of the Orcs.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-12.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-12.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-12.htm	(revision 341)
@@ -0,0 +1,5 @@
+<html><body>
+An occupational change occurs when one is promoted to a higher-level occupation. The Assassin may advance to a <font color="LEVEL">Abyss Walker</font> or a <font color="LEVEL">Phantom Ranger</font>. Which advancement would you choose?<br>
+<a action="bypass -h Quest SecondClassChange master_de-13.htm">Abyss Walker</a><br>
+<a action="bypass -h Quest SecondClassChange master_de-16.htm">Phantom Ranger</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-32.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-32.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-32.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Necromancer your level must be over 40 and you must collect the Mark of the Scholar, the Mark of Trust, and the Mark of Witchcraft.<br>
+Your skills are impressive but you still must collect all of the required marks. Return to me when you have the marks and I will change your occupation to Necromancer.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-109.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-109.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-109.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Bounty Hunter your level must be over 40 and you must collect the Mark of the Guildsman, the Mark of Prosperity, and the Mark of the Searcher.<br>
+Obviously you do not have the marks or the requisite skills to advance. Come back when you have the marks and the training and I will advance your occupation to Bounty Hunter.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-51.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-51.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-51.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+In order to be a Phantom Summoner your level must be over 40 and you must collect the Mark of the Scholar, the Mark of Fate, and the Mark of the Summoner.<br>
+I see that you have all of the marks, but your level is not high enough. Come back after more training and I will change your occupation to Phantom Summoner.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-36.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-36.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-36.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Warlock your level must be over 40 and you must collect the Mark of the Scholar, the Mark of Trust, and the Mark of the Summoner.<br>
+Your skills are impressive but you still must collect all of the required marks. Return to me when you have the marks and I will change your occupation to Warlock.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-16.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-16.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-16.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+The Phantom Ranger is the highest level of advancement for a Dark Elf training to use a bow. An attack by a group of Phantom Rangers is as strong as one by Human Hawkeyes.<br>
+<a action="bypass -h Quest SecondClassChange master_de-17.htm">Description of a the Phantom Ranger</a><br>
+<a action="bypass -h Quest SecondClassChange PR">Change occupations to a Phantom Ranger.</a><br>
+<a action="bypass -h Quest SecondClassChange master_de-12.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-55.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-55.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-55.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+You still have not undergone your first change of occupations! I only teach advanced Fighters and Mystics.<br>
+Now run along to Gludio and change your occupation, then come back and I will assist in your advancement to a higher level.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-20.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-20.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-20.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+Dwarven Fighters such as you are not qualified to even think of being a Warsmith. Only Artisans may advance to Warsmith. A novice like you does not have any business here.<br>
+Go back to your homeland and become an Artisan if you dream of one day being a Warsmith.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-32.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-32.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-32.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+To become a Gladiator you must collect three marks.<br>
+The <font color="LEVEL">Mark of the Challenger</font> is reserved for those who pass the Trial of the Challenger. You must be above <font color="LEVEL">level 35</font> to qualify. To take this test visit <font color="LEVEL">Kash of Dion Castle Town</font>.<br>
+The <font color="LEVEL">Mark of Trust</font> is only given to those who pass the Testimony of Trust. You must be above <font color="LEVEL">level 37</font> to qualify. To take this test visit <font color="LEVEL">High Priest Hollint at the Town of Oren</font>.<br>
+And last, <font color="LEVEL">Mark of the Duelist</font> is reserved for those who pass the Test of the Duelist. You must be above <font color="LEVEL">level 39</font> to qualify. To take this test meet <font color="LEVEL">Duelist Kaien of the Town of Oren</font>.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-31.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-71.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-71.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-71.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+Congratulations! Now you are a Gladiator. You can learn much from the Masters around you.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-36.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-36.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-36.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Temple Knight your level must be over 40 and you must collect the Mark of Duty, the Mark of Life, and the Mark of the Healer. Obviously your skills need improvement and you have not collected the necessary marks.<br>
+Didn't I make myself clear on the requirements for this occupation earlier? Come back after collecting the marks and increasing your level above 40. Then I shall change your occupation to Temple Knight.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-75.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-75.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-75.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+Congratulations! Now you are a Warlord! You can learn much from the Masters around you.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-01.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-01.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-01.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+An occupational change occurs when one gets promoted to a higher-level occupation. An Orc Monk may advance to <font color="LEVEL">Tyrant</font>.<br>
+<a action="bypass -h Quest SecondClassChange master_orc-02.htm">Tyrant</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-05.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-05.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-05.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+An occupational change occurs when one gets promoted to a higher-level occupation. An Orc Raider may advance to <font color="LEVEL">Destroyer</font>.<br>
+<a action="bypass -h Quest SecondClassChange master_orc-06.htm">Destroyer</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-02.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-02.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-02.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+A Spellsinger learns the secrets of elements and spirits and is capable of strong Elemental Magic.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_mystic-03.htm">Description of the Spellsinger</a><br>
+<a action="bypass -h Quest SecondClassChange EW">Change occupations to a Spellsinger.</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_mystic-01.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-04.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-04.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-04.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+Each mark requires its own trial.<br>
+The <font color="LEVEL">Mark of the Pilgrim</font> is reserved for those who pass the Trial of the Pilgrim. You must be above <font color="LEVEL">level 35</font> to qualify. To take this test visit the <font color="LEVEL">Hermit Santiago in the Estate of Gludio</font>. He lives on a farm with Piotur.<br>
+The <font color="LEVEL">Mark of Life</font> is reserved for those who pass the Testimony of Life. You must be above <font color="LEVEL">level 37</font> to take the test. To take this trial, visit <font color="LEVEL">Master Cardien of Dion Castle Town</font>.<br>
+And last, the <font color="LEVEL">Mark of the Healer</font> is reserved for those who pass the Test of the Healer. You must be above <font color="LEVEL">level 39</font> to qualify. To take the Test of the Healer, visit <font color="LEVEL">Priest Bandellos in the temple of Giran Castle Town</font>.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_buffer-03.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-21.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-21.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-21.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+The Spellhowler has the powerful magical attack of a Sorcerer and the Black Magic powers of a Necromancer. They can exterminate an enemy with a single blow but lack stamina and occasionally need help from others, although their use of Black Magic is helpful when they must fight alone.<br>
+To be a Spellhowler, your level must be over 40 and you must collect the Mark of the Scholar, the Mark of Fate, and the Mark of the Magus.<br>
+<a action="bypass -h Quest SecondClassChange master_de-22.htm">Ask about marks.</a><br>
+<a action="bypass -h Quest SecondClassChange master_de-20.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-09.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-09.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-09.htm	(revision 341)
@@ -0,0 +1,5 @@
+<html><body>
+An occupational change occurs when one gets promoted to a higher-level occupation. An Orc Shaman can advance to <font color="LEVEL">Overload</font> or a <font color="LEVEL">Warcrier</font>. Which occupation would you like to learn about?<br>
+<a action="bypass -h Quest SecondClassChange master_orc-10.htm">Overlord</a><br>
+<a action="bypass -h Quest SecondClassChange master_orc-13.htm">Warcrier</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-06.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-06.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-06.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+Elemental Summoners are the Elven equivalent of Human Warlocks and Dark Elven Phantom Summoners. Elemental Summoners go hunting alone with the creatures they have summoned. They may either attack simultaneously or in support of one another. They may summon as many creatures as are necessary for any situation.<br>
+To be an Elemental Summoner, your level must be over 40 and you must collect the Mark of the Scholar, the Mark of Life, and the Mark of the Summoner.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_mystic-07.htm">Ask about marks.</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_mystic-05.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-08.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-08.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-08.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+Each mark requires its own trial.<br>
+The <font color="LEVEL">Mark of the Pilgrim</font> is reserved for those who pass the Trial of the Pilgrim. You must be above <font color="LEVEL">level 35</font> to qualify. To take this test you must visit <font color="LEVEL">Hermit Santiago in the Estate of Gludio</font>. He lives on a farm with Piotur.<br>
+The <font color="LEVEL">Mark of Trust</font> is reserved for those who pass the Testimony of Trust. You must be above <font color="LEVEL">level 37</font> to qualify. To take this test you must visit <font color="LEVEL">High Priest Hollint at the Town of Oren</font>.<br>
+And last, the <font color="LEVEL">Mark of the Healer</font> is reserved for those who pass the Test of the Healer. You must be above <font color="LEVEL">level 39</font> to qualify. To take this test you must visit <font color="LEVEL">Priest Bandellos in the temple of Giran Castle Town</font>.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_buffer-07.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-25.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-25.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-25.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+Each mark requires its own trial.<br>
+The <font color="LEVEL">Mark of the Scholar</font> is reserved for those who pass the Trial of the Scholar. You must be above <font color="LEVEL">level 35</font> to qualify. To take this test you must visit <font color="LEVEL">Magister Mirien in the temple of Dion Castle Town</font>.<br>
+The <font color="LEVEL">Mark of Fate</font> is reserved for those who pass the Testimony of Fate. You must be above <font color="LEVEL">level 37</font> to take the test. To take the Testimony of Fate, go to <font color="LEVEL">Giran Castle Town and meet Dark Elven Magister Kaira</font>.<br>
+And last, the <font color="LEVEL">Mark of the Summoner</font> is reserved for those who pass the Test of the Summoner. You must be above <font color="LEVEL">level 39</font> to qualify. To take this test you must visit <font color="LEVEL">High Summoner Galatea of Gludin</font>.<br>
+<a action="bypass -h Quest SecondClassChange master_de-24.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-29.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-29.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-29.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+Congratulations! At last, you have become a Shillien Knight of the proud Dark Elves. The life of a Shillien Knight may still feel strange at first but there is no need to worry. You will become accustomed to it once you train with the masters around you.<br>
+May you always glorify the name of Shilen and forever claim victory over your opponent!
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-02.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-02.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-02.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+The Temple Knights are Elven knights of the highest order, expert swordsmen who guard the forest and the headwaters of the river. They serve Eva, the goddess of water, and the Mother Tree Glade.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-03.htm">Description of the Temple Knight</a><br>
+<a action="bypass -h Quest SecondClassChange TK">Change occupations to a Temple Knight.</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-01.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-41.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-41.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-41.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Sword Singer your level must be over 40 and you must collect the Mark of the Challenger, the Mark of Life, and the Mark of the Duelist.<br>
+I see that you have all the marks but your skill level is still insufficient. Come back after more training and I shall change your occupation to Sword Singer.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-06.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-06.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-06.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+Sword Singers use their skill of dance and supplementary magic to assist their parties during siege or clan war. Weak defensively, their "Sword Singing" restores party members' HP, recreases evasion and speed of movement.<br>
+To be a Sword Singer, your level must be over 40 and you need to collect the Mark of the Challenger, the Mark of Life, and the Mark of the Duelist.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-07.htm">Ask about marks.</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-05.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-45.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-45.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-45.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+To become a Paladin your level must be over 40 and you must collect the Mark of Duty, the Mark of Trust, and the Mark of the Healer. I see that you have all the marks but your skill level is still insufficient. Come back after more training and I shall change your occupation to Paladin.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-49.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-49.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-49.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+To become a Dark Avenger your level must be over 40 and you must collect the Mark of Duty, the Mark of Trust, and the Mark of Witchcraft. I see that you have all the marks but your skill level is still insufficient. Come back after more training and I shall change your occupation to Dark Avenger.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-10.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-10.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-10.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+An Overlord is an advanced Orc Shaman. Possessing the qualities required to be head of a tribe, only they can lead our clan to a higher level.<br>
+<a action="bypass -h Quest SecondClassChange master_orc-11.htm">Description of the Overlord</a><br>
+<a action="bypass -h Quest SecondClassChange OL">Change occupations to an Overlord.</a><br>
+<a action="bypass -h Quest SecondClassChange master_orc-09.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-11.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-11.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-11.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+Each mark requires its own test.<br>
+The <font color="LEVEL">Mark of the Scholar</font> is reserved for those who pass the Trial of the Scholar. You must be above <font color="LEVEL">level 35</font> to qualify. To take this test visit <font color="LEVEL">Magister Mirien in the temple of Dion Castle Town</font>.<br>
+The <font color="LEVEL">Mark of Trust</font> is reserved for those who pass the Testimony of Trust. You must be above <font color="LEVEL">level 37</font> to qualify. To take this test visit <font color="LEVEL">High Priest Hollint at the Town of Oren</font>.<br>
+And last, the <font color="LEVEL">Mark of the Magus</font> is reserved for those who pass the Test of the Magus. You must be above <font color="LEVEL">level 39</font> to qualify. To take this test visit <font color="LEVEL">Bard Rukal of Dion Castle Town</font>.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_mystic-10.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-14.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-14.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-14.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+Warcriers specialize in party play. A Warcrier uses a spell called Song of War to heal and increase the fighting spirit of his comrades. They increase attack speed, evasion and critical attack power of party members. He is also capable of disrupting opponents with his song.<br>
+To become a Warcrier your level must be over 40 and you must collect the Mark of the Pilgrim, the Mark of Glory, and the Mark of the War Spirit.<br>
+<a action="bypass -h Quest SecondClassChange master_orc-15.htm">Ask about marks</a><br>
+<a action="bypass -h Quest SecondClassChange master_orc-13.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-13.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-13.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-13.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become an Elder your level must be over 40 and you must collect the Mark of the Pilgrim, the Mark of Life, and the Mark of the Healer.<br>
+Obviously you lack training even though you have all the marks. Come back to me when you have done more training and I will change your occupation to Elder.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-30.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-30.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-30.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+In order to be a Bladedancer your level must be over 40 and you must collect the Mark of the Challenger, the Mark of Fate, and the Mark of the Duelist.<br>
+Obviously your level is not high enough and you haven't collected all of the marks. Come back after doing this and I will change your occupation to Bladedancer.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-15.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-15.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-15.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+The Warlock is among the foremost practitioners of the summoning arts.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_mystic-16.htm">Description of the Warlock</a><br>
+<a action="bypass -h Quest SecondClassChange HW">Change occupations to a Warlock.</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_mystic-08.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-18.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-18.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-18.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Tyrant your level must be over 40 and you must collect the Mark of the Challenger, the Mark of Glory, and the Mark of the Duelist.<br>
+Your training is impressive but you still have not collected all 3 marks. Return to me when you get the marks and I will advance your occupation to Tyrant.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-17.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-17.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-17.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Bishop your level must be over 40 and you must collect the Mark of the Pilgrim, the Mark of Trust, and the Mark of the Healer.<br>
+Obviously you lack training even though you have all the marks. Come back to me when you have done more training and I will change your occupation to Bishop.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-34.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-34.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-34.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+In order to be a Shillien Elder your level must be over 40 and you must collect the Mark of the Pilgrim, the Mark of Fate, and the Mark of the Reformer.<br>
+Obviously your level is not high enough and you haven't collected all of the marks. Come back after you do this and I will change your occupation to Shillien Elder.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-19.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-19.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-19.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Spellsinger your level must be over 40 and you must collect the Mark of the Scholar, the Mark of Life, and the Mark of the Magus.<br>
+I see that you have all the marks, but you still require more training. Return when you have advanced your skill level and I will change your occupation to Spellsinger.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-38.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-38.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-38.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+In order to be a Abyss Walker your level must be over 40 and you must collect the Mark of the Seeker, the Mark of Fate, and the Mark of the Searcher.<br>
+Obviously your level is not high enough and you don't have all of the marks. Come back when you have acheived this and I will change your occupation to Abyss Walker.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-03.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-03.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-03.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+A Bounty Hunter has better gathering skills and stronger stamina than a Scavenger that hasn't advanced. Capable of strong attacks with blunt instruments, feigning death and capturing hard-to-get items from monsters.<br>
+To become a Bounty Hunter your level must be over 40 and you must collect the Mark of the Guildsman, the Mark of Prosperity, and the Mark of the Searcher.<br>
+<a action="bypass -h Quest SecondClassChange master_dwarf-04.htm">Ask about marks.</a><br>
+<a action="bypass -h Quest SecondClassChange master_dwarf-02.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-11.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-11.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-11.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+Each mark requires its own test.<br>
+The <font color="LEVEL">Mark of Duty</font> is reserved for those who pass the Trial of Duty. You must be above <font color="LEVEL">level 35</font> to take the test. To take this test visit <font color="LEVEL">Grand Master Hannavalt of Giran Castle Town</font>.<br>
+The <font color="LEVEL">Mark of Trust</font> is reserved for those who pass the Testimony of Trust. You must be above <font color="LEVEL">level 37</font> to qualify. To take this test visit <font color="LEVEL">High Priest Hollint at the Town of Oren</font>.<br>
+And last, the <font color="LEVEL">Mark of the Healer</font> is reserved for those who pass the Test of the Healer. You must be above <font color="LEVEL">level 39</font> to qualify. To take this test, visit <font color="LEVEL">Priest Bandellos at the temple of Giran Castle Town</font>.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-10.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-07.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-07.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-07.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+A Warsmith's mission is to create weapons of war. He is also a superb Summoner, having the strength to fight at the front alongside the golems he summons during war. Warsmiths are also the only Summoners capable of conjuring siege weapons.<br>
+To advance to Warsmith your level must be over 40 and you must possess the Mark of the Guildsman, the Mark of Prosperity, and the Mark of the Maestro.<br>
+<a action="bypass -h Quest SecondClassChange master_dwarf-08.htm">Ask about marks.</a><br>
+<a action="bypass -h Quest SecondClassChange master_dwarf-06.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-50.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-50.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-50.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+To become a Dark Avenger your level must be over 40 and you must collect the Mark of Duty, the Mark of Trust, and the Mark of Witchcraft. Your skill level is good but you have not yet brought all the required marks to me. Bring all 3 marks requested and I will change your occupation to Dark Avenger.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-15.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-15.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-15.htm	(revision 341)
@@ -0,0 +1,5 @@
+<html><body>
+An occupational change occurs when one is promoted to a higher-level occupation. A Rogue like yourself may advance to a <font color="LEVEL">Treasure Hunter</font> or a <font color="LEVEL">Hawkeye</font>. Which occupation would you like to learn about?<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-16.htm">Treasure Hunter</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-19.htm">Hawkeye</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-54.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-54.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-54.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+To become a Treasure Hunter your level must be over 40 and you must collect the Mark of the Seeker, the Mark of Trust, and the Mark of the Searcher. Your skill level is good but you have not yet brought all the required marks to me. Bring all 3 marks requested and I will change your occupation to Treasure Hunter.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-19.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-19.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-19.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+A Hawkeye is deadly with the Long Bow. He specializes in long range attack. Only those who have come under fire from a group of them realize how dangerous they can be.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-20.htm">Description of the Hawkeye</a><br>
+<a action="bypass -h Quest SecondClassChange HE">Change occupations to a Hawkeye.</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-15.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-58.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-58.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-58.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+To become a Hawkeye your level must be over 40 and you must collect the Mark of the Seeker, the Mark of Trust, and the Mark of the Sagittarius. Your skill level is good but you have not yet brought all the required marks to me. Bring all 3 marks requested and I will change your occupation to Hawkeye.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-20.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-20.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-20.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Spellsinger your level must be over 40 and you must collect the Mark of the Scholar, the Mark of Life, and the Mark of the Magus.<br>
+Your skills are impressive but you still must collect all of the required marks. Return to me when you have the marks and I will change your occupation to Spellsinger.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-23.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-23.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-23.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+Dejakyar Pa'agrio! Congratulations! You are now a proud Orc Destroyer. Remember to always act accordingly.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-22.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-22.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-22.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Prophet your level must be above 40 and you must collect the Mark of the Pilgrim, the Mark of Trust, and the Mark of the Reformer.<br>
+Obviously your skills are adequate but you still have not gotten all the marks. Go and get the marks you lack and I will change your occupation to Prophet.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-24.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-24.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-24.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become an Elemental Summoner your level must be over 40 and you must collect the Mark of the Scholar, the Mark of Life, and the Mark of the Summoner.<br>
+Your skills are impressive but you still must collect all of the required marks. Return to me when you have the marks and I will change your occupation to Elemental Summoner.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-27.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-27.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-27.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+Dejakyar Pa'agrio! Congratulations! You have become a noble Orc Overlord. Bring honor to your race by ruling justly!
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-04.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-04.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-04.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+Each mark requires its own test.<br>
+The <font color="LEVEL">Mark of Duty</font> is reserved for those who pass the Trial of Duty. You must be above <font color="LEVEL">level 35</font> to qualify for this test. To receive the <font color="LEVEL">Mark of Duty</font>, go to Giran Castle Town and meet Grand Master Hannavalt.<br>
+The <font color="LEVEL">Mark of Fate</font> is given to those who pass the Testimony of Fate. You must be above <font color="LEVEL">level 37</font> to take this test. To take the Testimony of Fate, go to <font color="LEVEL">Giran Castle Town and meet Dark Elven Magister Kaira</font>.<br>
+The <font color="LEVEL">Mark of Witchcraft</font> is reserved for those who pass the Test of Witchcraft. You must be above <font color="LEVEL">level 39</font> to take the test. To take this test, go to the <font color="LEVEL">Death Pass and visit Orim of the Shadow</font>.<br>
+<a action="bypass -h Quest SecondClassChange master_de-03.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-26.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-26.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-26.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+The Light of Einhasad must have led you here, however I only teach clerics. You must walk the path of the priest to be instructed by me.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-43.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-43.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-43.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+In order to be a Phantom Ranger your level must be over 40 and you must collect the Mark of the Seeker, the Mark of Fate, and the Mark of the Sagittarius.<br>
+I see that you have all of the marks, but your level is not high enough. Come back after more training and I will change your occupation to Phantom Ranger.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-28.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-28.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-28.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Sorcerer your level must be over 40 and you must collect the Mark of the Scholar, the Mark of Trust, and the Mark of the Magus.<br>
+Your skills are impressive but you still must collect all of the required marks. Return to me when you have the marks and I will change your occupation to Sorcerer.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-08.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-08.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-08.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+An occupational change occurs when one gets promoted to a higher-level occupation. A Shillien Oracle may advance to <font color="LEVEL">Shillien Elder</font>. Dark Elven Shillien Oracles may not advance.<br>
+<a action="bypass -h Quest SecondClassChange master_de-09.htm">Shillien Elder</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-47.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-47.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-47.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+In order to be a Spellhowler your level must be over 40 and you must collect the Mark of the Scholar, the Mark of Fate, and the Mark of the Magus.<br>
+I see that you have all of the marks, but your level is not high enough. Come back after more training and I will change your occupation to Spellhowler.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-12.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-12.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-12.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+Congratulations! At last you have become a Bounty Hunter! As you are already aware, the warehouse keepers can help with your transition. Also, remember 'nothing is more worthless than a worthless Orc'. Keep at it!
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-16.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-16.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-16.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To advance to Warsmith your level must be over 40 and you must possess the Mark of the Guildsman, the Mark of Prosperity, and the Mark of the Maestro.<br>
+You are obviously not yet qualified for this advancement! Come back when you have fulfilled the requirements and I will advance your occupation to Warsmith.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-24.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-24.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-24.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+The Plainswalker relies on dexterity. Can act as an Assassin during siege, capable of inflicting great damage with sudden blows, and can feign death in emergencies.<br>
+To become a Plainswalker your level must be over 40 and you must collect the Mark of the Seeker, the Mark of Life, and the Mark of the Searcher.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-25.htm">Ask about marks.</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-23.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-63.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-63.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-63.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+Congratulations! Now you are a Plainswalker! You can learn much from the Masters around you.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-28.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-28.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-28.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+Each mark requires its own test.<br>
+The <font color="LEVEL">Mark of the Seeker</font> is reserved for those who pass the Trial of the Seeker. You must be above <font color="LEVEL">level 35</font> to qualify. To take this test visit <font color="LEVEL">Master Dufner of Giran Castle Town</font>.<br>
+The <font color="LEVEL">Mark of Life</font> is reserved for those who pass the Testimony of Life. You must be above <font color="LEVEL">level 37</font> to qualify. To take this test visit <font color="LEVEL">Master Cardien of Dion Castle Town</font>.<br>
+And last, the <font color="LEVEL">Mark of the Sagittarius</font> is reserved for those who pass the Test of the Sagittarius. You must be above <font color="LEVEL">level 39</font> to qualify. To take this test visit <font color="LEVEL">Guild President Bernard at the Hunters Village</font>.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-27.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-67.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-67.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-67.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+Congratulations! Now you are a Silver Ranger! You can learn much from the Masters around you.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-32.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-32.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-32.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+I see that you have already changed occupations. May you always use your skills for the advancement of our race! Give our enemies a taste of your awesome strength! Dejakyar Pa'agrio!
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-33.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-33.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-33.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+Congratulations! You are now a Necromancer! Many ordeals and hardships await you, but I have faith that you will endure.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-13.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-13.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-13.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+The Abyss Walker is known as an assassin who uses a dagger with deadly precision. He is often compared to the Phantom Ranger. He is a profiteer and a fighter, but will not hesitate to run from danger if possible.<br>
+<a action="bypass -h Quest SecondClassChange master_de-14.htm">Description of the Abyss Walker</a><br>
+<a action="bypass -h Quest SecondClassChange AW">Change occupations to an Abyss Walker.</a><br>
+<a action="bypass -h Quest SecondClassChange master_de-12.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-52.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-52.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-52.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+In order to be a Phantom Summoner, your level must be over 40 and you must collect the Mark of the Scholar, the Mark of Fate, and the Mark of the Summoner.<br>
+Your level is adequate but you still haven't brought me all of the marks. Come back after collecting all of the marks and I will change your occupation to Phantom Summoner.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-37.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-37.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-37.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+Congratulations! Now you are a Warlock! More ordeals and hardships await you, but I have faith you will endure. Great things are done by those with great dreams.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-17.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-17.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-17.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+The Phantom Ranger is somewhat similar to the Human Hawkeye and the Elven Silver Ranger, but the Phantom's evasion skills and hit rate are superior. Very strong offense and most feared during sieges, they lack stamina.<br>
+They have strong archery skills such as strengthening bows and shooting several arrows simultaneously.<br>
+To be a Phantom Ranger, your level must be over 40 and you must collect the Mark of the Seeker, the Mark of Fate, and the Mark of the Sagittarius.<br>
+<a action="bypass -h Quest SecondClassChange master_de-18.htm">Ask about marks.</a><br>
+<a action="bypass -h Quest SecondClassChange master_de-16.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-56.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-56.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-56.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+I prepare Dark Elves to elevate to advanced Fighters. I certainly don't have time for someone like you. Go away!
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-21.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-21.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-21.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+Haven't you already changed occupations? Gather your thoughts and go make something! Oh, all right, have you ever participated in a siege? That is the ideal sort of place to display your skills. Good luck!
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-33.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-33.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-33.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+Warlords specialize in fighting mulitiple opponents at once. A Warlord prefers large weapons such as polearms.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-34.htm">Description of the Warlord</a><br>
+<a action="bypass -h Quest SecondClassChange WL">Change occupations to a Warlord.</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-29.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-72.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-72.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-72.htm	(revision 341)
@@ -0,0 +1,5 @@
+<html><body>
+To become a Warlord your level must be over 40 and you must collect the Mark of the Challenger, the Mark of Trust and the Mark of the Champion.<br>
+Obviously your skills need improvement and you have not collected the necessary marks.<br>
+Didn't I make myself clear on the requirements for this occupation earlier? Come back after collecting the marks and increasing your level above 40. Then I shall change your occupation to Warlord.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-37.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-37.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-37.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Temple Knight your level must be over 40 and you must collect the Mark of Duty, the Mark of Life, and the Mark of the Healer.<br>
+I see that you have all the marks but your skill level is still insufficient. Come back after more training and I shall change your occupation to Temple Knight.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-76.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-76.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-76.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+You must change occupations before I can train you.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-02.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-02.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-02.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+Tyrants are the highest level of priests. Fearless, they forgo weapons for their bare fists.<br>
+<a action="bypass -h Quest SecondClassChange master_orc-03.htm">Description of the Tyrant</a><br>
+<a action="bypass -h Quest SecondClassChange TY">Change occupations to a Tyrant.</a><br>
+<a action="bypass -h Quest SecondClassChange master_orc-01.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-01.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-01.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-01.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+An occupational change occurs when one advances to a higher-level occupation. An Oracle can advance to <font color="LEVEL">Elder</font>. An Elven Priest does not advance.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_buffer-02.htm">Elven Elder</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-03.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-03.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-03.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+Spellsingers are somewhat similar to Human Sorcerers, but with Elven sensibilities. They practice a potent form of elemental magic. Very fast during combat and more efficient and safe than other Mystics. Most dreaded opponent during a siege.<br>
+To become a Spellsinger, your level must be over 40 and you must collect the Mark of the Scholar, the Mark of Life, and the Mark of the Magus.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_mystic-04.htm">Ask about Tokens.</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_mystic-02.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-06.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-06.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-06.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+Destroyers are the highest level of Orc Fighters. Typically fighting to the death, their name suits them well.<br>
+<a action="bypass -h Quest SecondClassChange master_orc-07.htm">Description of the Destroyer</a><br>
+<a action="bypass -h Quest SecondClassChange DE">Change occupations to a Destroyer.</a><br>
+<a action="bypass -h Quest SecondClassChange master_orc-05.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-05.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-05.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-05.htm	(revision 341)
@@ -0,0 +1,5 @@
+<html><body>
+An occupational change occurs when one advances to a higher-level occupation. Clerics may advance to <font color="LEVEL">Bishop</font> or <font color="LEVEL">Prophet</font>. Which occupation would you like to learn about?<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_buffer-06.htm">Bishop</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_buffer-09.htm">Prophet</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-22.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-22.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-22.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+Each mark requires its own test.<br>
+The <font color="LEVEL">Mark of the Scholar</font> is reserved for those who pass the Trial of the Scholar. You must be above <font color="LEVEL">level 35</font> to qualify. To take this test you must visit <font color="LEVEL">Magister Mirien in the temple of Dion Castle Town</font>.<br>
+The <font color="LEVEL">Mark of Fate</font> is reserved for those who pass the Testimony of Fate. You must be above <font color="LEVEL">level 37</font> to qualify. To take this test you must go to <font color="LEVEL">Giran Castle Town and meet Dark Elven Magister Kaira</font>.<br>
+And last, the <font color="LEVEL">Mark of the Magus</font> is reserved for those who pass the Test of the Magus. You must be above <font color="LEVEL">level 39</font> to qualify. To take this test you must visit <font color="LEVEL">Bard Rukal of Dion Castle Town</font>.<br>
+<a action="bypass -h Quest SecondClassChange master_de-21.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-07.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-07.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-07.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+Each mark requires its own trial.<br>
+The <font color="LEVEL">Mark of the Scholar</font> is reserved for those who pass the Trial of the Scholar. You must be above <font color="LEVEL">level 35</font> to qualify. To take this test visit <font color="LEVEL">Magister Mirien in the temple of Dion Castle Town</font>.<br>
+The <font color="LEVEL">Mark of Life</font> is given to those who pass the Testimony of Life. You must be above <font color="LEVEL">level 37</font> to qualify. To take this test visit <font color="LEVEL">Master Cardien of Dion Castle Town</font>.<br>
+And last, the <font color="LEVEL">Mark of the Summoner</font> is reserved for those who pass the Test of the Summoner. You must be above <font color="LEVEL">level 39</font> to qualify. To take this test visit <font color="LEVEL">High Summoner Galatea of Gludin</font>.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_mystic-06.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-09.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-09.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-09.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+Prophets are priests who practice the highest level of supplementary magic. Prophets are more mercenary than other priests.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_buffer-10.htm">Description of the Prophet</a><br>
+<a action="bypass -h Quest SecondClassChange PH">Change occupation to a Prophet.</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_buffer-05.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-26.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-26.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-26.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To be a Shillien Knight, your level must be over 40 and you must collect the Mark of Duty, the Mark of Fate and the Mark of Witchcraft.<br>
+Obviously your level is not high enough and you haven't yet collected all of the marks. Come back when you have done this and I will change your occupation to Shillien Knight.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-03.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-03.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-03.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+The Temple Knight uses strategy and white, supplementary and healing magic to defeat his foes. Capable of strengthening heavy equipment and summoning Cubics.<br>
+To be a Temple Knight, your level must be over 40 and you must collect the Mark of Duty, the Mark of Life, and the Mark of the Healer.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-04.htm">Ask about Tokens</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-02.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-42.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-42.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-42.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Sword Singer your level must be over 40 and you must collect the Mark of the Challenger, the Mark of Life, and the Mark of the Duelist.<br>
+Your skill level is good but you have not yet brought all the required marks to me. Bring all 3 marks requested and I will change your occupation to Sword Singer.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-07.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-07.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-07.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+Each mark requires its own trial.<br>
+The <font color="LEVEL">Mark of the Challenger</font> is reserved for those who pass the Trial of the Challenger. You must be above <font color="LEVEL">level 35</font> to qualify. To take this test you must visit <font color="LEVEL">Kash of Dion Castle Town</font>.<br>
+The <font color="LEVEL">Mark of Life</font> is reserved for those who pass the Testimony of Life. You must be above <font color="LEVEL">level 37</font> to qualify. To take this test visit <font color="LEVEL">Master Cardien of Dion Castle Town</font>.<br>
+And last, the <font color="LEVEL">Mark of the Duelist</font> is reserved for those who pass the Test of the Duelist. You must be above <font color="LEVEL">level 39</font> to qualify. To take this test you must meet <font color="LEVEL">Duelist Kaien of the Town of Oren</font>.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-06.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-46.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-46.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-46.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+To become a Paladin your level must be over 40 and you must collect the Mark of Duty, the Mark of Trust, and the Mark of the Healer. Your skill level is good but you have not yet brought all the required marks to me. Bring all 3 marks requested and I will change your occupation to Paladin.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-11.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-11.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-11.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+An Overlord is an advanced Orc Shaman, with strong basic supplementary magic to protect and strengthen his clan. This occupation is specialized for clan wars.<br>
+To become an Overlord your level must be over 40 and you must collect the Mark of the Pilgrim, the Mark of Glory, and the Mark of the Lord.<br>
+<a action="bypass -h Quest SecondClassChange master_orc-12.htm">Ask about marks.</a><br>
+<a action="bypass -h Quest SecondClassChange master_orc-10.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-10.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-10.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-10.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+The Prophet is an expert in supplementary magic. Supplementary magic mainly strengthens allies. Prophets must possess heavy equipment and extra strength before fighting monsters. Prophets strengthen the force of their party, especially during battle.<br>
+Their supplementary magic increases attack power, hit rate, evasion and defense.<br>
+To be a Prophet, your level must be over 40 and you must collect the Mark of the Pilgrim, the Mark of Trust, and the Mark of the Reformer.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_buffer-11.htm">Ask about marks.</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_buffer-09.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-12.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-12.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-12.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+A Necromancer is the foremost practitioner of the black arts, including control of the undead.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_mystic-13.htm">Description of the Necromancer</a><br>
+<a action="bypass -h Quest SecondClassChange HN">Change occupations to a Necromancer.</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_mystic-08.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-15.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-15.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-15.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+Each mark requires its own test.<br>
+The <font color="LEVEL">Mark of the Pilgrim</font> is reserved for those who pass the Trial of the Pilgrim. You must be above <font color="LEVEL">level 35</font> to qualify. To take this test visit <font color="LEVEL">Hermit Santiago in the Estate of Gludio</font>. He lives on a farm with Piotur.<br>
+The <font color="LEVEL">Mark of Glory</font> is reserved for those who pass the Testimony of Glory. You must be above <font color="LEVEL">level 37</font> to qualify. To take this test visit <font color="LEVEL">Prefect Vokian of Giran Castle Town</font>.<br>
+And last, the <font color="LEVEL">Mark of the War Spirit</font> is reserved for those who pass the Test of the War Spirit. You must be above <font color="LEVEL">level 39</font> to qualify. To take this test visit <font color="LEVEL">Seer Somak of Dion Castle Town</font>.<br>
+<a action="bypass -h Quest SecondClassChange master_orc-14.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-14.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-14.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-14.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become an Elder your level must be over 40 and you must collect the Mark of the Pilgrim, the Mark of Life, and the Mark of the Healer.<br>
+Obviously your skills are adequate but you still have not gotten all the marks. Go and get the marks you lack and I will change your occupation to Elder.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-31.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-31.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-31.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+In order to be a Bladedancer your level must be over 40 and you must collect the Mark of the Challenger, the Mark of Fate, and the Mark of the Duelist.<br>
+I see you have all of the marks, but your level is still not high enough. Come back after more training and I will change your occupation to Bladedancer.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-16.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-16.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_mystic-16.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+A Warlock is an expert in the summoning arts. He hunts alone with the creature he has summoned. They may attack simultaneously or act as support for one another. Warlocks may summon as many different creatures as are needed for a party's situation.<br>
+To become a Warlock your level must be over 40 and you must collect the Mark of the Scholar, the Mark of Trust, and the Mark of the Summoner.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_mystic-17.htm">Ask about marks.</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_mystic-15.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-19.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-19.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_orc-19.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+Dejakyar Pa'agrio! Congratulations! You have become a proud Tyrant! Always remember that you are an important role model to all other Orcs.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-18.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-18.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_buffer-18.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+To become a Bishop your level must be over 40 and you must collect the Mark of the Pilgrim, the Mark of Trust, and the Mark of the Healer.<br>
+Obviously your skills are adequate but you still have not gotten all the marks. Go and get the marks you lack and I will change your occupation to Bishop.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-35.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-35.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-35.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+In order to be a Shillien Elder your level must be over 40 and you must collect the Mark of the Pilgrim, the Mark of Fate, and the Mark of the Reformer.<br>
+I see that you have all of the marks, but your level is not high enough. Get some more training and come back. Then I will change your occupation to Shillien Elder.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-39.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-39.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_de-39.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>
+In order to be an Abyss Walker your level must be over 40 and you must collect the Mark of the Seeker, the Mark of Fate, and the Mark of the Searcher.<br>
+I see that you have all of the marks, but your level is not high enough. Come back after more training and I will change your occupation to Abyss Walker.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-04.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-04.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-04.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+Each mark requires its own test.<br>
+The <font color="LEVEL">Mark of the Guildsman</font> is reserved for those who pass the Trial of the Guildsman. You must be above <font color="LEVEL">level 35</font> to qualify. To take this test visit <font color="LEVEL">Warehouse Keeper Valkon of Giran Castle Town</font>.<br>
+The <font color="LEVEL">Mark of Prosperity</font> is reserved for those who pass the Testimony of Prosperity. You must be above <font color="LEVEL">level 37</font> to qualify. To take this test visit <font color="LEVEL">Warehouse Keeper Parman of Giran Castle Town</font>.<br>
+And last, the <font color="LEVEL">Mark of the Searcher</font> is reserved for those who pass the Test of the Searcher. You must be above <font color="LEVEL">level 39</font> to qualify. To take this test visit <font color="LEVEL">Master Luther at the Hunters Village</font>.<br>
+<a action="bypass -h Quest SecondClassChange master_dwarf-03.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-12.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-12.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-12.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+A Dark Avenger worships the God of Darkness and is capable of Black Magic attacks.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-13.htm">Description of the Dark Avenger</a><br>
+<a action="bypass -h Quest SecondClassChange DA">Change occupations to a Dark Avenger</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-08.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-08.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-08.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_dwarf-08.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>
+Marks are earned by passing tests.<br>
+The <font color="LEVEL">Mark of the Guildsman</font> is reserved for those who pass the Trial of the Guildsman. You must be above <font color="LEVEL">level 35</font> to qualify for this test. To receive the Mark of the Guildsman go to Giran Castle Town and meet Warehouse Keeper Valkon.<br>
+The <font color="LEVEL">Mark of Prosperity</font> is reserved for those who pass the Test of Prosperity. You must be above <font color="LEVEL">level 37</font> to qualify for the test. To take the <font color="LEVEL">Test of Prosperity</font>, go to Giran Castle Town and meet Warehouse Keeper Parman.<br>
+<font color="LEVEL">Mark of the Maestro</font> is reserved for those who pass the Test of the Maestro. You must be above <font color="LEVEL">level 39</font> to qualify for this test. To take it, visit <font color="LEVEL">First Elder Lockirin</font> of the Dwarven Village.<br>
+<a action="bypass -h Quest SecondClassChange master_dwarf-07.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-51.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-51.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-51.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>
+Congratulations! Now you are a Dark Avenger! You can learn much from the Masters around you.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-16.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-16.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/village_master/SecondClassChange/master_human_elf_fighter-16.htm	(revision 341)
@@ -0,0 +1,6 @@
+<html><body>
+A Treasure Hunter is an expert with the dagger. He is a profiteer and tends to run away from dangerous situations.<br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-17.htm">Description of the Treasure Hunter</a><br>
+<a action="bypass -h Quest SecondClassChange TH">Change occupations to a Treasure Hunter.</a><br>
+<a action="bypass -h Quest SecondClassChange master_human_elf_fighter-15.htm">Return</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/quests/Q422_RepentYourSins/Q422_RepentYourSins.java
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q422_RepentYourSins/Q422_RepentYourSins.java	(revision 340)
+++ /trunk/aCis_datapack/data/scripts/quests/Q422_RepentYourSins/Q422_RepentYourSins.java	(revision 341)
@@ -389,5 +389,5 @@
 	}
 	
-	private int findSinEaterLvl(L2PcInstance player)
+	private static int findSinEaterLvl(L2PcInstance player)
 	{
 		return player.getInventory().getItemByItemId(PENITENT_MANACLES).getEnchantLevel();
Index: /trunk/aCis_datapack/data/scripts/quests/SagasScripts/SagasSuperClass.java
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/SagasScripts/SagasSuperClass.java	(revision 340)
+++ /trunk/aCis_datapack/data/scripts/quests/SagasScripts/SagasSuperClass.java	(revision 341)
@@ -155,5 +155,5 @@
 	}
 	
-	private void cast(L2Npc npc, L2Character target, int skillId, int level)
+	private static void cast(L2Npc npc, L2Character target, int skillId, int level)
 	{
 		target.broadcastPacket(new MagicSkillUse(target, target, skillId, level, 6000, 1));
Index: /trunk/aCis_datapack/data/scripts/quests/Q419_GetAPet/Q419_GetAPet.java
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q419_GetAPet/Q419_GetAPet.java	(revision 340)
+++ /trunk/aCis_datapack/data/scripts/quests/Q419_GetAPet/Q419_GetAPet.java	(revision 341)
@@ -279,5 +279,5 @@
 	}
 	
-	private String join(List<String> list)
+	private static String join(List<String> list)
 	{
 		StringBuilder sb = new StringBuilder();
@@ -292,5 +292,5 @@
 	}
 	
-	private String checkQuestions(QuestState st)
+	private static String checkQuestions(QuestState st)
 	{
 		final int answers = st.getInt("correct") + (st.getInt("wrong"));
Index: /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/Q662_AGameOfCards.java
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/Q662_AGameOfCards.java	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/Q662_AGameOfCards.java	(revision 341)
@@ -0,0 +1,569 @@
+/*
+ * This program is free software: you can redistribute it and/or modify it under
+ * the terms of the GNU General Public License as published by the Free Software
+ * Foundation, either version 3 of the License, or (at your option) any later
+ * version.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE. See the GNU General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU General Public License along with
+ * this program. If not, see <http://www.gnu.org/licenses/>.
+ */
+package quests.Q662_AGameOfCards;
+
+import java.util.HashMap;
+import java.util.Map;
+
+import net.sf.l2j.gameserver.datatables.ItemTable;
+import net.sf.l2j.gameserver.model.actor.L2Npc;
+import net.sf.l2j.gameserver.model.actor.instance.L2PcInstance;
+import net.sf.l2j.gameserver.model.item.kind.Item;
+import net.sf.l2j.gameserver.model.quest.Quest;
+import net.sf.l2j.gameserver.model.quest.QuestState;
+import net.sf.l2j.util.Rnd;
+
+public class Q662_AGameOfCards extends Quest
+{
+	private static final String qn = "Q662_AGameOfCards";
+	
+	// NPC
+	private static final int KLUMP = 30845;
+	
+	// Quest Item
+	private static final int RED_GEM = 8765;
+	
+	// Reward Items
+	private static final int EW_S = 959;
+	private static final int EW_A = 729;
+	private static final int EW_B = 947;
+	private static final int EW_C = 951;
+	private static final int EW_D = 955;
+	private static final int EA_D = 956;
+	private static final int ZIGGO_GEMSTONE = 8868;
+	
+	// All cards
+	private static final Map<Integer, String> CARDS = new HashMap<>();
+	{
+		CARDS.put(0, "?");
+		CARDS.put(1, "!");
+		CARDS.put(2, "=");
+		CARDS.put(3, "T");
+		CARDS.put(4, "V");
+		CARDS.put(5, "O");
+		CARDS.put(6, "P");
+		CARDS.put(7, "S");
+		CARDS.put(8, "E");
+		CARDS.put(9, "H");
+		CARDS.put(10, "A");
+		CARDS.put(11, "R");
+		CARDS.put(12, "D");
+		CARDS.put(13, "I");
+		CARDS.put(14, "N");
+	}
+	
+	// Drop chances
+	private static final Map<Integer, Integer> CHANCES = new HashMap<>();
+	{
+		CHANCES.put(18001, 232000); // Blood Queen
+		CHANCES.put(20672, 357000); // Trives
+		CHANCES.put(20673, 373000); // Falibati
+		CHANCES.put(20674, 583000); // Doom Knight
+		CHANCES.put(20677, 435000); // Tulben
+		CHANCES.put(20955, 358000); // Ghostly Warrior
+		CHANCES.put(20958, 283000); // Death Agent
+		CHANCES.put(20959, 455000); // Dark Guard
+		CHANCES.put(20961, 365000); // Bloody Knight
+		CHANCES.put(20962, 348000); // Bloody Priest
+		CHANCES.put(20965, 457000); // Chimera Piece
+		CHANCES.put(20966, 493000); // Changed Creation
+		CHANCES.put(20968, 418000); // Nonexistant Man
+		CHANCES.put(20972, 350000); // Shaman of Ancient Times
+		CHANCES.put(20973, 453000); // Forgotten Ancient People
+		CHANCES.put(21002, 315000); // Doom Scout
+		CHANCES.put(21004, 320000); // Dismal Pole
+		CHANCES.put(21006, 335000); // Doom Servant
+		CHANCES.put(21008, 462000); // Doom Archer
+		CHANCES.put(21010, 397000); // Doom Warrior
+		CHANCES.put(21109, 507000); // Hames Orc Scout
+		CHANCES.put(21112, 552000); // Hames Orc Footman
+		CHANCES.put(21114, 587000); // Cursed Guardian
+		CHANCES.put(21116, 812000); // Hames Orc Overlord
+		CHANCES.put(21278, 483000); // Antelope
+		CHANCES.put(21279, 483000); // Antelope
+		CHANCES.put(21280, 483000); // Antelope
+		CHANCES.put(21281, 483000); // Antelope
+		CHANCES.put(21286, 515000); // Buffalo
+		CHANCES.put(21287, 515000); // Buffalo
+		CHANCES.put(21288, 515000); // Buffalo
+		CHANCES.put(21289, 515000); // Buffalo
+		CHANCES.put(21508, 493000); // Splinter Stakato
+		CHANCES.put(21510, 527000); // Splinter Stakato Soldier
+		CHANCES.put(21513, 562000); // Needle Stakato
+		CHANCES.put(21515, 598000); // Needle Stakato Soldier
+		CHANCES.put(21520, 458000); // Eye of Splendor
+		CHANCES.put(21526, 552000); // Wisdom of Splendor
+		CHANCES.put(21530, 488000); // Victory of Splendor
+		CHANCES.put(21535, 573000); // Signet of Splendor
+	};
+	
+	public Q662_AGameOfCards()
+	{
+		super(662, qn, "A Game Of Cards");
+		
+		setItemsIds(RED_GEM);
+		
+		addStartNpc(KLUMP);
+		addTalkId(KLUMP);
+		
+		for (int monster : CHANCES.keySet())
+			addKillId(monster);
+	}
+	
+	@Override
+	public String onAdvEvent(String event, L2Npc npc, L2PcInstance player)
+	{
+		String htmltext = event;
+		QuestState st = player.getQuestState(qn);
+		if (st == null)
+			return htmltext;
+		
+		if (event.equalsIgnoreCase("30845-03.htm"))
+		{
+			st.setState(STATE_STARTED);
+			st.set("cond", "1");
+			st.set("state", "0");
+			st.set("stateEx", "0");
+			st.playSound(QuestState.SOUND_ACCEPT);
+		}
+		else if (event.equalsIgnoreCase("30845-04.htm"))
+		{
+			int state = st.getInt("state");
+			int stateEx = st.getInt("stateEx");
+			
+			if (state == 0 && stateEx == 0 && st.getQuestItemsCount(RED_GEM) >= 50)
+				htmltext = "30845-05.htm";
+		}
+		else if (event.equalsIgnoreCase("30845-07.htm"))
+		{
+			st.playSound(QuestState.SOUND_FINISH);
+			st.exitQuest(true);
+		}
+		else if (event.equalsIgnoreCase("30845-11.htm"))
+		{
+			int state = st.getInt("state");
+			int stateEx = st.getInt("stateEx");
+			
+			if (state == 0 && stateEx == 0 && st.getQuestItemsCount(RED_GEM) >= 50)
+			{
+				int i1 = Rnd.get(70) + 1;
+				int i2 = Rnd.get(70) + 1;
+				int i3 = Rnd.get(70) + 1;
+				int i4 = Rnd.get(70) + 1;
+				int i5 = Rnd.get(70) + 1;
+				
+				if (i1 >= 57)
+					i1 = i1 - 56;
+				else if (i1 >= 43)
+					i1 = i1 - 42;
+				else if (i1 >= 29)
+					i1 = i1 - 28;
+				else if (i1 >= 15)
+					i1 = i1 - 14;
+				
+				if (i2 >= 57)
+					i2 = i2 - 56;
+				else if (i2 >= 43)
+					i2 = i2 - 42;
+				else if (i2 >= 29)
+					i2 = i2 - 28;
+				else if (i2 >= 15)
+					i2 = i2 - 14;
+				
+				if (i3 >= 57)
+					i3 = i3 - 56;
+				else if (i3 >= 43)
+					i3 = i3 - 42;
+				else if (i3 >= 29)
+					i3 = i3 - 28;
+				else if (i3 >= 15)
+					i3 = i3 - 14;
+				
+				if (i4 >= 57)
+					i4 = i4 - 56;
+				else if (i4 >= 43)
+					i4 = i4 - 42;
+				else if (i4 >= 29)
+					i4 = i4 - 28;
+				else if (i4 >= 15)
+					i4 = i4 - 14;
+				
+				if (i5 >= 57)
+					i5 = i5 - 56;
+				else if (i5 >= 43)
+					i5 = i5 - 42;
+				else if (i5 >= 29)
+					i5 = i5 - 28;
+				else if (i5 >= 15)
+					i5 = i5 - 14;
+				
+				st.set("state", String.valueOf(i4 * 1000000 + i3 * 10000 + i2 * 100 + i1));
+				st.set("stateEx", String.valueOf(i5));
+				
+				st.takeItems(RED_GEM, 50);
+			}
+		}
+		else if (event.equals("First") || event.equals("Second") || event.equals("Third") || event.equals("Fourth") || event.equals("Fifth")) // reply 11 12 13 14 15
+		{
+			int state = st.getInt("state");
+			int stateEx = st.getInt("stateEx");
+			
+			int i0, i1, i2, i3, i4, i5, i6, i8, i9;
+			
+			i0 = state;
+			i1 = stateEx;
+			i5 = i1 % 100;
+			i9 = i1 / 100;
+			i1 = i0 % 100;
+			i2 = i0 % 10000 / 100;
+			i3 = i0 % 1000000 / 10000;
+			i4 = i0 % 100000000 / 1000000;
+			
+			if (event.equals("First"))
+			{
+				if (i9 % 2 < 1)
+					i9 = i9 + 1;
+			}
+			else if (event.equals("Second"))
+			{
+				if (i9 % 4 < 2)
+					i9 = i9 + 2;
+			}
+			else if (event.equals("Third"))
+			{
+				if (i9 % 8 < 4)
+					i9 = i9 + 4;
+			}
+			else if (event.equals("Fourth"))
+			{
+				if (i9 % 16 < 8)
+					i9 = i9 + 8;
+			}
+			else if (event.equals("Fifth"))
+			{
+				if (i9 % 32 < 16)
+					i9 = i9 + 16;
+			}
+			
+			if (i9 % 32 < 31)
+			{
+				st.set("stateEx", String.valueOf(i9 * 100 + i5));
+				htmltext = getHtmlText("30845-12.htm");
+			}
+			else if (i9 % 32 == 31)
+			{
+				i6 = 0;
+				i8 = 0;
+				
+				if (i1 >= 1 && i1 <= 14 && i2 >= 1 && i2 <= 14 && i3 >= 1 && i3 <= 14 && i4 >= 1 && i4 <= 14 && i5 >= 1 && i5 <= 14)
+				{
+					if (i1 == i2)
+					{
+						i6 = i6 + 10;
+						i8 = i8 + 8;
+					}
+					
+					if (i1 == i3)
+					{
+						i6 = i6 + 10;
+						i8 = i8 + 4;
+					}
+					
+					if (i1 == i4)
+					{
+						i6 = i6 + 10;
+						i8 = i8 + 2;
+					}
+					
+					if (i1 == i5)
+					{
+						i6 = i6 + 10;
+						i8 = i8 + 1;
+					}
+					
+					if (i6 % 100 < 10)
+					{
+						if (i8 % 16 < 8)
+						{
+							if (i8 % 8 < 4)
+							{
+								if (i2 == i3)
+								{
+									i6 = i6 + 10;
+									i8 = i8 + 4;
+								}
+							}
+							
+							if (i8 % 4 < 2)
+							{
+								if (i2 == i4)
+								{
+									i6 = i6 + 10;
+									i8 = i8 + 2;
+								}
+							}
+							
+							if (i8 % 2 < 1)
+							{
+								if (i2 == i5)
+								{
+									i6 = i6 + 10;
+									i8 = i8 + 1;
+								}
+							}
+						}
+					}
+					else if (i6 % 10 == 0)
+					{
+						if (i8 % 16 < 8)
+						{
+							if (i8 % 8 < 4)
+							{
+								if (i2 == i3)
+								{
+									i6 = i6 + 1;
+									i8 = i8 + 4;
+								}
+							}
+							
+							if (i8 % 4 < 2)
+							{
+								if (i2 == i4)
+								{
+									i6 = i6 + 1;
+									i8 = i8 + 2;
+								}
+							}
+							
+							if (i8 % 2 < 1)
+							{
+								if (i2 == i5)
+								{
+									i6 = i6 + 1;
+									i8 = i8 + 1;
+								}
+							}
+						}
+					}
+					
+					if (i6 % 100 < 10)
+					{
+						if (i8 % 8 < 4)
+						{
+							if (i8 % 4 < 2)
+							{
+								if (i3 == i4)
+								{
+									i6 = i6 + 10;
+									i8 = i8 + 2;
+								}
+							}
+							
+							if (i8 % 2 < 1)
+							{
+								if (i3 == i5)
+								{
+									i6 = i6 + 10;
+									i8 = i8 + 1;
+								}
+							}
+						}
+					}
+					else if (i6 % 10 == 0)
+					{
+						if (i8 % 8 < 4)
+						{
+							if (i8 % 4 < 2)
+							{
+								if (i3 == i4)
+								{
+									i6 = i6 + 1;
+									i8 = i8 + 2;
+								}
+							}
+							
+							if (i8 % 2 < 1)
+							{
+								if (i3 == i5)
+								{
+									i6 = i6 + 1;
+									i8 = i8 + 1;
+								}
+							}
+						}
+					}
+					
+					if (i6 % 100 < 10)
+					{
+						if (i8 % 4 < 2)
+						{
+							if (i8 % 2 < 1)
+							{
+								if (i4 == i5)
+								{
+									i6 = i6 + 10;
+									i8 = i8 + 1;
+								}
+							}
+						}
+					}
+					else if (i6 % 10 == 0)
+					{
+						if (i8 % 4 < 2)
+						{
+							if (i8 % 2 < 1)
+							{
+								if (i4 == i5)
+								{
+									i6 = i6 + 1;
+									i8 = i8 + 1;
+								}
+							}
+						}
+					}
+				}
+				
+				if (i6 == 40)
+				{
+					giveReward(st, ZIGGO_GEMSTONE, 43);
+					giveReward(st, EW_S, 3);
+					giveReward(st, EW_A, 1);
+					htmltext = getHtmlText("30845-13.htm");
+				}
+				else if (i6 == 30)
+				{
+					giveReward(st, EW_S, 2);
+					giveReward(st, EW_C, 2);
+					htmltext = getHtmlText("30845-14.htm");
+				}
+				else if (i6 == 21 || i6 == 12)
+				{
+					giveReward(st, EW_A, 1);
+					giveReward(st, EW_B, 2);
+					giveReward(st, EW_D, 1);
+					htmltext = getHtmlText("30845-15.htm");
+				}
+				else if (i6 == 20)
+				{
+					giveReward(st, EW_C, 2);
+					htmltext = getHtmlText("30845-16.htm");
+				}
+				else if (i6 == 11)
+				{
+					giveReward(st, EW_C, 1);
+					htmltext = getHtmlText("30845-17.htm");
+				}
+				else if (i6 == 10)
+				{
+					giveReward(st, EA_D, 2);
+					htmltext = getHtmlText("30845-18.htm");
+				}
+				else if (i6 == 0)
+					htmltext = getHtmlText("30845-19.htm");
+				
+				st.set("state", "0");
+				st.set("stateEx", "0");
+			}
+			
+			htmltext = htmltext.replace("%FontColor1%", (i9 % 2 < 1) ? "ffff00" : "ff6f6f").replace("%Cell1%", (i9 % 2 < 1) ? CARDS.get(0) : CARDS.get(i1));
+			htmltext = htmltext.replace("%FontColor2%", (i9 % 4 < 2) ? "ffff00" : "ff6f6f").replace("%Cell2%", (i9 % 4 < 2) ? CARDS.get(0) : CARDS.get(i2));
+			htmltext = htmltext.replace("%FontColor3%", (i9 % 8 < 4) ? "ffff00" : "ff6f6f").replace("%Cell3%", (i9 % 8 < 4) ? CARDS.get(0) : CARDS.get(i3));
+			htmltext = htmltext.replace("%FontColor4%", (i9 % 16 < 8) ? "ffff00" : "ff6f6f").replace("%Cell4%", (i9 % 16 < 8) ? CARDS.get(0) : CARDS.get(i4));
+			htmltext = htmltext.replace("%FontColor5%", (i9 % 32 < 16) ? "ffff00" : "ff6f6f").replace("%Cell5%", (i9 % 32 < 16) ? CARDS.get(0) : CARDS.get(i5));
+		}
+		else if (event.equalsIgnoreCase("30845-20.htm")) // reply 20
+		{
+			if (st.getQuestItemsCount(RED_GEM) < 50)
+				htmltext = "30845-21.htm";
+		}
+		
+		return htmltext;
+	}
+	
+	@Override
+	public String onTalk(L2Npc npc, L2PcInstance player)
+	{
+		String htmltext = getNoQuestMsg();
+		QuestState st = player.getQuestState(qn);
+		if (st == null)
+			return htmltext;
+		
+		switch (st.getState())
+		{
+			case STATE_CREATED:
+				htmltext = (player.getLevel() < 61) ? "30845-02.htm" : "30845-01.htm";
+				break;
+			
+			case STATE_STARTED:
+				int state = st.getInt("state");
+				int stateEx = st.getInt("stateEx");
+				
+				if (state == 0 && stateEx == 0)
+					htmltext = (st.getQuestItemsCount(RED_GEM) < 50) ? "30845-04.htm" : "30845-05.htm";
+				else if (state != 0 && stateEx != 0)
+				{
+					int i0, i1, i2, i3, i4, i5, i9;
+					
+					i0 = state;
+					i1 = stateEx;
+					i5 = i1 % 100;
+					i9 = i1 / 100;
+					i1 = i0 % 100;
+					i2 = i0 % 10000 / 100;
+					i3 = i0 % 1000000 / 10000;
+					i4 = i0 % 100000000 / 1000000;
+					
+					htmltext = getHtmlText("30845-11a.htm");
+					htmltext = htmltext.replace("%FontColor1%", (i9 % 2 < 1) ? "ffff00" : "ff6f6f").replace("%Cell1%", (i9 % 2 < 1) ? CARDS.get(0) : CARDS.get(i1));
+					htmltext = htmltext.replace("%FontColor2%", (i9 % 4 < 2) ? "ffff00" : "ff6f6f").replace("%Cell2%", (i9 % 4 < 2) ? CARDS.get(0) : CARDS.get(i2));
+					htmltext = htmltext.replace("%FontColor3%", (i9 % 8 < 4) ? "ffff00" : "ff6f6f").replace("%Cell3%", (i9 % 8 < 4) ? CARDS.get(0) : CARDS.get(i3));
+					htmltext = htmltext.replace("%FontColor4%", (i9 % 16 < 8) ? "ffff00" : "ff6f6f").replace("%Cell4%", (i9 % 16 < 8) ? CARDS.get(0) : CARDS.get(i4));
+					htmltext = htmltext.replace("%FontColor5%", (i9 % 32 < 16) ? "ffff00" : "ff6f6f").replace("%Cell5%", (i9 % 32 < 16) ? CARDS.get(0) : CARDS.get(i5));
+				}
+				break;
+		}
+		
+		return htmltext;
+	}
+	
+	@Override
+	public String onKill(L2Npc npc, L2PcInstance player, boolean isPet)
+	{
+		L2PcInstance partyMember = getRandomPartyMemberState(player, npc, STATE_STARTED);
+		if (partyMember == null)
+			return null;
+		
+		partyMember.getQuestState(qn).dropItems(RED_GEM, 1, 0, CHANCES.get(npc.getNpcId()));
+		return null;
+	}
+	
+	private static void giveReward(QuestState st, int item, int count)
+	{
+		final Item template = ItemTable.getInstance().getTemplate(item);
+		
+		if (template.isStackable())
+			st.giveItems(item, count);
+		else
+		{
+			for (int i = 0; i < count; i++)
+				st.giveItems(item, 1);
+		}
+	}
+	
+	public static void main(String[] args)
+	{
+		new Q662_AGameOfCards();
+	}
+}
Index: /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-01.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-01.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-01.htm	(revision 341)
@@ -0,0 +1,5 @@
+<html><body>Warehouse Chief Klump:<br>
+Are you here because you heard the rumor, too? These days, I spend a lot of my time playing cards with the travelers who pass this way. Naturally, there's plenty of reward for those who play a good game. Feel up to a game?<br>
+Of course, since you stand to win a fair amount, you can't play for free. That's why it's a game of chance, eh? If you want to play with me, bring me some of those red gems that have recently caught my eye. What do you say? Will you bring me the gems so we can begin?<br>
+<a action="bypass -h Quest Q662_AGameOfCards 30845-03.htm">Say yes.</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-10.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-10.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-10.htm	(revision 341)
@@ -0,0 +1,8 @@
+<html><body>Warehouse Chief Klump:<br>
+Good thinking! Just let me shuffle the cards...<br>
+.<br>
+.<br>
+.<br>
+Ah, there we go! Would you like to cut the deck?<br>
+<a action="bypass -h Quest Q662_AGameOfCards 30845-11.htm">Cut the card deck.</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-20.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-20.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-20.htm	(revision 341)
@@ -0,0 +1,8 @@
+<html><body>Warehouse Chief Klump:<br>
+How about another game? Just let me reshuffle these cards...<br>
+.<br>
+.<br>
+.<br>
+Ah, all set. Cut the deck, if you please.<br>
+<a action="bypass -h Quest Q662_AGameOfCards 30845-11.htm">Cut the card deck.</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-02.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-02.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-02.htm	(revision 341)
@@ -0,0 +1,5 @@
+<html><body>Warehouse Chief Klump:<br>
+Are you here because you heard the rumor, too? These days, I spend a lot of my time playing cards with the travelers who pass this way. Naturally, there's plenty of reward for those who play a good game. Feel up to a game?<br>
+Of course, since you stand to win a fair amount, you can't play for free. That's why it's a game of chance, eh? If you want to play with me, bring me some of those red gems that have recently caught my eye. Ahh, but I think this task might be a little to much for you to take on right now. Perhaps another time, eh?<br>
+(Only characters level 61 and above are permitted to take on this quest.)
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-11.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-11.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-11.htm	(revision 341)
@@ -0,0 +1,17 @@
+<html><body>Warehouse Chief Klump:<br>
+Alrighty, time to play!<br>
+Here are your 5 cards, face down. Check all 5 of your cards first, and then show them to me.<br>
+<table border="1" border color="white" width=170><tr>
+<td align="center" width=15><font color="ffff00">?</font></td>
+<td align="center" width=15><font color="ffff00">?</font></td>
+<td align="center" width=15><font color="ffff00">?</font></td>
+<td align="center" width=15><font color="ffff00">?</font></td>
+<td align="center" width=15><font color="ffff00">?</font></td>
+</tr></table>
+<br>
+<a action="bypass -h Quest Q662_AGameOfCards First">Put the first card face up.</a><br>
+<a action="bypass -h Quest Q662_AGameOfCards Second">Put the second card face up.</a><br>
+<a action="bypass -h Quest Q662_AGameOfCards Third">Put the third card face up.</a><br>
+<a action="bypass -h Quest Q662_AGameOfCards Fourth">Put the fourth card face up.</a><br>
+<a action="bypass -h Quest Q662_AGameOfCards Fifth">Put the fifth card face up.</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-21.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-21.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-21.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>Warehouse Chief Klump:<br>
+Huh? Looks like you've run out of red gems. Too bad! Why don't you collect another 50 red gems and come back, eh?
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-03.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-03.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-03.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>Warehouse Chief Klump:<br>
+Good! Then collect the Red Beads and bring them to me. There are many monsters from whom you can get get Red Beads, so listen carefully. You can get them by defeating the <font color="LEVEL">Tulben, Hames Orc Scout, Hames Orc Footman, Cursed Guardian, Hames Orc Overlord, Doom Scout, Dismal Pole, Doom Servant, Doom Archer, Doom Warrior, Bloody Queen, Trives, Falibati, Doom Knight, Ghostly Warrior, Bloody Priest, Bloody Knight, Dark Gaurd, Death Agent, Changed Creation, Chimera Piece, Nonexistent Man, Forgotten Ancient People, Shaman of Ancient Times, Antelope, Baffalo, Eye of Splendor, Wisdom of Splendor, Victory of Splendor, Signet of Splendor, Splinter Stakato, Splinter Stakato Soldier, Needle Stakato and Needle Stakato Soldier.</font> To play one game of cards, bring <font color="LEVEL">50 Red Beads</font>. Good luck!
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-11a.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-11a.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-11a.htm	(revision 341)
@@ -0,0 +1,17 @@
+<html><body>Warehouse Chief Klump:<br>
+Hey, I thought you were checking your cards! Where did you go? Your cards are untouched!<br>
+Check all 5 of them and then show them to me.<br>
+<table border="1" border color="white" width=170><tr>
+<td align="center" width=15><font color="%FontColor1%">%Cell1%</font></td>
+<td align="center" width=15><font color="%FontColor2%">%Cell2%</font></td>
+<td align="center" width=15><font color="%FontColor3%">%Cell3%</font></td>
+<td align="center" width=15><font color="%FontColor4%">%Cell4%</font></td>
+<td align="center" width=15><font color="%FontColor5%">%Cell5%</font></td>
+</tr></table>
+<br>
+<a action="bypass -h Quest Q662_AGameOfCards First">Put the first card face up.</a><br>
+<a action="bypass -h Quest Q662_AGameOfCards Second">Put the second card face up.</a><br>
+<a action="bypass -h Quest Q662_AGameOfCards Third">Put the third card face up.</a><br>
+<a action="bypass -h Quest Q662_AGameOfCards Fourth">Put the fourth card face up.</a><br>
+<a action="bypass -h Quest Q662_AGameOfCards Fifth">Put the fifth card face up.</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-12.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-12.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-12.htm	(revision 341)
@@ -0,0 +1,16 @@
+<html><body>Warehouse Chief Klump:<br>
+Check all 5 of your cards and then show them to me.<br>
+<table border="1" border color="white" width=170><tr>
+<td align="center" width=15><font color="%FontColor1%">%Cell1%</font></td>
+<td align="center" width=15><font color="%FontColor2%">%Cell2%</font></td>
+<td align="center" width=15><font color="%FontColor3%">%Cell3%</font></td>
+<td align="center" width=15><font color="%FontColor4%">%Cell4%</font></td>
+<td align="center" width=15><font color="%FontColor5%">%Cell5%</font></td>
+</tr></table>
+<br>
+<a action="bypass -h Quest Q662_AGameOfCards First">Put the first card face up.</a><br>
+<a action="bypass -h Quest Q662_AGameOfCards Second">Put the second card face up.</a><br>
+<a action="bypass -h Quest Q662_AGameOfCards Third">Put the third card face up.</a><br>
+<a action="bypass -h Quest Q662_AGameOfCards Fourth">Put the fourth card face up.</a><br>
+<a action="bypass -h Quest Q662_AGameOfCards Fifth">Put the fifth card face up.</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-13.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-13.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-13.htm	(revision 341)
@@ -0,0 +1,13 @@
+<html><body>Warehouse Chief Klump:<br>
+Did you have a look at your cards? Show them to me.<br>
+<table border="1" border color="white" width=170><tr>
+<td align="center" width=15><font color="%FontColor1%">%Cell1%</font></td>
+<td align="center" width=15><font color="%FontColor2%">%Cell2%</font></td>
+<td align="center" width=15><font color="%FontColor3%">%Cell3%</font></td>
+<td align="center" width=15><font color="%FontColor4%">%Cell4%</font></td>
+<td align="center" width=15><font color="%FontColor5%">%Cell5%</font></td>
+</tr></table>
+<br>
+Hmmmm....? This is... Five of a kind! What luck! The goddess of victory must be with you! Here is your prize! Well earned, well played!<br>
+<a action="bypass -h Quest Q662_AGameOfCards 30845-20.htm">Play again.</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-04.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-04.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-04.htm	(revision 341)
@@ -0,0 +1,7 @@
+<html><body>Warehouse Chief Klump:<br>
+You haven't collected 50 Red Beads yet. You can get them by defeating the <font color="LEVEL">Tulben, Hames Orc Scout, Hames Orc Footman, Cursed Guardian, Hames Orc Overlord, Doom Scout, Dismal Pole, Doom Servant, Doom Archer, Doom Warrior, Bloody Queen, Trives, Falibati, Doom Knight, Ghostly Warrior,Bloody Priest, Bloody Knight, Dark Gaurd, Death Agent, Changed Creation, Chimera Piece, Nonexistent Man, Forgotten Ancient People, Shaman of Ancient Times, Antelope, Baffalo, Eye of Splendor, Wisdom of Splendor, Victory of Splendor, Signet of Splendor, Splinter Stakato, Splinter Stakato Soldier, Needle Stakato and Needle Stakato Soldier</font>.<br>
+<a action="bypass -h Quest Q662_AGameOfCards 30845-06.htm">"I'll come back later."</a><br>
+<a action="bypass -h Quest Q662_AGameOfCards 30845-07.htm">"I think I'll quit."</a><br>
+<a action="bypass -h Quest Q662_AGameOfCards 30845-09.htm">Listen to an explanation of the rules.</a><br>
+<a action="bypass -h Quest Q662_AGameOfCards 30845-09a.htm">Learn about the cards.</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-11b.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-11b.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-11b.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>Warehouse Chief Klump:<br>
+Huh? Where are the red gems? There were clearly more than 10 of them... Was I mistaken?
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-14.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-14.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-14.htm	(revision 341)
@@ -0,0 +1,13 @@
+<html><body>Warehouse Chief Klump:<br>
+Did you have a look at your cards? Show them to me.<br>
+<table border="1" border color="white" width=170><tr>
+<td align="center" width=15><font color="%FontColor1%">%Cell1%</font></td>
+<td align="center" width=15><font color="%FontColor2%">%Cell2%</font></td>
+<td align="center" width=15><font color="%FontColor3%">%Cell3%</font></td>
+<td align="center" width=15><font color="%FontColor4%">%Cell4%</font></td>
+<td align="center" width=15><font color="%FontColor5%">%Cell5%</font></td>
+</tr></table>
+<br>
+Hmmmm...? This is... Four of a kind! Well done, my young friend! That sort of hand doesn't come up very often, that's for sure. Here's your prize.<br>
+<a action="bypass -h Quest Q662_AGameOfCards 30845-20.htm">Play again.</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-05.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-05.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-05.htm	(revision 341)
@@ -0,0 +1,8 @@
+<html><body>Warehouse Chief Klump:<br>
+Hey, you've brought all 50 red gems. Terrific! What do say? Ready to play some cards?<br>
+<a action="bypass -h Quest Q662_AGameOfCards 30845-10.htm">Play cards.</a><br>
+<a action="bypass -h Quest Q662_AGameOfCards 30845-08.htm">Play next time.</a><br>
+<a action="bypass -h Quest Q662_AGameOfCards 30845-09.htm">Listen to the explanation of the rules.</a><br>
+<a action="bypass -h Quest Q662_AGameOfCards 30845-09a.htm">Listen to the story about the cards.</a><br>
+<a action="bypass -h Quest Q662_AGameOfCards 30845-09b.htm">Ask about evil creatures that you can collect red gems from.</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-15.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-15.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-15.htm	(revision 341)
@@ -0,0 +1,13 @@
+<html><body>Warehouse Chief Klump:<br>
+Did you have a look at your cards? Show them to me.<br>
+<table border="1" border color="white" width=170><tr>
+<td align="center" width=15><font color="%FontColor1%">%Cell1%</font></td>
+<td align="center" width=15><font color="%FontColor2%">%Cell2%</font></td>
+<td align="center" width=15><font color="%FontColor3%">%Cell3%</font></td>
+<td align="center" width=15><font color="%FontColor4%">%Cell4%</font></td>
+<td align="center" width=15><font color="%FontColor5%">%Cell5%</font></td>
+</tr></table>
+<br>
+Hmmmm...? This is... A full house? Excellent! You're better than I thought. Here's your prize.<br>
+<a action="bypass -h Quest Q662_AGameOfCards 30845-20.htm">Play again.</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-06.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-06.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-06.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>Warehouse Chief Klump:<br>
+Okay, then. Once you collect all 50 red gems, come back.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-07.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-07.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-07.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>Warehouse Chief Klump:<br>
+Are you quitting? If you ever change your mind, come back any time.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-16.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-16.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-16.htm	(revision 341)
@@ -0,0 +1,13 @@
+<html><body>Warehouse Chief Klump:<br>
+Did you have a look at your cards? Show them to me.<br>
+<table border="1" border color="white" width=170><tr>
+<td align="center" width=15><font color="%FontColor1%">%Cell1%</font></td>
+<td align="center" width=15><font color="%FontColor2%">%Cell2%</font></td>
+<td align="center" width=15><font color="%FontColor3%">%Cell3%</font></td>
+<td align="center" width=15><font color="%FontColor4%">%Cell4%</font></td>
+<td align="center" width=15><font color="%FontColor5%">%Cell5%</font></td>
+</tr></table>
+<br>
+Hmmmm...? This is... Three of a kind? You're lucky, I'll say that for you! Here's your prize.<br>
+<a action="bypass -h Quest Q662_AGameOfCards 30845-20.htm">Play again.</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-08.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-08.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-08.htm	(revision 341)
@@ -0,0 +1,3 @@
+<html><body>Warehouse Chief Klump:<br>
+Oh yeah? You're very cautious, I see. This game largely depends on luck, so I think it's a good idea to trust your intuition. When you feel like it, come back and challenge me again.
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-17.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-17.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-17.htm	(revision 341)
@@ -0,0 +1,13 @@
+<html><body>Warehouse Chief Klump:<br>
+Did you have a look at your cards? Show them to me.<br>
+<table border="1" border color="white" width=170><tr>
+<td align="center" width=15><font color="%FontColor1%">%Cell1%</font></td>
+<td align="center" width=15><font color="%FontColor2%">%Cell2%</font></td>
+<td align="center" width=15><font color="%FontColor3%">%Cell3%</font></td>
+<td align="center" width=15><font color="%FontColor4%">%Cell4%</font></td>
+<td align="center" width=15><font color="%FontColor5%">%Cell5%</font></td>
+</tr></table>
+<br>
+Hmmmm...? This is... Two pair? Not bad. Here's your prize.<br>
+<a action="bypass -h Quest Q662_AGameOfCards 30845-20.htm">Play again.</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-09.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-09.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-09.htm	(revision 341)
@@ -0,0 +1,11 @@
+<html><body>Warehouse Chief Klump:<br>
+It's very simple. There are 70 cards, made up of 5 suits with 14 characters in each suit. You draw 5 cards from the lot, and if you get one of the combination of cards below, you can be rewarded.<br>
+Five of a kind: Five cards containing the same character.<br1>
+Four of a kind: Four cards containing the same character.<br1>
+Full house: Three cards with the same character aLong with two cards with the same character.<br1>
+Three of a kind: Three cards with the same character.<br1>
+Two pairs: Two pairs of cards with the same characters in each pair.<br1>
+One pair: Two cards with the same character.<br>
+If you don't have any of the hands I just mentioned, it's called having "no pair", and you don't get anything. Of course, a five of a kind is rare, so the reward for getting it is high; on the other hand, one pair is the easiest hand to get, so you'll receive only the lowest reward.<br>
+<a action="bypass -h Quest Q662_AGameOfCards 30845-04.htm">Return.</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-18.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-18.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-18.htm	(revision 341)
@@ -0,0 +1,13 @@
+<html><body>Warehouse Chief Klump:<br>
+Did you have a look at your cards? Show them to me.<br>
+<table border="1" border color="white" width=170><tr>
+<td align="center" width=15><font color="%FontColor1%">%Cell1%</font></td>
+<td align="center" width=15><font color="%FontColor2%">%Cell2%</font></td>
+<td align="center" width=15><font color="%FontColor3%">%Cell3%</font></td>
+<td align="center" width=15><font color="%FontColor4%">%Cell4%</font></td>
+<td align="center" width=15><font color="%FontColor5%">%Cell5%</font></td>
+</tr></table>
+<br>
+Hmmmm...? This is... One pair? You got lucky this time, but I wonder if it'll last. Here's your prize.<br>
+<a action="bypass -h Quest Q662_AGameOfCards 30845-20.htm">Play again.</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-09a.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-09a.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-09a.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>Warehouse Chief Klump:<br>
+Actually, a fellow named Hindemith left these cards. Looks like they have some kind of message on them, but I have no idea what that means... I just use them to play cards... Ha ha ha!<br>
+<a action="bypass -h Quest Q662_AGameOfCards 30845-04.htm">Return.</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-19.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-19.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-19.htm	(revision 341)
@@ -0,0 +1,13 @@
+<html><body>Warehouse Chief Klump:<br>
+Did you have a look at your cards? Show them to me.<br>
+<table border="1" border color="white" width=170><tr>
+<td align="center" width=15><font color="%FontColor1%">%Cell1%</font></td>
+<td align="center" width=15><font color="%FontColor2%">%Cell2%</font></td>
+<td align="center" width=15><font color="%FontColor3%">%Cell3%</font></td>
+<td align="center" width=15><font color="%FontColor4%">%Cell4%</font></td>
+<td align="center" width=15><font color="%FontColor5%">%Cell5%</font></td>
+</tr></table>
+<br>
+Hmmmm...? This is... No pair? Tough luck, my friend! Want to try again? Perhaps your luck will take a turn for the better...<br>
+<a action="bypass -h Quest Q662_AGameOfCards 30845-20.htm">Play again.</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-09b.htm
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-09b.htm	(revision 341)
+++ /trunk/aCis_datapack/data/scripts/quests/Q662_AGameOfCards/30845-09b.htm	(revision 341)
@@ -0,0 +1,4 @@
+<html><body>Warehouse Chief Klump:<br>
+You can obtain red gems from many evil creatures. Get them by slaying the <font color="LEVEL">Tulben, Hames Orc Scout, Hames Orc Footman, Cursed Guardian, Hames Orc Overlord, Doom Scout, Dismal Pole, Doom Servant, Doom Archer, Doom Warrior, Blood Queen, Trives, Falibati, Doom Knight, Ghostly Warrior, Bloody Priest, Bloody Knight, Dark Guard, Death Agent, Black Shadow, Chimera Piece, Nonexistent Man, Forgotten Ancient People, Shaman of Ancient Times, Antelope, Buffalo, Eye of Splendor, Wisdom of Splendor, Victory of Splendor, Signet of Splendor, Splinter Stakato, Splinter Stakato Soldier, Needle Stakato and Needle Stakato Soldier.</font> To play the card game once, you'll need to bring me <font color="LEVEL">50 red gems</font>.<br>
+<a action="bypass -h Quest Q662_AGameOfCards 30845-04.htm">Go back.</a>
+</body></html>
Index: /trunk/aCis_datapack/data/scripts/quests/Q325_GrimCollector/Q325_GrimCollector.java
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q325_GrimCollector/Q325_GrimCollector.java	(revision 340)
+++ /trunk/aCis_datapack/data/scripts/quests/Q325_GrimCollector/Q325_GrimCollector.java	(revision 341)
@@ -73,10 +73,10 @@
 	}
 	
-	private int getNumberOfPieces(QuestState st)
+	private static int getNumberOfPieces(QuestState st)
 	{
 		return st.getQuestItemsCount(ZOMBIE_HEAD) + st.getQuestItemsCount(SPINE) + st.getQuestItemsCount(ARM_BONE) + st.getQuestItemsCount(ZOMBIE_HEART) + st.getQuestItemsCount(ZOMBIE_LIVER) + st.getQuestItemsCount(SKULL) + st.getQuestItemsCount(RIB_BONE) + st.getQuestItemsCount(THIGH_BONE) + st.getQuestItemsCount(COMPLETE_SKELETON);
 	}
 	
-	private void payback(QuestState st)
+	private static void payback(QuestState st)
 	{
 		final int count = getNumberOfPieces(st);
Index: /trunk/aCis_datapack/data/scripts/quests/Q126_TheNameOfEvil_2/Q126_TheNameOfEvil_2.java
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q126_TheNameOfEvil_2/Q126_TheNameOfEvil_2.java	(revision 340)
+++ /trunk/aCis_datapack/data/scripts/quests/Q126_TheNameOfEvil_2/Q126_TheNameOfEvil_2.java	(revision 341)
@@ -391,5 +391,5 @@
 	}
 	
-	private String getSongOne(QuestState st)
+	private static String getSongOne(QuestState st)
 	{
 		String htmltext = "32122-24.htm";
@@ -408,5 +408,5 @@
 	}
 	
-	private String getSongTwo(QuestState st)
+	private static String getSongTwo(QuestState st)
 	{
 		String htmltext = "32122-45.htm";
@@ -425,5 +425,5 @@
 	}
 	
-	private String getSongTri(QuestState st)
+	private static String getSongTri(QuestState st)
 	{
 		String htmltext = "32122-66.htm";
Index: /trunk/aCis_datapack/data/scripts/quests/Q373_SupplierOfReagents/Q373_SupplierOfReagents.java
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q373_SupplierOfReagents/Q373_SupplierOfReagents.java	(revision 340)
+++ /trunk/aCis_datapack/data/scripts/quests/Q373_SupplierOfReagents/Q373_SupplierOfReagents.java	(revision 341)
@@ -358,6 +358,5 @@
 						return "31149-12-" + formula[3] + ".htm";
 					}
-					else
-						return "31149-11.htm";
+					return "31149-11.htm";
 				}
 			}
Index: /trunk/aCis_datapack/data/scripts/quests/Q350_EnhanceYourWeapon/Q350_EnhanceYourWeapon.java
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q350_EnhanceYourWeapon/Q350_EnhanceYourWeapon.java	(revision 340)
+++ /trunk/aCis_datapack/data/scripts/quests/Q350_EnhanceYourWeapon/Q350_EnhanceYourWeapon.java	(revision 341)
@@ -181,7 +181,6 @@
 	 * @param npcInfo : The mob's leveling informations.
 	 * @param chance : Input variable used to determine keep/stage/break of the crystal.
-	 * @return Returns true only, when crystal is staged or broken (aka any type of crystal change is made), else returns false.
 	 */
-	private void tryToStageCrystal(L2PcInstance player, L2Attackable mob, LevelingInfo npcInfo, int chance)
+	private static void tryToStageCrystal(L2PcInstance player, L2Attackable mob, LevelingInfo npcInfo, int chance)
 	{
 		SoulCrystalData crystalData = null;
@@ -267,5 +266,5 @@
 	 * @param stage : Switch to determine success or fail.
 	 */
-	private void exchangeCrystal(L2PcInstance player, SoulCrystalData scd, boolean stage)
+	private static void exchangeCrystal(L2PcInstance player, SoulCrystalData scd, boolean stage)
 	{
 		QuestState st = player.getQuestState(qn);
Index: /trunk/aCis_datapack/data/scripts/quests/Q344_1000YearsTheEndOfLamentation/Q344_1000YearsTheEndOfLamentation.java
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q344_1000YearsTheEndOfLamentation/Q344_1000YearsTheEndOfLamentation.java	(revision 340)
+++ /trunk/aCis_datapack/data/scripts/quests/Q344_1000YearsTheEndOfLamentation/Q344_1000YearsTheEndOfLamentation.java	(revision 341)
@@ -182,5 +182,5 @@
 	}
 	
-	private void rewards(QuestState st, int npcId)
+	private static void rewards(QuestState st, int npcId)
 	{
 		switch (npcId)
Index: /trunk/aCis_datapack/data/scripts/quests/Q620_FourGoblets/Q620_FourGoblets.java
===================================================================
--- /trunk/aCis_datapack/data/scripts/quests/Q620_FourGoblets/Q620_FourGoblets.java	(revision 340)
+++ /trunk/aCis_datapack/data/scripts/quests/Q620_FourGoblets/Q620_FourGoblets.java	(revision 341)
@@ -276,5 +276,5 @@
 	 * @return true if there was a reward, false if not (used to call a "no-reward" html)
 	 */
-	private boolean calculateBoxReward(QuestState st)
+	private static boolean calculateBoxReward(QuestState st)
 	{
 		boolean reward = false;
Index: /trunk/aCis_datapack/.settings/org.eclipse.jdt.core.prefs
===================================================================
--- /trunk/aCis_datapack/.settings/org.eclipse.jdt.core.prefs	(revision 340)
+++ /trunk/aCis_datapack/.settings/org.eclipse.jdt.core.prefs	(revision 341)
@@ -1,3 +1,126 @@
 eclipse.preferences.version=1
+org.eclipse.jdt.core.codeComplete.argumentPrefixes=
+org.eclipse.jdt.core.codeComplete.argumentSuffixes=
+org.eclipse.jdt.core.codeComplete.fieldPrefixes=
+org.eclipse.jdt.core.codeComplete.fieldSuffixes=
+org.eclipse.jdt.core.codeComplete.localPrefixes=
+org.eclipse.jdt.core.codeComplete.localSuffixes=
+org.eclipse.jdt.core.codeComplete.staticFieldPrefixes=
+org.eclipse.jdt.core.codeComplete.staticFieldSuffixes=
+org.eclipse.jdt.core.codeComplete.staticFinalFieldPrefixes=
+org.eclipse.jdt.core.codeComplete.staticFinalFieldSuffixes=
+org.eclipse.jdt.core.compiler.annotation.inheritNullAnnotations=disabled
+org.eclipse.jdt.core.compiler.annotation.missingNonNullByDefaultAnnotation=ignore
+org.eclipse.jdt.core.compiler.annotation.nonnull=org.eclipse.jdt.annotation.NonNull
+org.eclipse.jdt.core.compiler.annotation.nonnullbydefault=org.eclipse.jdt.annotation.NonNullByDefault
+org.eclipse.jdt.core.compiler.annotation.nullable=org.eclipse.jdt.annotation.Nullable
+org.eclipse.jdt.core.compiler.annotation.nullanalysis=disabled
+org.eclipse.jdt.core.compiler.codegen.inlineJsrBytecode=enabled
+org.eclipse.jdt.core.compiler.codegen.methodParameters=do not generate
+org.eclipse.jdt.core.compiler.codegen.targetPlatform=1.8
+org.eclipse.jdt.core.compiler.codegen.unusedLocal=preserve
+org.eclipse.jdt.core.compiler.compliance=1.8
+org.eclipse.jdt.core.compiler.debug.lineNumber=generate
+org.eclipse.jdt.core.compiler.debug.localVariable=generate
+org.eclipse.jdt.core.compiler.debug.sourceFile=generate
+org.eclipse.jdt.core.compiler.doc.comment.support=enabled
+org.eclipse.jdt.core.compiler.problem.annotationSuperInterface=warning
+org.eclipse.jdt.core.compiler.problem.assertIdentifier=error
+org.eclipse.jdt.core.compiler.problem.autoboxing=ignore
+org.eclipse.jdt.core.compiler.problem.comparingIdentical=warning
+org.eclipse.jdt.core.compiler.problem.deadCode=warning
+org.eclipse.jdt.core.compiler.problem.deprecation=warning
+org.eclipse.jdt.core.compiler.problem.deprecationInDeprecatedCode=disabled
+org.eclipse.jdt.core.compiler.problem.deprecationWhenOverridingDeprecatedMethod=disabled
+org.eclipse.jdt.core.compiler.problem.discouragedReference=warning
+org.eclipse.jdt.core.compiler.problem.emptyStatement=ignore
+org.eclipse.jdt.core.compiler.problem.enumIdentifier=error
+org.eclipse.jdt.core.compiler.problem.explicitlyClosedAutoCloseable=ignore
+org.eclipse.jdt.core.compiler.problem.fallthroughCase=ignore
+org.eclipse.jdt.core.compiler.problem.fatalOptionalError=disabled
+org.eclipse.jdt.core.compiler.problem.fieldHiding=ignore
+org.eclipse.jdt.core.compiler.problem.finalParameterBound=warning
+org.eclipse.jdt.core.compiler.problem.finallyBlockNotCompletingNormally=warning
+org.eclipse.jdt.core.compiler.problem.forbiddenReference=error
+org.eclipse.jdt.core.compiler.problem.hiddenCatchBlock=warning
+org.eclipse.jdt.core.compiler.problem.includeNullInfoFromAsserts=disabled
+org.eclipse.jdt.core.compiler.problem.incompatibleNonInheritedInterfaceMethod=warning
+org.eclipse.jdt.core.compiler.problem.incompleteEnumSwitch=ignore
+org.eclipse.jdt.core.compiler.problem.indirectStaticAccess=ignore
+org.eclipse.jdt.core.compiler.problem.invalidJavadoc=warning
+org.eclipse.jdt.core.compiler.problem.invalidJavadocTags=enabled
+org.eclipse.jdt.core.compiler.problem.invalidJavadocTagsDeprecatedRef=enabled
+org.eclipse.jdt.core.compiler.problem.invalidJavadocTagsNotVisibleRef=enabled
+org.eclipse.jdt.core.compiler.problem.invalidJavadocTagsVisibility=private
+org.eclipse.jdt.core.compiler.problem.localVariableHiding=ignore
+org.eclipse.jdt.core.compiler.problem.methodWithConstructorName=warning
+org.eclipse.jdt.core.compiler.problem.missingDefaultCase=ignore
+org.eclipse.jdt.core.compiler.problem.missingDeprecatedAnnotation=warning
+org.eclipse.jdt.core.compiler.problem.missingEnumCaseDespiteDefault=disabled
+org.eclipse.jdt.core.compiler.problem.missingHashCodeMethod=ignore
+org.eclipse.jdt.core.compiler.problem.missingJavadocComments=ignore
+org.eclipse.jdt.core.compiler.problem.missingJavadocCommentsOverriding=disabled
+org.eclipse.jdt.core.compiler.problem.missingJavadocCommentsVisibility=public
+org.eclipse.jdt.core.compiler.problem.missingJavadocTagDescription=no_tag
+org.eclipse.jdt.core.compiler.problem.missingJavadocTags=warning
+org.eclipse.jdt.core.compiler.problem.missingJavadocTagsMethodTypeParameters=enabled
+org.eclipse.jdt.core.compiler.problem.missingJavadocTagsOverriding=enabled
+org.eclipse.jdt.core.compiler.problem.missingJavadocTagsVisibility=private
+org.eclipse.jdt.core.compiler.problem.missingOverrideAnnotation=warning
+org.eclipse.jdt.core.compiler.problem.missingOverrideAnnotationForInterfaceMethodImplementation=enabled
+org.eclipse.jdt.core.compiler.problem.missingSerialVersion=warning
+org.eclipse.jdt.core.compiler.problem.missingSynchronizedOnInheritedMethod=warning
+org.eclipse.jdt.core.compiler.problem.noEffectAssignment=warning
+org.eclipse.jdt.core.compiler.problem.noImplicitStringConversion=warning
+org.eclipse.jdt.core.compiler.problem.nonExternalizedStringLiteral=ignore
+org.eclipse.jdt.core.compiler.problem.nonnullParameterAnnotationDropped=warning
+org.eclipse.jdt.core.compiler.problem.nullAnnotationInferenceConflict=error
+org.eclipse.jdt.core.compiler.problem.nullReference=warning
+org.eclipse.jdt.core.compiler.problem.nullSpecViolation=error
+org.eclipse.jdt.core.compiler.problem.nullUncheckedConversion=warning
+org.eclipse.jdt.core.compiler.problem.overridingPackageDefaultMethod=warning
+org.eclipse.jdt.core.compiler.problem.parameterAssignment=ignore
+org.eclipse.jdt.core.compiler.problem.possibleAccidentalBooleanAssignment=warning
+org.eclipse.jdt.core.compiler.problem.potentialNullReference=warning
+org.eclipse.jdt.core.compiler.problem.potentiallyUnclosedCloseable=ignore
+org.eclipse.jdt.core.compiler.problem.rawTypeReference=warning
+org.eclipse.jdt.core.compiler.problem.redundantNullAnnotation=warning
+org.eclipse.jdt.core.compiler.problem.redundantNullCheck=warning
+org.eclipse.jdt.core.compiler.problem.redundantSpecificationOfTypeArguments=warning
+org.eclipse.jdt.core.compiler.problem.redundantSuperinterface=warning
+org.eclipse.jdt.core.compiler.problem.reportMethodCanBePotentiallyStatic=ignore
+org.eclipse.jdt.core.compiler.problem.reportMethodCanBeStatic=warning
+org.eclipse.jdt.core.compiler.problem.specialParameterHidingField=disabled
+org.eclipse.jdt.core.compiler.problem.staticAccessReceiver=warning
+org.eclipse.jdt.core.compiler.problem.suppressOptionalErrors=disabled
+org.eclipse.jdt.core.compiler.problem.suppressWarnings=enabled
+org.eclipse.jdt.core.compiler.problem.syntacticNullAnalysisForFields=disabled
+org.eclipse.jdt.core.compiler.problem.syntheticAccessEmulation=warning
+org.eclipse.jdt.core.compiler.problem.typeParameterHiding=warning
+org.eclipse.jdt.core.compiler.problem.unavoidableGenericTypeProblems=enabled
+org.eclipse.jdt.core.compiler.problem.uncheckedTypeOperation=warning
+org.eclipse.jdt.core.compiler.problem.unclosedCloseable=ignore
+org.eclipse.jdt.core.compiler.problem.undocumentedEmptyBlock=ignore
+org.eclipse.jdt.core.compiler.problem.unhandledWarningToken=warning
+org.eclipse.jdt.core.compiler.problem.unnecessaryElse=warning
+org.eclipse.jdt.core.compiler.problem.unnecessaryTypeCheck=warning
+org.eclipse.jdt.core.compiler.problem.unqualifiedFieldAccess=ignore
+org.eclipse.jdt.core.compiler.problem.unusedDeclaredThrownException=warning
+org.eclipse.jdt.core.compiler.problem.unusedDeclaredThrownExceptionExemptExceptionAndThrowable=disabled
+org.eclipse.jdt.core.compiler.problem.unusedDeclaredThrownExceptionIncludeDocCommentReference=disabled
+org.eclipse.jdt.core.compiler.problem.unusedDeclaredThrownExceptionWhenOverriding=enabled
+org.eclipse.jdt.core.compiler.problem.unusedImport=warning
+org.eclipse.jdt.core.compiler.problem.unusedLabel=warning
+org.eclipse.jdt.core.compiler.problem.unusedLocal=warning
+org.eclipse.jdt.core.compiler.problem.unusedObjectAllocation=ignore
+org.eclipse.jdt.core.compiler.problem.unusedParameter=ignore
+org.eclipse.jdt.core.compiler.problem.unusedParameterIncludeDocCommentReference=enabled
+org.eclipse.jdt.core.compiler.problem.unusedParameterWhenImplementingAbstract=disabled
+org.eclipse.jdt.core.compiler.problem.unusedParameterWhenOverridingConcrete=disabled
+org.eclipse.jdt.core.compiler.problem.unusedPrivateMember=warning
+org.eclipse.jdt.core.compiler.problem.unusedTypeParameter=ignore
+org.eclipse.jdt.core.compiler.problem.unusedWarningToken=warning
+org.eclipse.jdt.core.compiler.problem.varargsArgumentNeedCast=warning
+org.eclipse.jdt.core.compiler.source=1.8
 org.eclipse.jdt.core.formatter.align_type_members_on_columns=false
 org.eclipse.jdt.core.formatter.alignment_for_arguments_in_allocation_expression=0
@@ -84,4 +207,5 @@
 org.eclipse.jdt.core.formatter.insert_new_line_after_annotation_on_field=insert
 org.eclipse.jdt.core.formatter.insert_new_line_after_annotation_on_local_variable=insert
+org.eclipse.jdt.core.formatter.insert_new_line_after_annotation_on_member=insert
 org.eclipse.jdt.core.formatter.insert_new_line_after_annotation_on_method=insert
 org.eclipse.jdt.core.formatter.insert_new_line_after_annotation_on_package=insert
Index: /trunk/aCis_gameserver/.settings/org.eclipse.jdt.core.prefs
===================================================================
--- /trunk/aCis_gameserver/.settings/org.eclipse.jdt.core.prefs	(revision 340)
+++ /trunk/aCis_gameserver/.settings/org.eclipse.jdt.core.prefs	(revision 341)
@@ -10,4 +10,5 @@
 org.eclipse.jdt.core.codeComplete.staticFinalFieldPrefixes=
 org.eclipse.jdt.core.codeComplete.staticFinalFieldSuffixes=
+org.eclipse.jdt.core.compiler.annotation.inheritNullAnnotations=disabled
 org.eclipse.jdt.core.compiler.annotation.missingNonNullByDefaultAnnotation=ignore
 org.eclipse.jdt.core.compiler.annotation.nonnull=org.eclipse.jdt.annotation.NonNull
@@ -15,6 +16,15 @@
 org.eclipse.jdt.core.compiler.annotation.nullable=org.eclipse.jdt.annotation.Nullable
 org.eclipse.jdt.core.compiler.annotation.nullanalysis=disabled
+org.eclipse.jdt.core.compiler.codegen.inlineJsrBytecode=enabled
+org.eclipse.jdt.core.compiler.codegen.methodParameters=do not generate
+org.eclipse.jdt.core.compiler.codegen.targetPlatform=1.8
+org.eclipse.jdt.core.compiler.codegen.unusedLocal=preserve
+org.eclipse.jdt.core.compiler.compliance=1.8
+org.eclipse.jdt.core.compiler.debug.lineNumber=generate
+org.eclipse.jdt.core.compiler.debug.localVariable=generate
+org.eclipse.jdt.core.compiler.debug.sourceFile=generate
 org.eclipse.jdt.core.compiler.doc.comment.support=enabled
 org.eclipse.jdt.core.compiler.problem.annotationSuperInterface=warning
+org.eclipse.jdt.core.compiler.problem.assertIdentifier=error
 org.eclipse.jdt.core.compiler.problem.autoboxing=ignore
 org.eclipse.jdt.core.compiler.problem.comparingIdentical=warning
@@ -25,4 +35,5 @@
 org.eclipse.jdt.core.compiler.problem.discouragedReference=warning
 org.eclipse.jdt.core.compiler.problem.emptyStatement=ignore
+org.eclipse.jdt.core.compiler.problem.enumIdentifier=error
 org.eclipse.jdt.core.compiler.problem.explicitlyClosedAutoCloseable=ignore
 org.eclipse.jdt.core.compiler.problem.fallthroughCase=ignore
@@ -63,4 +74,5 @@
 org.eclipse.jdt.core.compiler.problem.noImplicitStringConversion=warning
 org.eclipse.jdt.core.compiler.problem.nonExternalizedStringLiteral=ignore
+org.eclipse.jdt.core.compiler.problem.nonnullParameterAnnotationDropped=warning
 org.eclipse.jdt.core.compiler.problem.nullAnnotationInferenceConflict=error
 org.eclipse.jdt.core.compiler.problem.nullReference=warning
@@ -83,4 +95,5 @@
 org.eclipse.jdt.core.compiler.problem.suppressOptionalErrors=disabled
 org.eclipse.jdt.core.compiler.problem.suppressWarnings=enabled
+org.eclipse.jdt.core.compiler.problem.syntacticNullAnalysisForFields=disabled
 org.eclipse.jdt.core.compiler.problem.syntheticAccessEmulation=warning
 org.eclipse.jdt.core.compiler.problem.typeParameterHiding=warning
@@ -106,6 +119,8 @@
 org.eclipse.jdt.core.compiler.problem.unusedParameterWhenOverridingConcrete=disabled
 org.eclipse.jdt.core.compiler.problem.unusedPrivateMember=warning
+org.eclipse.jdt.core.compiler.problem.unusedTypeParameter=ignore
 org.eclipse.jdt.core.compiler.problem.unusedWarningToken=warning
 org.eclipse.jdt.core.compiler.problem.varargsArgumentNeedCast=warning
+org.eclipse.jdt.core.compiler.source=1.8
 org.eclipse.jdt.core.formatter.align_type_members_on_columns=false
 org.eclipse.jdt.core.formatter.alignment_for_arguments_in_allocation_expression=0
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/handler/admincommandhandlers/AdminEditChar.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/handler/admincommandhandlers/AdminEditChar.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/handler/admincommandhandlers/AdminEditChar.java	(revision 341)
@@ -43,4 +43,5 @@
 import net.sf.l2j.gameserver.network.SystemMessageId;
 import net.sf.l2j.gameserver.network.serverpackets.GMViewItemList;
+import net.sf.l2j.gameserver.network.serverpackets.HennaInfo;
 import net.sf.l2j.gameserver.network.serverpackets.NpcHtmlMessage;
 import net.sf.l2j.gameserver.util.Util;
@@ -249,4 +250,5 @@
 					player.refreshOverloaded();
 					player.store();
+					player.sendPacket(new HennaInfo(player));
 					player.broadcastUserInfo();
 					
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/handler/admincommandhandlers/AdminAnnouncements.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/handler/admincommandhandlers/AdminAnnouncements.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/handler/admincommandhandlers/AdminAnnouncements.java	(revision 341)
@@ -23,5 +23,5 @@
  * This class handles following admin commands:
  * <ul>
- * <li>announce list|all|add|add_auto|del : announcement management.</li>
+ * <li>announce list|all|all_auto|add|add_auto|del : announcement management.</li>
  * <li>ann : announces to all players (basic usage).</li>
  * <li>say : critical announces to all players.</li>
@@ -51,9 +51,16 @@
 				case "all":
 					for (L2PcInstance player : L2World.getInstance().getAllPlayers().values())
-						AnnouncementTable.getInstance().showAnnouncements(player);
+						AnnouncementTable.getInstance().showAnnouncements(player, false);
 					
 					AnnouncementTable.getInstance().listAnnouncements(activeChar);
 					break;
-				
+					
+				case "all_auto":
+					for (L2PcInstance player : L2World.getInstance().getAllPlayers().values())
+						AnnouncementTable.getInstance().showAnnouncements(player, true);
+					
+					AnnouncementTable.getInstance().listAnnouncements(activeChar);
+					break;
+					
 				case "add":
 					try
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/ExStorageMaxCount.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/ExStorageMaxCount.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/ExStorageMaxCount.java	(revision 341)
@@ -17,30 +17,23 @@
 import net.sf.l2j.gameserver.model.actor.instance.L2PcInstance;
 
-/**
- * Format: (ch)ddddddd d: Number of Inventory Slots d: Number of Warehouse Slots d: Number of Freight Slots (unconfirmed) (200 for a low level dwarf) d: Private Sell Store Slots (unconfirmed) (4 for a low level dwarf) d: Private Buy Store Slots (unconfirmed) (5 for a low level dwarf) d: Dwarven
- * Recipe Book Slots d: Normal Recipe Book Slots
- * @author -Wooden- format from KenM
- */
 public class ExStorageMaxCount extends L2GameServerPacket
 {
-	private final L2PcInstance _activeChar;
-	private final int _inventory;
-	private final int _warehouse;
-	private final int _freight;
-	private final int _privateSell;
-	private final int _privateBuy;
-	private final int _receipeD;
-	private final int _recipe;
+	private final int _inventoryLimit;
+	private final int _warehouseLimit;
+	private final int _freightLimit;
+	private final int _privateSellLimit;
+	private final int _privateBuyLimit;
+	private final int _dwarfRecipeLimit;
+	private final int _commonRecipeLimit;
 	
-	public ExStorageMaxCount(L2PcInstance character)
+	public ExStorageMaxCount(L2PcInstance player)
 	{
-		_activeChar = character;
-		_inventory = _activeChar.getInventoryLimit();
-		_warehouse = _activeChar.getWareHouseLimit();
-		_privateSell = _activeChar.getPrivateSellStoreLimit();
-		_privateBuy = _activeChar.getPrivateBuyStoreLimit();
-		_freight = _activeChar.getFreightLimit();
-		_receipeD = _activeChar.getDwarfRecipeLimit();
-		_recipe = _activeChar.getCommonRecipeLimit();
+		_inventoryLimit = player.getInventoryLimit();
+		_warehouseLimit = player.getWareHouseLimit();
+		_freightLimit = player.getFreightLimit();
+		_privateSellLimit = player.getPrivateSellStoreLimit();
+		_privateBuyLimit = player.getPrivateBuyStoreLimit();
+		_dwarfRecipeLimit = player.getDwarfRecipeLimit();
+		_commonRecipeLimit = player.getCommonRecipeLimit();
 	}
 	
@@ -50,13 +43,11 @@
 		writeC(0xfe);
 		writeH(0x2e);
-		
-		writeD(_inventory);
-		writeD(_warehouse);
-		writeD(_freight);
-		writeD(_privateSell);
-		writeD(_privateBuy);
-		writeD(_receipeD);
-		writeD(_recipe);
-		
+		writeD(_inventoryLimit);
+		writeD(_warehouseLimit);
+		writeD(_freightLimit);
+		writeD(_privateSellLimit);
+		writeD(_privateBuyLimit);
+		writeD(_dwarfRecipeLimit);
+		writeD(_commonRecipeLimit);
 	}
 }
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/TradeItemUpdate.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/TradeItemUpdate.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/TradeItemUpdate.java	(revision 341)
@@ -15,5 +15,5 @@
 package net.sf.l2j.gameserver.network.serverpackets;
 
-import java.util.Arrays;
+import java.util.List;
 
 import net.sf.l2j.gameserver.model.TradeList;
@@ -24,6 +24,6 @@
 public class TradeItemUpdate extends L2GameServerPacket
 {
-	private ItemInstance[] _items;
-	private TradeItem[] _currentTrade;
+	private final List<ItemInstance> _items;
+	private final TradeItem[] _currentTrade;
 	
 	public TradeItemUpdate(TradeList trade, L2PcInstance activeChar)
@@ -33,5 +33,5 @@
 	}
 	
-	private int getItemCount(int objectId)
+	private int getItemCount(int objectId) // TODO replace for ItemContainer method
 	{
 		for (ItemInstance item : _items)
@@ -46,41 +46,28 @@
 	{
 		writeC(0x74);
-		try
+		writeH(_currentTrade.length);
+		
+		for (TradeItem item : _currentTrade)
 		{
-			writeH(_currentTrade.length);
-			for (TradeItem item : _currentTrade)
+			int availableCount = getItemCount(item.getObjectId()) - item.getCount();
+			boolean stackable = item.getItem().isStackable();
+			
+			if (availableCount == 0)
 			{
-				int availableCount = getItemCount(item.getObjectId()) - item.getCount();
-				boolean stackable = item.getItem().isStackable();
-				
-				if (availableCount == 0)
-				{
-					availableCount = 1;
-					stackable = false;
-				}
-				
-				writeH(stackable ? 3 : 2);
-				writeH(item.getItem().getType1());
-				writeD(item.getObjectId());
-				writeD(item.getItem().getItemId());
-				writeD(availableCount);
-				writeH(item.getItem().getType2());
-				writeH(0x00);
-				writeD(item.getItem().getBodyPart());
-				writeH(item.getEnchant());
-				writeH(0x00);
-				writeH(0x00);
+				availableCount = 1;
+				stackable = false;
 			}
-		}
-		catch (Exception ex)
-		{
-			ex.printStackTrace();
-		}
-		finally
-		{
-			Arrays.fill(_items, null);
-			Arrays.fill(_currentTrade, null);
-			_items = null;
-			_currentTrade = null;
+			
+			writeH(stackable ? 3 : 2);
+			writeH(item.getItem().getType1());
+			writeD(item.getObjectId());
+			writeD(item.getItem().getItemId());
+			writeD(availableCount);
+			writeH(item.getItem().getType2());
+			writeH(0x00);
+			writeD(item.getItem().getBodyPart());
+			writeH(item.getEnchant());
+			writeH(0x00);
+			writeH(0x00);
 		}
 	}
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/ExFishingEnd.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/ExFishingEnd.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/ExFishingEnd.java	(revision 341)
@@ -15,20 +15,13 @@
 package net.sf.l2j.gameserver.network.serverpackets;
 
-import net.sf.l2j.gameserver.model.actor.L2Character;
-import net.sf.l2j.gameserver.model.actor.instance.L2PcInstance;
-
-/**
- * Format: (ch) dc d: character object id c: 1 if won 0 if failed
- * @author -Wooden-
- */
 public class ExFishingEnd extends L2GameServerPacket
 {
 	private final boolean _win;
-	L2Character _activeChar;
+	private final int _playerId;
 	
-	public ExFishingEnd(boolean win, L2PcInstance character)
+	public ExFishingEnd(boolean win, int playerId)
 	{
 		_win = win;
-		_activeChar = character;
+		_playerId = playerId;
 	}
 	
@@ -38,6 +31,6 @@
 		writeC(0xfe);
 		writeH(0x14);
-		writeD(_activeChar.getObjectId());
-		writeC(_win ? 1 : 0);
+		writeD(_playerId);
+		writeC((_win) ? 1 : 0);
 	}
 }
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/SellListProcure.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/SellListProcure.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/SellListProcure.java	(revision 341)
@@ -15,5 +15,4 @@
 package net.sf.l2j.gameserver.network.serverpackets;
 
-import java.util.ArrayList;
 import java.util.HashMap;
 import java.util.List;
@@ -27,8 +26,8 @@
 public class SellListProcure extends L2GameServerPacket
 {
-	private final L2PcInstance _activeChar;
+	private final Map<ItemInstance, Integer> _sellList = new HashMap<>();
+	private final List<CropProcure> _procureList;
+	
 	private final int _money;
-	private final Map<ItemInstance, Integer> _sellList = new HashMap<>();
-	private List<CropProcure> _procureList = new ArrayList<>();
 	private final int _castle;
 	
@@ -36,10 +35,10 @@
 	{
 		_money = player.getAdena();
-		_activeChar = player;
 		_castle = castleId;
 		_procureList = CastleManager.getInstance().getCastleById(_castle).getCropProcure(0);
+		
 		for (CropProcure c : _procureList)
 		{
-			ItemInstance item = _activeChar.getInventory().getItemByItemId(c.getId());
+			ItemInstance item = player.getInventory().getItemByItemId(c.getId());
 			if (item != null && c.getAmount() > 0)
 				_sellList.put(item, c.getAmount());
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/HennaInfo.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/HennaInfo.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/HennaInfo.java	(revision 341)
@@ -49,5 +49,12 @@
 		writeC(_activeChar.getHennaStatWIT()); // equip WIT
 		
-		writeD(3); // slots?
+		// Henna slots
+		int classId = _activeChar.getClassId().level();
+		if (classId == 1)
+			writeD(2);
+		else if (classId > 1)
+			writeD(3);
+		else
+			writeD(0);
 		
 		writeD(_count); // size
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/GMViewItemList.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/GMViewItemList.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/GMViewItemList.java	(revision 341)
@@ -15,4 +15,6 @@
 package net.sf.l2j.gameserver.network.serverpackets;
 
+import java.util.List;
+
 import net.sf.l2j.gameserver.model.actor.instance.L2PcInstance;
 import net.sf.l2j.gameserver.model.actor.instance.L2PetInstance;
@@ -22,5 +24,5 @@
 public class GMViewItemList extends L2GameServerPacket
 {
-	private final ItemInstance[] _items;
+	private final List<ItemInstance> _items;
 	private final int _limit;
 	private final String _playerName;
@@ -47,9 +49,9 @@
 		writeD(_limit);
 		writeH(0x01); // show window ??
-		writeH(_items.length);
+		writeH(_items.size());
 		
 		for (ItemInstance temp : _items)
 		{
-			if (temp == null || temp.getItem() == null)
+			if (temp.getItem() == null)
 				continue;
 			
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/WarehouseWithdrawList.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/WarehouseWithdrawList.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/WarehouseWithdrawList.java	(revision 341)
@@ -15,5 +15,6 @@
 package net.sf.l2j.gameserver.network.serverpackets;
 
-import net.sf.l2j.Config;
+import java.util.List;
+
 import net.sf.l2j.gameserver.model.actor.instance.L2PcInstance;
 import net.sf.l2j.gameserver.model.item.instance.ItemInstance;
@@ -27,26 +28,16 @@
 	public static final int FREIGHT = 4; // not sure
 	
-	private L2PcInstance _activeChar;
+	private int _whType;
 	private int _playerAdena;
-	private ItemInstance[] _items;
-	private int _whType;
+	private List<ItemInstance> _items;
 	
 	public WarehouseWithdrawList(L2PcInstance player, int type)
 	{
-		_activeChar = player;
+		if (player.getActiveWarehouse() == null)
+			return;
+		
 		_whType = type;
-		
-		_playerAdena = _activeChar.getAdena();
-		if (_activeChar.getActiveWarehouse() == null)
-		{
-			// Something went wrong!
-			_log.warning("error while sending withdraw request to: " + _activeChar.getName());
-			return;
-		}
-		_items = _activeChar.getActiveWarehouse().getItems();
-		
-		if (Config.DEBUG)
-			for (ItemInstance item : _items)
-				_log.fine("item:" + item.getItem().getName() + " type1:" + item.getItem().getType1() + " type2:" + item.getItem().getType2());
+		_playerAdena = player.getAdena();
+		_items = player.getActiveWarehouse().getItems();
 	}
 	
@@ -57,9 +48,9 @@
 		writeH(_whType);
 		writeD(_playerAdena);
-		writeH(_items.length);
+		writeH(_items.size());
 		
 		for (ItemInstance temp : _items)
 		{
-			if (temp == null || temp.getItem() == null)
+			if (temp.getItem() == null)
 				continue;
 			
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/PrivateStoreListSell.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/PrivateStoreListSell.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/PrivateStoreListSell.java	(revision 341)
@@ -16,20 +16,18 @@
 
 import net.sf.l2j.gameserver.model.TradeList;
+import net.sf.l2j.gameserver.model.TradeList.TradeItem;
 import net.sf.l2j.gameserver.model.actor.instance.L2PcInstance;
 
 public class PrivateStoreListSell extends L2GameServerPacket
 {
+	private final int _playerAdena;
 	private final L2PcInstance _storePlayer;
-	private final L2PcInstance _activeChar;
-	private final int _playerAdena;
+	private final TradeItem[] _items;
 	private final boolean _packageSale;
-	private final TradeList.TradeItem[] _items;
 	
-	// player's private shop
 	public PrivateStoreListSell(L2PcInstance player, L2PcInstance storePlayer)
 	{
-		_activeChar = player;
+		_playerAdena = player.getAdena();
 		_storePlayer = storePlayer;
-		_playerAdena = _activeChar.getAdena();
 		_items = _storePlayer.getSellList().getItems();
 		_packageSale = _storePlayer.getSellList().isPackaged();
@@ -43,6 +41,6 @@
 		writeD(_packageSale ? 1 : 0);
 		writeD(_playerAdena);
+		writeD(_items.length);
 		
-		writeD(_items.length);
 		for (TradeList.TradeItem item : _items)
 		{
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/PetItemList.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/PetItemList.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/PetItemList.java	(revision 341)
@@ -15,4 +15,6 @@
 package net.sf.l2j.gameserver.network.serverpackets;
 
+import java.util.List;
+
 import net.sf.l2j.gameserver.model.actor.instance.L2PetInstance;
 import net.sf.l2j.gameserver.model.item.instance.ItemInstance;
@@ -21,9 +23,9 @@
 public class PetItemList extends L2GameServerPacket
 {
-	private final L2PetInstance _activeChar;
+	private final List<ItemInstance> _items;
 	
 	public PetItemList(L2PetInstance character)
 	{
-		_activeChar = character;
+		_items = character.getInventory().getItems();
 	}
 	
@@ -32,11 +34,9 @@
 	{
 		writeC(0xB2);
+		writeH(_items.size());
 		
-		final ItemInstance[] items = _activeChar.getInventory().getItems();
-		writeH(items.length);
-		
-		for (ItemInstance temp : items)
+		for (ItemInstance temp : _items)
 		{
-			if (temp == null || temp.getItem() == null)
+			if (temp.getItem() == null)
 				continue;
 			
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/EquipUpdate.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/EquipUpdate.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/EquipUpdate.java	(revision 341)
@@ -15,5 +15,4 @@
 package net.sf.l2j.gameserver.network.serverpackets;
 
-import net.sf.l2j.Config;
 import net.sf.l2j.gameserver.model.item.instance.ItemInstance;
 import net.sf.l2j.gameserver.model.item.kind.Item;
@@ -33,8 +32,9 @@
 	protected final void writeImpl()
 	{
-		int bodypart = 0;
 		writeC(0x4b);
 		writeD(_change);
 		writeD(_item.getObjectId());
+		
+		int bodypart = 0;
 		switch (_item.getItem().getBodyPart())
 		{
@@ -86,6 +86,4 @@
 		}
 		
-		if (Config.DEBUG)
-			_log.fine("body:" + bodypart);
 		writeD(bodypart);
 	}
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/ItemList.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/ItemList.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/ItemList.java	(revision 341)
@@ -15,4 +15,6 @@
 package net.sf.l2j.gameserver.network.serverpackets;
 
+import java.util.List;
+
 import net.sf.l2j.gameserver.model.actor.instance.L2PcInstance;
 import net.sf.l2j.gameserver.model.item.instance.ItemInstance;
@@ -21,5 +23,5 @@
 public class ItemList extends L2GameServerPacket
 {
-	private final ItemInstance[] _items;
+	private final List<ItemInstance> _items;
 	private final boolean _showWindow;
 	
@@ -30,10 +32,4 @@
 	}
 	
-	public ItemList(ItemInstance[] items, boolean showWindow)
-	{
-		_items = items;
-		_showWindow = showWindow;
-	}
-	
 	@Override
 	protected final void writeImpl()
@@ -41,9 +37,9 @@
 		writeC(0x1b);
 		writeH(_showWindow ? 0x01 : 0x00);
-		writeH(_items.length);
+		writeH(_items.size());
 		
 		for (ItemInstance temp : _items)
 		{
-			if (temp == null || temp.getItem() == null)
+			if (temp.getItem() == null)
 				continue;
 			
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/ShortCutInit.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/ShortCutInit.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/ShortCutInit.java	(revision 341)
@@ -23,14 +23,11 @@
 public class ShortCutInit extends L2GameServerPacket
 {
-	private L2ShortCut[] _shortCuts;
-	private L2PcInstance _activeChar;
+	private final L2ShortCut[] _shortCuts;
+	private final L2PcInstance _activeChar;
 	
 	public ShortCutInit(L2PcInstance activeChar)
 	{
 		_activeChar = activeChar;
-		if (_activeChar == null)
-			return;
-		
-		_shortCuts = _activeChar.getAllShortCuts();
+		_shortCuts = activeChar.getAllShortCuts();
 	}
 	
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/PrivateStoreListBuy.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/PrivateStoreListBuy.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/PrivateStoreListBuy.java	(revision 341)
@@ -16,4 +16,5 @@
 
 import net.sf.l2j.gameserver.model.TradeList;
+import net.sf.l2j.gameserver.model.TradeList.TradeItem;
 import net.sf.l2j.gameserver.model.actor.instance.L2PcInstance;
 
@@ -21,15 +22,14 @@
 {
 	private final L2PcInstance _storePlayer;
-	private final L2PcInstance _activeChar;
 	private final int _playerAdena;
-	private final TradeList.TradeItem[] _items;
+	private final TradeItem[] _items;
 	
 	public PrivateStoreListBuy(L2PcInstance player, L2PcInstance storePlayer)
 	{
 		_storePlayer = storePlayer;
-		_activeChar = player;
-		_playerAdena = _activeChar.getAdena();
-		_storePlayer.getSellList().updateItems(); // Update SellList for case inventory content has changed
-		_items = _storePlayer.getBuyList().getAvailableItems(_activeChar.getInventory());
+		_storePlayer.getSellList().updateItems();
+		
+		_playerAdena = player.getAdena();
+		_items = _storePlayer.getBuyList().getAvailableItems(player.getInventory());
 	}
 	
@@ -40,5 +40,4 @@
 		writeD(_storePlayer.getObjectId());
 		writeD(_playerAdena);
-		
 		writeD(_items.length);
 		
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/ChairSit.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/ChairSit.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/ChairSit.java	(revision 341)
@@ -15,15 +15,13 @@
 package net.sf.l2j.gameserver.network.serverpackets;
 
-import net.sf.l2j.gameserver.model.actor.instance.L2PcInstance;
-
 public class ChairSit extends L2GameServerPacket
 {
-	private final L2PcInstance _activeChar;
-	private final int _staticObjectId;
+	private final int _playerId;
+	private final int _staticId;
 	
-	public ChairSit(L2PcInstance player, int staticObjectId)
+	public ChairSit(int playerId, int staticId)
 	{
-		_activeChar = player;
-		_staticObjectId = staticObjectId;
+		_playerId = playerId;
+		_staticId = staticId;
 	}
 	
@@ -32,6 +30,6 @@
 	{
 		writeC(0xe1);
-		writeD(_activeChar.getObjectId());
-		writeD(_staticObjectId);
+		writeD(_playerId);
+		writeD(_staticId);
 	}
 }
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/ExCursedWeaponList.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/ExCursedWeaponList.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/ExCursedWeaponList.java	(revision 341)
@@ -15,15 +15,11 @@
 package net.sf.l2j.gameserver.network.serverpackets;
 
-import java.util.List;
+import java.util.Set;
 
-/**
- * Format: (ch) d[d]
- * @author -Wooden-
- */
 public class ExCursedWeaponList extends L2GameServerPacket
 {
-	private final List<Integer> _cursedWeaponIds;
+	private final Set<Integer> _cursedWeaponIds;
 	
-	public ExCursedWeaponList(List<Integer> cursedWeaponIds)
+	public ExCursedWeaponList(Set<Integer> cursedWeaponIds)
 	{
 		_cursedWeaponIds = cursedWeaponIds;
@@ -37,6 +33,6 @@
 		
 		writeD(_cursedWeaponIds.size());
-		for (Integer i : _cursedWeaponIds)
-			writeD(i.intValue());
+		for (int id : _cursedWeaponIds)
+			writeD(id);
 	}
 }
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/GMViewWarehouseWithdrawList.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/GMViewWarehouseWithdrawList.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/serverpackets/GMViewWarehouseWithdrawList.java	(revision 341)
@@ -15,22 +15,23 @@
 package net.sf.l2j.gameserver.network.serverpackets;
 
+import java.util.List;
+
 import net.sf.l2j.gameserver.model.L2Clan;
 import net.sf.l2j.gameserver.model.actor.instance.L2PcInstance;
 import net.sf.l2j.gameserver.model.item.instance.ItemInstance;
+import net.sf.l2j.gameserver.model.item.kind.Item;
 import net.sf.l2j.gameserver.model.item.kind.Weapon;
 
 public class GMViewWarehouseWithdrawList extends L2GameServerPacket
 {
-	private final ItemInstance[] _items;
+	private final List<ItemInstance> _items;
 	private final String _playerName;
-	private L2PcInstance _activeChar;
 	private final int _money;
 	
-	public GMViewWarehouseWithdrawList(L2PcInstance cha)
+	public GMViewWarehouseWithdrawList(L2PcInstance player)
 	{
-		_activeChar = cha;
-		_items = _activeChar.getWarehouse().getItems();
-		_playerName = _activeChar.getName();
-		_money = _activeChar.getWarehouse().getAdena();
+		_items = player.getWarehouse().getItems();
+		_playerName = player.getName();
+		_money = player.getWarehouse().getAdena();
 	}
 	
@@ -48,22 +49,26 @@
 		writeS(_playerName);
 		writeD(_money);
-		writeH(_items.length);
+		writeH(_items.size());
 		
-		for (ItemInstance item : _items)
+		for (ItemInstance temp : _items)
 		{
-			writeH(item.getItem().getType1());
+			if (temp.getItem() == null)
+				continue;
 			
-			writeD(item.getObjectId());
-			writeD(item.getItemId());
-			writeD(item.getCount());
-			writeH(item.getItem().getType2());
-			writeH(item.getCustomType1());
-			writeD(item.getItem().getBodyPart());
-			writeH(item.getEnchantLevel());
-			writeH(item.isWeapon() ? ((Weapon) item.getItem()).getSoulShotCount() : 0x00);
-			writeH(item.isWeapon() ? ((Weapon) item.getItem()).getSpiritShotCount() : 0x00);
-			writeD(item.getObjectId());
-			writeD((item.isWeapon() && item.isAugmented()) ? 0x0000FFFF & item.getAugmentation().getAugmentationId() : 0);
-			writeD((item.isWeapon() && item.isAugmented()) ? item.getAugmentation().getAugmentationId() >> 16 : 0);
+			Item item = temp.getItem();
+			
+			writeH(item.getType1());
+			writeD(temp.getObjectId());
+			writeD(temp.getItemId());
+			writeD(temp.getCount());
+			writeH(item.getType2());
+			writeH(temp.getCustomType1());
+			writeD(item.getBodyPart());
+			writeH(temp.getEnchantLevel());
+			writeH(temp.isWeapon() ? ((Weapon) item).getSoulShotCount() : 0x00);
+			writeH(temp.isWeapon() ? ((Weapon) item).getSpiritShotCount() : 0x00);
+			writeD(temp.getObjectId());
+			writeD((temp.isWeapon() && temp.isAugmented()) ? 0x0000FFFF & temp.getAugmentation().getAugmentationId() : 0);
+			writeD((temp.isWeapon() && temp.isAugmented()) ? temp.getAugmentation().getAugmentationId() >> 16 : 0);
 		}
 	}
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestDismissPartyRoom.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestDismissPartyRoom.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestDismissPartyRoom.java	(revision 341)
@@ -19,8 +19,4 @@
 import net.sf.l2j.gameserver.model.partymatching.PartyMatchRoomList;
 
-/**
- * Format: (ch) dd
- * @author -Wooden-
- */
 public class RequestDismissPartyRoom extends L2GameClientPacket
 {
@@ -39,10 +35,10 @@
 	protected void runImpl()
 	{
-		final L2PcInstance _activeChar = getClient().getActiveChar();
-		if (_activeChar == null)
+		final L2PcInstance activeChar = getClient().getActiveChar();
+		if (activeChar == null)
 			return;
 		
-		PartyMatchRoom _room = PartyMatchRoomList.getInstance().getRoom(_roomid);
-		if (_room == null)
+		PartyMatchRoom room = PartyMatchRoomList.getInstance().getRoom(_roomid);
+		if (room == null)
 			return;
 		
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestListPartyMatchingWaitingRoom.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestListPartyMatchingWaitingRoom.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestListPartyMatchingWaitingRoom.java	(revision 341)
@@ -18,7 +18,4 @@
 import net.sf.l2j.gameserver.network.serverpackets.ExListPartyMatchingWaitingRoom;
 
-/**
- * @author Gnacik
- */
 public class RequestListPartyMatchingWaitingRoom extends L2GameClientPacket
 {
@@ -40,9 +37,9 @@
 	protected void runImpl()
 	{
-		L2PcInstance _activeChar = getClient().getActiveChar();
-		if (_activeChar == null)
+		final L2PcInstance activeChar = getClient().getActiveChar();
+		if (activeChar == null)
 			return;
 		
-		_activeChar.sendPacket(new ExListPartyMatchingWaitingRoom(_activeChar, _page, _minlvl, _maxlvl, _mode));
+		activeChar.sendPacket(new ExListPartyMatchingWaitingRoom(activeChar, _page, _minlvl, _maxlvl, _mode));
 	}
 }
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestCursedWeaponList.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestCursedWeaponList.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestCursedWeaponList.java	(revision 341)
@@ -15,15 +15,8 @@
 package net.sf.l2j.gameserver.network.clientpackets;
 
-import java.util.ArrayList;
-import java.util.List;
-
 import net.sf.l2j.gameserver.instancemanager.CursedWeaponsManager;
 import net.sf.l2j.gameserver.model.actor.instance.L2PcInstance;
 import net.sf.l2j.gameserver.network.serverpackets.ExCursedWeaponList;
 
-/**
- * Format: (ch)
- * @author -Wooden-
- */
 public class RequestCursedWeaponList extends L2GameClientPacket
 {
@@ -40,9 +33,5 @@
 			return;
 		
-		List<Integer> list = new ArrayList<>();
-		for (int id : CursedWeaponsManager.getInstance().getCursedWeaponsIds())
-			list.add(id);
-		
-		activeChar.sendPacket(new ExCursedWeaponList(list));
+		activeChar.sendPacket(new ExCursedWeaponList(CursedWeaponsManager.getInstance().getCursedWeaponsIds()));
 	}
 }
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestPreviewItem.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestPreviewItem.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestPreviewItem.java	(revision 341)
@@ -36,10 +36,6 @@
 import net.sf.l2j.gameserver.util.Util;
 
-/**
- ** @author Gnacik
- */
 public final class RequestPreviewItem extends L2GameClientPacket
 {
-	protected L2PcInstance _activeChar;
 	private Map<Integer, Integer> _itemList;
 	@SuppressWarnings("unused")
@@ -106,15 +102,15 @@
 		
 		// Get the current player and return if null
-		_activeChar = getClient().getActiveChar();
-		if (_activeChar == null)
+		final L2PcInstance activeChar = getClient().getActiveChar();
+		if (activeChar == null)
 			return;
 		
 		// If Alternate rule Karma punishment is set to true, forbid Wear to player with Karma
-		if (!Config.KARMA_PLAYER_CAN_SHOP && _activeChar.getKarma() > 0)
+		if (!Config.KARMA_PLAYER_CAN_SHOP && activeChar.getKarma() > 0)
 			return;
 		
 		// Check current target of the player and the INTERACTION_DISTANCE
-		L2Object target = _activeChar.getTarget();
-		if (!_activeChar.isGM() && (target == null || !(target instanceof L2MerchantInstance) || !_activeChar.isInsideRadius(target, L2Npc.INTERACTION_DISTANCE, false, false)))
+		L2Object target = activeChar.getTarget();
+		if (!activeChar.isGM() && (target == null || !(target instanceof L2MerchantInstance) || !activeChar.isInsideRadius(target, L2Npc.INTERACTION_DISTANCE, false, false)))
 			return;
 		
@@ -130,5 +126,5 @@
 		if (buyList == null)
 		{
-			Util.handleIllegalPlayerAction(_activeChar, _activeChar.getName() + " of account " + _activeChar.getAccountName() + " sent a false BuyList list_id " + _listId, Config.DEFAULT_PUNISH);
+			Util.handleIllegalPlayerAction(activeChar, activeChar.getName() + " of account " + activeChar.getAccountName() + " sent a false BuyList list_id " + _listId, Config.DEFAULT_PUNISH);
 			return;
 		}
@@ -145,5 +141,5 @@
 			if (product == null)
 			{
-				Util.handleIllegalPlayerAction(_activeChar, _activeChar.getName() + " of account " + _activeChar.getAccountName() + " sent a false BuyList list_id " + _listId + " and item_id " + itemId, Config.DEFAULT_PUNISH);
+				Util.handleIllegalPlayerAction(activeChar, activeChar.getName() + " of account " + activeChar.getAccountName() + " sent a false BuyList list_id " + _listId + " and item_id " + itemId, Config.DEFAULT_PUNISH);
 				return;
 			}
@@ -159,5 +155,5 @@
 			if (_itemList.containsKey(slot))
 			{
-				_activeChar.sendPacket(SystemMessageId.YOU_CAN_NOT_TRY_THOSE_ITEMS_ON_AT_THE_SAME_TIME);
+				activeChar.sendPacket(SystemMessageId.YOU_CAN_NOT_TRY_THOSE_ITEMS_ON_AT_THE_SAME_TIME);
 				return;
 			}
@@ -167,5 +163,5 @@
 			if (totalPrice > Integer.MAX_VALUE)
 			{
-				Util.handleIllegalPlayerAction(_activeChar, _activeChar.getName() + " of account " + _activeChar.getAccountName() + " tried to purchase over " + Integer.MAX_VALUE + " adena worth of goods.", Config.DEFAULT_PUNISH);
+				Util.handleIllegalPlayerAction(activeChar, activeChar.getName() + " of account " + activeChar.getAccountName() + " tried to purchase over " + Integer.MAX_VALUE + " adena worth of goods.", Config.DEFAULT_PUNISH);
 				return;
 			}
@@ -173,7 +169,7 @@
 		
 		// Charge buyer and add tax to castle treasury if not owned by npc clan because a Try On is not Free
-		if (totalPrice < 0 || !_activeChar.reduceAdena("Wear", totalPrice, _activeChar.getCurrentFolkNPC(), true))
+		if (totalPrice < 0 || !activeChar.reduceAdena("Wear", totalPrice, activeChar.getCurrentFolkNPC(), true))
 		{
-			_activeChar.sendPacket(SystemMessageId.YOU_NOT_ENOUGH_ADENA);
+			activeChar.sendPacket(SystemMessageId.YOU_NOT_ENOUGH_ADENA);
 			return;
 		}
@@ -181,8 +177,8 @@
 		if (!_itemList.isEmpty())
 		{
-			_activeChar.sendPacket(new ShopPreviewInfo(_itemList));
+			activeChar.sendPacket(new ShopPreviewInfo(_itemList));
 			
 			// Schedule task
-			ThreadPoolManager.getInstance().scheduleGeneral(new RemoveWearItemsTask(_activeChar), Config.WEAR_DELAY * 1000);
+			ThreadPoolManager.getInstance().scheduleGeneral(new RemoveWearItemsTask(activeChar), Config.WEAR_DELAY * 1000);
 		}
 	}
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/Say2.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/Say2.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/Say2.java	(revision 341)
@@ -129,8 +129,5 @@
 	protected void runImpl()
 	{
-		if (Config.DEBUG)
-			_log.info("Say2: Msg Type = '" + _type + "' Text = '" + _text + "'.");
-		
-		L2PcInstance activeChar = getClient().getActiveChar();
+		final L2PcInstance activeChar = getClient().getActiveChar();
 		if (activeChar == null)
 			return;
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestAskJoinPartyRoom.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestAskJoinPartyRoom.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestAskJoinPartyRoom.java	(revision 341)
@@ -21,8 +21,4 @@
 import net.sf.l2j.gameserver.network.serverpackets.SystemMessage;
 
-/**
- * Format: (ch) S
- * @author -Wooden-
- */
 public class RequestAskJoinPartyRoom extends L2GameClientPacket
 {
@@ -38,22 +34,22 @@
 	protected void runImpl()
 	{
-		final L2PcInstance _activeChar = getClient().getActiveChar();
-		if (_activeChar == null)
+		final L2PcInstance activeChar = getClient().getActiveChar();
+		if (activeChar == null)
 			return;
 		
 		// Send PartyRoom invite request (with activeChar) name to the target
-		final L2PcInstance _target = L2World.getInstance().getPlayer(_name);
-		if (_target != null)
+		final L2PcInstance target = L2World.getInstance().getPlayer(_name);
+		if (target != null)
 		{
-			if (!_target.isProcessingRequest())
+			if (!target.isProcessingRequest())
 			{
-				_activeChar.onTransactionRequest(_target);
-				_target.sendPacket(new ExAskJoinPartyRoom(_activeChar.getName()));
+				activeChar.onTransactionRequest(target);
+				target.sendPacket(new ExAskJoinPartyRoom(activeChar.getName()));
 			}
 			else
-				_activeChar.sendPacket(SystemMessage.getSystemMessage(SystemMessageId.S1_IS_BUSY_TRY_LATER).addPcName(_target));
+				activeChar.sendPacket(SystemMessage.getSystemMessage(SystemMessageId.S1_IS_BUSY_TRY_LATER).addPcName(target));
 		}
 		else
-			_activeChar.sendPacket(SystemMessageId.TARGET_IS_NOT_FOUND_IN_THE_GAME);
+			activeChar.sendPacket(SystemMessageId.TARGET_IS_NOT_FOUND_IN_THE_GAME);
 	}
 }
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestRestart.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestRestart.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestRestart.java	(revision 341)
@@ -15,5 +15,4 @@
 package net.sf.l2j.gameserver.network.clientpackets;
 
-import net.sf.l2j.Config;
 import net.sf.l2j.gameserver.instancemanager.SevenSignsFestival;
 import net.sf.l2j.gameserver.model.L2Party;
@@ -69,7 +68,4 @@
 		if (AttackStanceTaskManager.getInstance().isInAttackStance(player) && !player.isGM())
 		{
-			if (Config.DEBUG)
-				_log.fine(player.getName() + " tried to restart while fighting.");
-			
 			player.sendPacket(SystemMessageId.CANT_RESTART_WHILE_FIGHTING);
 			sendPacket(RestartResponse.valueOf(false));
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestPartyMatchDetail.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestPartyMatchDetail.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestPartyMatchDetail.java	(revision 341)
@@ -25,7 +25,4 @@
 import net.sf.l2j.gameserver.network.serverpackets.SystemMessage;
 
-/**
- * @author Gnacik
- */
 public final class RequestPartyMatchDetail extends L2GameClientPacket
 {
@@ -53,37 +50,37 @@
 	protected void runImpl()
 	{
-		L2PcInstance _activeChar = getClient().getActiveChar();
-		if (_activeChar == null)
+		final L2PcInstance activeChar = getClient().getActiveChar();
+		if (activeChar == null)
 			return;
 		
-		PartyMatchRoom _room = PartyMatchRoomList.getInstance().getRoom(_roomid);
-		if (_room == null)
+		PartyMatchRoom room = PartyMatchRoomList.getInstance().getRoom(_roomid);
+		if (room == null)
 			return;
 		
-		if ((_activeChar.getLevel() >= _room.getMinLvl()) && (_activeChar.getLevel() <= _room.getMaxLvl()))
+		if ((activeChar.getLevel() >= room.getMinLvl()) && (activeChar.getLevel() <= room.getMaxLvl()))
 		{
 			// Remove from waiting list
-			PartyMatchWaitingList.getInstance().removePlayer(_activeChar);
+			PartyMatchWaitingList.getInstance().removePlayer(activeChar);
 			
-			_activeChar.setPartyRoom(_roomid);
+			activeChar.setPartyRoom(_roomid);
 			
-			_activeChar.sendPacket(new PartyMatchDetail(_room));
-			_activeChar.sendPacket(new ExPartyRoomMember(_room, 0));
+			activeChar.sendPacket(new PartyMatchDetail(room));
+			activeChar.sendPacket(new ExPartyRoomMember(room, 0));
 			
-			for (L2PcInstance _member : _room.getPartyMembers())
+			for (L2PcInstance member : room.getPartyMembers())
 			{
-				if (_member == null)
+				if (member == null)
 					continue;
 				
-				_member.sendPacket(new ExManagePartyRoomMember(_activeChar, _room, 0));
-				_member.sendPacket(SystemMessage.getSystemMessage(SystemMessageId.S1_ENTERED_PARTY_ROOM).addPcName(_activeChar));
+				member.sendPacket(new ExManagePartyRoomMember(activeChar, room, 0));
+				member.sendPacket(SystemMessage.getSystemMessage(SystemMessageId.S1_ENTERED_PARTY_ROOM).addPcName(activeChar));
 			}
-			_room.addMember(_activeChar);
+			room.addMember(activeChar);
 			
 			// Info Broadcast
-			_activeChar.broadcastUserInfo();
+			activeChar.broadcastUserInfo();
 		}
 		else
-			_activeChar.sendPacket(SystemMessageId.CANT_ENTER_PARTY_ROOM);
+			activeChar.sendPacket(SystemMessageId.CANT_ENTER_PARTY_ROOM);
 	}
 }
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestWithdrawPartyRoom.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestWithdrawPartyRoom.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestWithdrawPartyRoom.java	(revision 341)
@@ -21,8 +21,4 @@
 import net.sf.l2j.gameserver.network.serverpackets.ExClosePartyRoom;
 
-/**
- * Format (ch) dd
- * @author -Wooden-
- */
 public final class RequestWithdrawPartyRoom extends L2GameClientPacket
 {
@@ -41,13 +37,13 @@
 	protected void runImpl()
 	{
-		final L2PcInstance _activeChar = getClient().getActiveChar();
-		if (_activeChar == null)
+		final L2PcInstance activeChar = getClient().getActiveChar();
+		if (activeChar == null)
 			return;
 		
-		final PartyMatchRoom _room = PartyMatchRoomList.getInstance().getRoom(_roomid);
-		if (_room == null)
+		final PartyMatchRoom room = PartyMatchRoomList.getInstance().getRoom(_roomid);
+		if (room == null)
 			return;
 		
-		if ((_activeChar.isInParty() && _room.getOwner().isInParty()) && (_activeChar.getParty().getPartyLeaderOID() == _room.getOwner().getParty().getPartyLeaderOID()))
+		if ((activeChar.isInParty() && room.getOwner().isInParty()) && (activeChar.getParty().getPartyLeaderOID() == room.getOwner().getParty().getPartyLeaderOID()))
 		{
 			// If user is in party with Room Owner is not removed from Room
@@ -55,10 +51,10 @@
 		else
 		{
-			_room.deleteMember(_activeChar);
-			_activeChar.setPartyRoom(0);
-			_activeChar.broadcastUserInfo();
+			room.deleteMember(activeChar);
+			activeChar.setPartyRoom(0);
+			activeChar.broadcastUserInfo();
 			
-			_activeChar.sendPacket(ExClosePartyRoom.STATIC_PACKET);
-			_activeChar.sendPacket(SystemMessageId.PARTY_ROOM_EXITED);
+			activeChar.sendPacket(ExClosePartyRoom.STATIC_PACKET);
+			activeChar.sendPacket(SystemMessageId.PARTY_ROOM_EXITED);
 		}
 	}
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestPackageSend.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestPackageSend.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestPackageSend.java	(revision 341)
@@ -21,4 +21,5 @@
 import net.sf.l2j.gameserver.model.actor.L2Npc;
 import net.sf.l2j.gameserver.model.actor.instance.L2PcInstance;
+import net.sf.l2j.gameserver.model.holder.ItemHolder;
 import net.sf.l2j.gameserver.model.item.instance.ItemInstance;
 import net.sf.l2j.gameserver.model.itemcontainer.ItemContainer;
@@ -29,10 +30,7 @@
 import net.sf.l2j.gameserver.network.serverpackets.SystemMessage;
 
-/**
- * @author -Wooden-
- */
 public final class RequestPackageSend extends L2GameClientPacket
 {
-	private List<Item> _items = null;
+	private List<ItemHolder> _items;
 	private int _objectID;
 	
@@ -41,6 +39,6 @@
 	{
 		_objectID = readD();
+		
 		int count = readD();
-		
 		if (count < 0 || count > Config.MAX_ITEM_IN_PACKET)
 			return;
@@ -50,7 +48,8 @@
 		for (int i = 0; i < count; i++)
 		{
-			int id = readD(); // this is some id sent in PackageSendableList
+			int id = readD();
 			int cnt = readD();
-			_items.add(new Item(id, cnt));
+			
+			_items.add(new ItemHolder(id, cnt));
 		}
 	}
@@ -96,16 +95,16 @@
 		int slots = 0;
 		
-		for (Item i : _items)
+		for (ItemHolder i : _items)
 		{
-			int objectId = i.id;
-			int count = i.count;
+			int count = i.getCount();
 			
 			// Check validity of requested item
-			ItemInstance item = player.checkItemManipulation(objectId, count);
+			ItemInstance item = player.checkItemManipulation(i.getId(), count);
 			if (item == null)
 			{
+				i.setId(0);
+				i.setCount(0);
+				
 				_log.warning("Error depositing a warehouse object for char " + player.getName() + " (validity check)");
-				i.id = 0;
-				i.count = 0;
 				continue;
 			}
@@ -140,8 +139,8 @@
 		// Proceed to the transfer
 		InventoryUpdate playerIU = new InventoryUpdate();
-		for (Item i : _items)
+		for (ItemHolder i : _items)
 		{
-			int objectId = i.id;
-			int count = i.count;
+			int objectId = i.getId();
+			int count = i.getCount();
 			
 			// check for an invalid item
@@ -180,15 +179,3 @@
 		player.sendPacket(su);
 	}
-	
-	private class Item
-	{
-		public int id;
-		public int count;
-		
-		public Item(int i, int c)
-		{
-			id = i;
-			count = c;
-		}
-	}
 }
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/EnterWorld.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/EnterWorld.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/EnterWorld.java	(revision 341)
@@ -81,10 +81,4 @@
 		}
 		
-		if (L2World.getInstance().findObject(activeChar.getObjectId()) != null)
-		{
-			if (Config.DEBUG)
-				_log.warning("User already exist in OID map! User " + activeChar.getName() + " is character clone.");
-		}
-		
 		if (activeChar.isGM())
 		{
@@ -173,5 +167,5 @@
 		activeChar.sendPacket(SystemMessageId.WELCOME_TO_LINEAGE);
 		SevenSigns.getInstance().sendCurrentPeriodMsg(activeChar);
-		AnnouncementTable.getInstance().showAnnouncements(activeChar);
+		AnnouncementTable.getInstance().showAnnouncements(activeChar, false);
 		
 		// if player is DE, check for shadow sense skill at night
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestExitPartyMatchingWaitingRoom.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestExitPartyMatchingWaitingRoom.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestExitPartyMatchingWaitingRoom.java	(revision 341)
@@ -18,8 +18,4 @@
 import net.sf.l2j.gameserver.model.partymatching.PartyMatchWaitingList;
 
-/**
- * Format: (ch)
- * @author -Wooden-
- */
 public final class RequestExitPartyMatchingWaitingRoom extends L2GameClientPacket
 {
@@ -32,9 +28,9 @@
 	protected void runImpl()
 	{
-		final L2PcInstance _activeChar = getClient().getActiveChar();
-		if (_activeChar == null)
+		final L2PcInstance activeChar = getClient().getActiveChar();
+		if (activeChar == null)
 			return;
 		
-		PartyMatchWaitingList.getInstance().removePlayer(_activeChar);
+		PartyMatchWaitingList.getInstance().removePlayer(activeChar);
 	}
 }
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/TradeDone.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/TradeDone.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/TradeDone.java	(revision 341)
@@ -15,5 +15,4 @@
 package net.sf.l2j.gameserver.network.clientpackets;
 
-import net.sf.l2j.Config;
 import net.sf.l2j.gameserver.model.L2World;
 import net.sf.l2j.gameserver.model.TradeList;
@@ -41,9 +40,5 @@
 		final TradeList trade = player.getActiveTradeList();
 		if (trade == null)
-		{
-			if (Config.DEBUG)
-				_log.warning("player.getTradeList == null in " + getType() + " for player " + player.getName());
 			return;
-		}
 		
 		if (trade.isLocked())
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestPartyMatchConfig.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestPartyMatchConfig.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestPartyMatchConfig.java	(revision 341)
@@ -40,39 +40,39 @@
 	protected void runImpl()
 	{
-		L2PcInstance _activeChar = getClient().getActiveChar();
-		if (_activeChar == null)
+		final L2PcInstance activeChar = getClient().getActiveChar();
+		if (activeChar == null)
 			return;
 		
-		if (!_activeChar.isInPartyMatchRoom() && _activeChar.getParty() != null && _activeChar.getParty().getLeader() != _activeChar)
+		if (!activeChar.isInPartyMatchRoom() && activeChar.getParty() != null && activeChar.getParty().getLeader() != activeChar)
 		{
-			_activeChar.sendPacket(SystemMessageId.CANT_VIEW_PARTY_ROOMS);
-			_activeChar.sendPacket(ActionFailed.STATIC_PACKET);
+			activeChar.sendPacket(SystemMessageId.CANT_VIEW_PARTY_ROOMS);
+			activeChar.sendPacket(ActionFailed.STATIC_PACKET);
 			return;
 		}
 		
-		if (_activeChar.isInPartyMatchRoom())
+		if (activeChar.isInPartyMatchRoom())
 		{
 			// If Player is in Room show him room, not list
-			PartyMatchRoomList _list = PartyMatchRoomList.getInstance();
-			if (_list == null)
+			PartyMatchRoomList list = PartyMatchRoomList.getInstance();
+			if (list == null)
 				return;
 			
-			PartyMatchRoom _room = _list.getPlayerRoom(_activeChar);
-			if (_room == null)
+			PartyMatchRoom room = list.getPlayerRoom(activeChar);
+			if (room == null)
 				return;
 			
-			_activeChar.sendPacket(new PartyMatchDetail(_room));
-			_activeChar.sendPacket(new ExPartyRoomMember(_room, 2));
+			activeChar.sendPacket(new PartyMatchDetail(room));
+			activeChar.sendPacket(new ExPartyRoomMember(room, 2));
 			
-			_activeChar.setPartyRoom(_room.getId());
-			_activeChar.broadcastUserInfo();
+			activeChar.setPartyRoom(room.getId());
+			activeChar.broadcastUserInfo();
 		}
 		else
 		{
 			// Add to waiting list
-			PartyMatchWaitingList.getInstance().addPlayer(_activeChar);
+			PartyMatchWaitingList.getInstance().addPlayer(activeChar);
 			
 			// Send Room list
-			_activeChar.sendPacket(new PartyMatchList(_activeChar, _auto, _loc, _lvl));
+			activeChar.sendPacket(new PartyMatchList(activeChar, _auto, _loc, _lvl));
 		}
 	}
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/DlgAnswer.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/DlgAnswer.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/DlgAnswer.java	(revision 341)
@@ -43,7 +43,4 @@
 			return;
 		
-		if (Config.DEBUG)
-			_log.fine(getType() + ": Answer accepted. MsgID: " + _messageId + ", answer: " + _answer + ", requester ID: " + _requesterId);
-		
 		if (_messageId == SystemMessageId.RESSURECTION_REQUEST_BY_S1.getId() || _messageId == SystemMessageId.DO_YOU_WANT_TO_BE_RESTORED.getId())
 			activeChar.reviveAnswer(_answer);
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestPartyMatchList.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestPartyMatchList.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/network/clientpackets/RequestPartyMatchList.java	(revision 341)
@@ -23,7 +23,4 @@
 import net.sf.l2j.gameserver.network.serverpackets.PartyMatchDetail;
 
-/**
- * author: Gnacik
- */
 public class RequestPartyMatchList extends L2GameClientPacket
 {
@@ -49,27 +46,27 @@
 	protected void runImpl()
 	{
-		final L2PcInstance _activeChar = getClient().getActiveChar();
-		if (_activeChar == null)
+		final L2PcInstance activeChar = getClient().getActiveChar();
+		if (activeChar == null)
 			return;
 		
 		if (_roomid > 0)
 		{
-			PartyMatchRoom _room = PartyMatchRoomList.getInstance().getRoom(_roomid);
-			if (_room != null)
+			PartyMatchRoom room = PartyMatchRoomList.getInstance().getRoom(_roomid);
+			if (room != null)
 			{
-				_log.info("PartyMatchRoom #" + _room.getId() + " changed by " + _activeChar.getName());
-				_room.setMaxMembers(_membersmax);
-				_room.setMinLvl(_lvlmin);
-				_room.setMaxLvl(_lvlmax);
-				_room.setLootType(_loot);
-				_room.setTitle(_roomtitle);
+				_log.info("PartyMatchRoom #" + room.getId() + " changed by " + activeChar.getName());
+				room.setMaxMembers(_membersmax);
+				room.setMinLvl(_lvlmin);
+				room.setMaxLvl(_lvlmax);
+				room.setLootType(_loot);
+				room.setTitle(_roomtitle);
 				
-				for (L2PcInstance _member : _room.getPartyMembers())
+				for (L2PcInstance member : room.getPartyMembers())
 				{
-					if (_member == null)
+					if (member == null)
 						continue;
 					
-					_member.sendPacket(new PartyMatchDetail(_room));
-					_member.sendPacket(SystemMessageId.PARTY_ROOM_REVISED);
+					member.sendPacket(new PartyMatchDetail(room));
+					member.sendPacket(SystemMessageId.PARTY_ROOM_REVISED);
 				}
 			}
@@ -77,36 +74,34 @@
 		else
 		{
-			int _maxid = PartyMatchRoomList.getInstance().getMaxId();
+			int maxid = PartyMatchRoomList.getInstance().getMaxId();
 			
-			PartyMatchRoom _room = new PartyMatchRoom(_maxid, _roomtitle, _loot, _lvlmin, _lvlmax, _membersmax, _activeChar);
+			PartyMatchRoom room = new PartyMatchRoom(maxid, _roomtitle, _loot, _lvlmin, _lvlmax, _membersmax, activeChar);
 			
-			_log.info("PartyMatchRoom #" + _maxid + " created by " + _activeChar.getName());
+			_log.info("PartyMatchRoom #" + maxid + " created by " + activeChar.getName());
 			
 			// Remove from waiting list, and add to current room
-			PartyMatchWaitingList.getInstance().removePlayer(_activeChar);
-			PartyMatchRoomList.getInstance().addPartyMatchRoom(_maxid, _room);
+			PartyMatchWaitingList.getInstance().removePlayer(activeChar);
+			PartyMatchRoomList.getInstance().addPartyMatchRoom(maxid, room);
 			
-			if (_activeChar.isInParty())
+			if (activeChar.isInParty())
 			{
-				for (L2PcInstance ptmember : _activeChar.getParty().getPartyMembers())
+				for (L2PcInstance ptmember : activeChar.getParty().getPartyMembers())
 				{
-					if (ptmember == null)
-						continue;
-					if (ptmember == _activeChar)
+					if (ptmember == null || ptmember == activeChar)
 						continue;
 					
-					ptmember.setPartyRoom(_maxid);
+					ptmember.setPartyRoom(maxid);
 					
-					_room.addMember(ptmember);
+					room.addMember(ptmember);
 				}
 			}
 			
-			_activeChar.sendPacket(new PartyMatchDetail(_room));
-			_activeChar.sendPacket(new ExPartyRoomMember(_room, 1));
+			activeChar.sendPacket(new PartyMatchDetail(room));
+			activeChar.sendPacket(new ExPartyRoomMember(room, 1));
 			
-			_activeChar.sendPacket(SystemMessageId.PARTY_ROOM_CREATED);
+			activeChar.sendPacket(SystemMessageId.PARTY_ROOM_CREATED);
 			
-			_activeChar.setPartyRoom(_maxid);
-			_activeChar.broadcastUserInfo();
+			activeChar.setPartyRoom(maxid);
+			activeChar.broadcastUserInfo();
 		}
 	}
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/instancemanager/games/Lottery.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/instancemanager/games/Lottery.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/instancemanager/games/Lottery.java	(revision 341)
@@ -174,6 +174,4 @@
 			}
 			
-			if (Config.DEBUG)
-				_log.info("Lottery: Starting ticket sell for lottery #" + getId() + ".");
 			_isSellingTickets = true;
 			_isStarted = true;
@@ -229,6 +227,4 @@
 		public void run()
 		{
-			if (Config.DEBUG)
-				_log.info("Lottery: Stopping ticket sell for lottery #" + getId() + ".");
 			_isSellingTickets = false;
 			
@@ -247,7 +243,4 @@
 		public void run()
 		{
-			if (Config.DEBUG)
-				_log.info("Lottery: Ending lottery #" + getId() + ".");
-			
 			int[] luckynums = new int[5];
 			int luckynum = 0;
@@ -269,7 +262,4 @@
 				luckynums[i] = luckynum;
 			}
-			
-			if (Config.DEBUG)
-				_log.info("Lottery: The lucky numbers are " + luckynums[0] + ", " + luckynums[1] + ", " + luckynums[2] + ", " + luckynums[3] + ", " + luckynums[4] + ".");
 			
 			int enchant = 0;
@@ -283,7 +273,4 @@
 					type2 += Math.pow(2, luckynums[i] - 17);
 			}
-			
-			if (Config.DEBUG)
-				_log.info("Lottery: Encoded lucky numbers are " + enchant + ", " + type2);
 			
 			int count1 = 0;
@@ -355,15 +342,5 @@
 				prize3 = (int) ((getPrize() - prize4) * Config.ALT_LOTTERY_3_NUMBER_RATE / count3);
 			
-			if (Config.DEBUG)
-			{
-				_log.info("Lottery: " + count1 + " players with all FIVE numbers each win " + prize1 + ".");
-				_log.info("Lottery: " + count2 + " players with FOUR numbers each win " + prize2 + ".");
-				_log.info("Lottery: " + count3 + " players with THREE numbers each win " + prize3 + ".");
-				_log.info("Lottery: " + count4 + " players with ONE or TWO numbers each win " + prize4 + ".");
-			}
-			
 			int newprize = getPrize() - (prize1 + prize2 + prize3 + prize4);
-			if (Config.DEBUG)
-				_log.info("Lottery: Jackpot for next lottery is " + newprize + ".");
 			
 			if (count1 > 0) // There are winners.
@@ -493,9 +470,6 @@
 					default:
 						res[0] = 4;
-						res[1] = 200;
-				}
-				
-				if (Config.DEBUG)
-					_log.warning("count: " + count + ", id: " + id + ", enchant: " + enchant + ", type2: " + type2);
+						res[1] = Config.ALT_LOTTERY_2_AND_1_NUMBER_PRIZE;
+				}
 			}
 			
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/model/itemcontainer/ItemContainer.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/model/itemcontainer/ItemContainer.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/model/itemcontainer/ItemContainer.java	(revision 341)
@@ -36,7 +36,4 @@
 import net.sf.l2j.util.Rnd;
 
-/**
- * @author Advi
- */
 public abstract class ItemContainer
 {
@@ -60,15 +57,13 @@
 	
 	/**
-	 * Returns the ownerID of the inventory
-	 * @return int
+	 * @return the owner objectId of the inventory.
 	 */
 	public int getOwnerId()
 	{
-		return getOwner() == null ? 0 : getOwner().getObjectId();
-	}
-	
-	/**
-	 * Returns the quantity of items in the inventory
-	 * @return int
+		return (getOwner() == null) ? 0 : getOwner().getObjectId();
+	}
+	
+	/**
+	 * @return the quantity of items in the inventory.
 	 */
 	public int getSize()
@@ -78,27 +73,9 @@
 	
 	/**
-	 * Returns the list of items in inventory
-	 * @return ItemInstance : items in inventory
-	 */
-	public ItemInstance[] getItems()
-	{
-		synchronized (_items)
-		{
-			return _items.toArray(new ItemInstance[_items.size()]);
-		}
-	}
-	
-	/**
-	 * Returns the item from inventory by using its <B>itemId</B>.
-	 * @param itemId : int designating the ID of the item
-	 * @return ItemInstance designating the item or null if not found in inventory
-	 */
-	public ItemInstance getItemByItemId(int itemId)
-	{
-		for (ItemInstance item : _items)
-			if (item != null && item.getItemId() == itemId)
-				return item;
-		
-		return null;
+	 * @return the list of items in inventory.
+	 */
+	public List<ItemInstance> getItems()
+	{
+		return _items;
 	}
 	
@@ -119,40 +96,50 @@
 	
 	/**
-	 * Returns the item's list from inventory by using its <B>itemId</B><BR>
-	 * <BR>
-	 * @param itemId : int designating the ID of the item
-	 * @return List<ItemInstance> designating the items list (empty list if not found)
+	 * @param itemId : the itemId to check.
+	 * @return a List holding the items list (empty list if not found)
 	 */
 	public List<ItemInstance> getItemsByItemId(int itemId)
 	{
-		List<ItemInstance> returnList = new ArrayList<>();
-		for (ItemInstance item : _items)
-		{
-			if (item != null && item.getItemId() == itemId)
-				returnList.add(item);
-		}
-		return returnList;
-	}
-	
-	/**
-	 * Returns the item from inventory by using its <B>itemId</B><BR>
-	 * <BR>
-	 * @param itemId : int designating the ID of the item
-	 * @param itemToIgnore : used during a loop, to avoid returning the same item
-	 * @return ItemInstance designating the item or null if not found in inventory
+		final List<ItemInstance> list = new ArrayList<>();
+		for (ItemInstance item : _items)
+		{
+			if (item.getItemId() == itemId)
+				list.add(item);
+		}
+		return list;
+	}
+	
+	/**
+	 * @param itemId : the itemId to check.
+	 * @return the item by using its itemId, or null if not found in inventory.
+	 */
+	public ItemInstance getItemByItemId(int itemId)
+	{
+		for (ItemInstance item : _items)
+		{
+			if (item.getItemId() == itemId)
+				return item;
+		}
+		return null;
+	}
+	
+	/**
+	 * @param itemId : the itemId to check.
+	 * @param itemToIgnore : used during a loop, to avoid returning the same item.
+	 * @return the item by using its itemId, or null if not found in inventory
 	 */
 	public ItemInstance getItemByItemId(int itemId, ItemInstance itemToIgnore)
 	{
 		for (ItemInstance item : _items)
-			if (item != null && item.getItemId() == itemId && !item.equals(itemToIgnore))
+		{
+			if (item.getItemId() == itemId && !item.equals(itemToIgnore))
 				return item;
-		
+		}
 		return null;
 	}
 	
 	/**
-	 * Returns item from inventory by using its <B>objectId</B>
-	 * @param objectId : int designating the ID of the object
-	 * @return ItemInstance designating the item or null if not found in inventory
+	 * @param objectId : the objectId to check.
+	 * @return the item by using its objectId, or null if not found in inventory
 	 */
 	public ItemInstance getItemByObjectId(int objectId)
@@ -160,7 +147,4 @@
 		for (ItemInstance item : _items)
 		{
-			if (item == null)
-				continue;
-			
 			if (item.getObjectId() == objectId)
 				return item;
@@ -170,8 +154,7 @@
 	
 	/**
-	 * @param itemId
-	 * @param enchantLevel
-	 * @return
-	 * @see net.sf.l2j.gameserver.model.itemcontainer.ItemContainer#getInventoryItemCount(int, int, boolean)
+	 * @param itemId : the itemId to check.
+	 * @param enchantLevel : enchant level to match on, or -1 for ANY enchant level.
+	 * @return int corresponding to the number of items matching the above conditions.
 	 */
 	public int getInventoryItemCount(int itemId, int enchantLevel)
@@ -181,9 +164,8 @@
 	
 	/**
-	 * Gets count of item in the inventory
-	 * @param itemId : Item to look for
-	 * @param enchantLevel : enchant level to match on, or -1 for ANY enchant level
-	 * @param includeEquipped : include equipped items
-	 * @return int corresponding to the number of items matching the above conditions.
+	 * @param itemId : the itemId to check.
+	 * @param enchantLevel : enchant level to match on, or -1 for ANY enchant level.
+	 * @param includeEquipped : include equipped items.
+	 * @return the count of items matching the above conditions.
 	 */
 	public int getInventoryItemCount(int itemId, int enchantLevel, boolean includeEquipped)
@@ -192,10 +174,13 @@
 		
 		for (ItemInstance item : _items)
-			if (item.getItemId() == itemId && ((item.getEnchantLevel() == enchantLevel) || (enchantLevel < 0)) && (includeEquipped || !item.isEquipped()))
+		{
+			if (item.getItemId() == itemId && (item.getEnchantLevel() == enchantLevel || enchantLevel < 0) && (includeEquipped || !item.isEquipped()))
+			{
 				if (item.isStackable())
-					count = item.getCount();
-				else
-					count++;
-		
+					return item.getCount();
+				
+				count++;
+			}
+		}
 		return count;
 	}
@@ -203,9 +188,9 @@
 	/**
 	 * Adds item to inventory
-	 * @param process : String Identifier of process triggering this action
-	 * @param item : ItemInstance to be added
-	 * @param actor : L2PcInstance Player requesting the item add
-	 * @param reference : L2Object Object referencing current action like NPC selling item or previous item in transformation
-	 * @return ItemInstance corresponding to the new item or the updated item in inventory
+	 * @param process : String identifier of process triggering this action.
+	 * @param item : ItemInstance to add.
+	 * @param actor : The player requesting the item addition.
+	 * @param reference : The L2Object referencing current action (like NPC selling item or previous item in transformation,...)
+	 * @return the ItemInstance corresponding to the new or updated item.
 	 */
 	public ItemInstance addItem(String process, ItemInstance item, L2PcInstance actor, L2Object reference)
@@ -254,11 +239,11 @@
 	
 	/**
-	 * Adds item to inventory
-	 * @param process : String Identifier of process triggering this action
-	 * @param itemId : int Item Identifier of the item to be added
-	 * @param count : int Quantity of items to be added
-	 * @param actor : L2PcInstance Player requesting the item add
-	 * @param reference : L2Object Object referencing current action like NPC selling item or previous item in transformation
-	 * @return ItemInstance corresponding to the new item or the updated item in inventory
+	 * Adds an item to inventory.
+	 * @param process : String identifier of process triggering this action.
+	 * @param itemId : The itemId of the ItemInstance to add.
+	 * @param count : The quantity of items to add.
+	 * @param actor : The player requesting the item addition.
+	 * @param reference : The L2Object referencing current action (like NPC selling item or previous item in transformation,...)
+	 * @return the ItemInstance corresponding to the new or updated item.
 	 */
 	public ItemInstance addItem(String process, int itemId, int count, L2PcInstance actor, L2Object reference)
@@ -271,4 +256,5 @@
 			item.changeCount(process, count, actor, reference);
 			item.setLastChange(ItemInstance.MODIFIED);
+			
 			// Updates database
 			if (itemId == 57 && count < 10000 * Config.RATE_DROP_ADENA)
@@ -300,4 +286,5 @@
 				// Add item in inventory
 				addItem(item);
+				
 				// Updates database
 				item.updateDatabase();
@@ -394,5 +381,5 @@
 	public ItemInstance destroyItem(String process, ItemInstance item, L2PcInstance actor, L2Object reference)
 	{
-		return this.destroyItem(process, item, item.getCount(), actor, reference);
+		return destroyItem(process, item, item.getCount(), actor, reference);
 	}
 	
@@ -455,5 +442,5 @@
 			return null;
 		
-		return this.destroyItem(process, item, count, actor, reference);
+		return destroyItem(process, item, count, actor, reference);
 	}
 	
@@ -473,5 +460,5 @@
 			return null;
 		
-		return this.destroyItem(process, item, count, actor, reference);
+		return destroyItem(process, item, count, actor, reference);
 	}
 	
@@ -482,30 +469,21 @@
 	 * @param reference : L2Object Object referencing current action like NPC selling item or previous item in transformation
 	 */
-	public synchronized void destroyAllItems(String process, L2PcInstance actor, L2Object reference)
-	{
-		for (ItemInstance item : _items)
-		{
-			if (item != null)
-				destroyItem(process, item, actor, reference);
-		}
-	}
-	
-	/**
-	 * Get warehouse adena
-	 * @return
+	public void destroyAllItems(String process, L2PcInstance actor, L2Object reference)
+	{
+		for (ItemInstance item : _items)
+			destroyItem(process, item, actor, reference);
+	}
+	
+	/**
+	 * @return the amount of adena (itemId 57)
 	 */
 	public int getAdena()
 	{
-		int count = 0;
-		
-		for (ItemInstance item : _items)
-		{
-			if (item != null && item.getItemId() == 57)
-			{
-				count = item.getCount();
-				return count;
-			}
-		}
-		return count;
+		for (ItemInstance item : _items)
+		{
+			if (item.getItemId() == 57)
+				return item.getCount();
+		}
+		return 0;
 	}
 	
@@ -516,8 +494,5 @@
 	protected void addItem(ItemInstance item)
 	{
-		synchronized (_items)
-		{
-			_items.add(item);
-		}
+		_items.add(item);
 	}
 	
@@ -529,8 +504,5 @@
 	protected boolean removeItem(ItemInstance item)
 	{
-		synchronized (_items)
-		{
-			return _items.remove(item);
-		}
+		return _items.remove(item);
 	}
 	
@@ -551,9 +523,6 @@
 			for (ItemInstance item : _items)
 			{
-				if (item != null)
-				{
-					item.updateDatabase();
-					L2World.getInstance().removeObject(item);
-				}
+				item.updateDatabase();
+				L2World.getInstance().removeObject(item);
 			}
 		}
@@ -569,8 +538,5 @@
 		{
 			for (ItemInstance item : _items)
-			{
-				if (item != null)
-					item.updateDatabase();
-			}
+				item.updateDatabase();
 		}
 	}
@@ -588,8 +554,7 @@
 			ResultSet inv = statement.executeQuery();
 			
-			ItemInstance item;
 			while (inv.next())
 			{
-				item = ItemInstance.restoreFromDb(getOwnerId(), inv);
+				ItemInstance item = ItemInstance.restoreFromDb(getOwnerId(), inv);
 				if (item == null)
 					continue;
@@ -597,5 +562,5 @@
 				L2World.getInstance().storeObject(item);
 				
-				L2PcInstance owner = getOwner() == null ? null : getOwner().getActingPlayer();
+				L2PcInstance owner = (getOwner() == null) ? null : getOwner().getActingPlayer();
 				
 				// If stackable item is found in inventory just add to current quantity
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/model/itemcontainer/PcFreight.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/model/itemcontainer/PcFreight.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/model/itemcontainer/PcFreight.java	(revision 341)
@@ -78,5 +78,5 @@
 	 */
 	@Override
-	public ItemInstance[] getItems()
+	public List<ItemInstance> getItems()
 	{
 		List<ItemInstance> list = new ArrayList<>();
@@ -86,5 +86,5 @@
 				list.add(item);
 		}
-		return list.toArray(new ItemInstance[list.size()]);
+		return list;
 	}
 	
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/model/actor/L2Character.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/model/actor/L2Character.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/model/actor/L2Character.java	(revision 341)
@@ -554,5 +554,5 @@
 	 * @param target The L2Character targeted
 	 */
-	protected void doAttack(L2Character target)
+	protected synchronized void doAttack(L2Character target)
 	{
 		if (target == null || isAttackingDisabled())
@@ -674,12 +674,10 @@
 		rechargeShots(true, false);
 		
-		// Verify if soulshots are charged.
-		boolean wasSSCharged = isChargedShot(ShotType.SOULSHOT);
-		
 		// Get the Attack Speed of the L2Character (delay (in milliseconds) before next attack)
 		int timeAtk = calculateTimeBetweenAttacks(target, weaponItemType);
 		_attackEndTime = System.currentTimeMillis() + timeAtk;
+		
 		// Create Attack
-		Attack attack = new Attack(this, wasSSCharged, (weaponItem != null) ? weaponItem.getCrystalType().getId() : 0);
+		Attack attack = new Attack(this, isChargedShot(ShotType.SOULSHOT), (weaponItem != null) ? weaponItem.getCrystalType().getId() : 0);
 		
 		// Make sure that char is facing selected target
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/model/actor/instance/L2MerchantInstance.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/model/actor/instance/L2MerchantInstance.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/model/actor/instance/L2MerchantInstance.java	(revision 341)
@@ -125,4 +125,14 @@
 			MultisellData.getInstance().separateAndSend(Integer.parseInt(st.nextToken()), player, true, getCastle().getTaxRate());
 		}
+		else if (actualCommand.equalsIgnoreCase("Newbie_Exc_Multisell"))
+		{
+			if (st.countTokens() < 1)
+				return;
+			
+			if (player.isNewbie())
+				MultisellData.getInstance().separateAndSend(Integer.parseInt(st.nextToken()), player, true, getCastle().getTaxRate());
+			else
+				showChatWindow(player, "data/html/exchangelvlimit.htm");
+		}
 		else
 			super.onBypassFeedback(player, command);
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/model/actor/instance/L2PcInstance.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/model/actor/instance/L2PcInstance.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/model/actor/instance/L2PcInstance.java	(revision 341)
@@ -339,5 +339,5 @@
 					setIsParalyzed(false);
 				}
-			}, 500);
+			}, 100);
 			setIsParalyzed(true);
 		}
@@ -2303,5 +2303,5 @@
 					
 					sitDown();
-					broadcastPacket(new ChairSit(L2PcInstance.this, ((L2StaticObjectInstance) target).getStaticObjectId()));
+					broadcastPacket(new ChairSit(getObjectId(), ((L2StaticObjectInstance) target).getStaticObjectId()));
 				}
 			});
@@ -2325,5 +2325,5 @@
 				
 				if (isThrone && isInsideRadius(target, L2Npc.INTERACTION_DISTANCE, false, false))
-					broadcastPacket(new ChairSit(this, ((L2StaticObjectInstance) target).getStaticObjectId()));
+					broadcastPacket(new ChairSit(getObjectId(), ((L2StaticObjectInstance) target).getStaticObjectId()));
 			}
 		}
@@ -2346,5 +2346,5 @@
 						
 						if (isThrone && isInsideRadius(target, L2Npc.INTERACTION_DISTANCE, false, false))
-							broadcastPacket(new ChairSit(L2PcInstance.this, ((L2StaticObjectInstance) target).getStaticObjectId()));
+							broadcastPacket(new ChairSit(getObjectId(), ((L2StaticObjectInstance) target).getStaticObjectId()));
 					}
 				}
@@ -9426,5 +9426,5 @@
 		
 		// Ends fishing
-		broadcastPacket(new ExFishingEnd(win, this));
+		broadcastPacket(new ExFishingEnd(win, getObjectId()));
 		sendPacket(SystemMessageId.REEL_LINE_AND_STOP_FISHING);
 		setIsImmobilized(false);
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/model/actor/instance/L2ClassMasterInstance.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/model/actor/instance/L2ClassMasterInstance.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/model/actor/instance/L2ClassMasterInstance.java	(revision 341)
@@ -25,4 +25,5 @@
 import net.sf.l2j.gameserver.network.SystemMessageId;
 import net.sf.l2j.gameserver.network.serverpackets.ActionFailed;
+import net.sf.l2j.gameserver.network.serverpackets.HennaInfo;
 import net.sf.l2j.gameserver.network.serverpackets.NpcHtmlMessage;
 import net.sf.l2j.gameserver.network.serverpackets.UserInfo;
@@ -255,4 +256,5 @@
 			player.setBaseClass(player.getActiveClass());
 		
+		player.sendPacket(new HennaInfo(player));
 		player.broadcastUserInfo();
 		return true;
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/model/Announcement.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/model/Announcement.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/model/Announcement.java	(revision 341)
@@ -36,4 +36,5 @@
 	protected int _delay;
 	protected int _limit;
+	protected int _tempLimit; // Temporary limit, used by current timer.
 	
 	protected ScheduledFuture<?> _task = null;
@@ -65,4 +66,5 @@
 				default:
 					_task = ThreadPoolManager.getInstance().scheduleGeneral(this, _initialDelay * 1000); // self schedule (initial)
+					_tempLimit = _limit;
 					break;
 			}
@@ -75,10 +77,11 @@
 		if (!_unlimited)
 		{
-			Broadcast.announceToOnlinePlayers(_message, _critical);
+			if (_tempLimit == 0)
+				return;
+			
 			_task = ThreadPoolManager.getInstance().scheduleGeneral(this, _delay * 1000); // self schedule (worker)
-			_limit--;
+			_tempLimit--;
 		}
-		else
-			Broadcast.announceToOnlinePlayers(_message, _critical);
+		Broadcast.announceToOnlinePlayers(_message, _critical);
 	}
 	
@@ -113,5 +116,5 @@
 	}
 	
-	public void stopDaemon()
+	public void stopTask()
 	{
 		if (_task != null)
@@ -121,3 +124,24 @@
 		}
 	}
+	
+	public void reloadTask()
+	{
+		stopTask();
+		
+		if (_auto)
+		{
+			switch (_limit)
+			{
+				case 0: // unlimited
+					_task = ThreadPoolManager.getInstance().scheduleGeneralAtFixedRate(this, _initialDelay * 1000, _delay * 1000); // self schedule at fixed rate
+					_unlimited = true;
+					break;
+				
+				default:
+					_task = ThreadPoolManager.getInstance().scheduleGeneral(this, _initialDelay * 1000); // self schedule (initial)
+					_tempLimit = _limit;
+					break;
+			}
+		}
+	}
 }
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/cache/CrestCache.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/cache/CrestCache.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/cache/CrestCache.java	(revision 341)
@@ -111,5 +111,5 @@
 		
 		// crest data is not required type, return
-		if (data.length != type._size)
+		if (data == null || data.length != type._size)
 			return null;
 		
Index: /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/datatables/AnnouncementTable.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/datatables/AnnouncementTable.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/gameserver/datatables/AnnouncementTable.java	(revision 341)
@@ -60,5 +60,5 @@
 		// Clean first tasks from automatic announcements.
 		for (Announcement announce : _announcements.values())
-			announce.stopDaemon();
+			announce.stopTask();
 		
 		load();
@@ -117,13 +117,19 @@
 	 * Send stored announcements from _announcements Map to a specific player.
 	 * @param activeChar : The player to send infos.
-	 */
-	public void showAnnouncements(L2PcInstance activeChar)
+	 * @param autoOrNot : If True, sends only automatic announcements, otherwise send classic ones.
+	 */
+	public void showAnnouncements(L2PcInstance activeChar, boolean autoOrNot)
 	{
 		for (Announcement announce : _announcements.values())
 		{
-			if (announce.isAuto())
-				continue;
-			
-			activeChar.sendPacket(new CreatureSay(0, announce.isCritical() ? Say2.CRITICAL_ANNOUNCE : Say2.ANNOUNCEMENT, activeChar.getName(), announce.getMessage()));
+			if (autoOrNot)
+				announce.reloadTask();
+			else
+			{
+				if (announce.isAuto())
+					continue;
+				
+				activeChar.sendPacket(new CreatureSay(0, announce.isCritical() ? Say2.CRITICAL_ANNOUNCE : Say2.ANNOUNCEMENT, activeChar.getName(), announce.getMessage()));
+			}
 		}
 	}
@@ -209,5 +215,5 @@
 	{
 		// Stop the current task, if any.
-		_announcements.remove(index).stopDaemon();
+		_announcements.remove(index).stopTask();
 		
 		// Regenerate the XML.
Index: /trunk/aCis_gameserver/java/net/sf/l2j/commons/mmocore/SelectorConfig.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/commons/mmocore/SelectorConfig.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/commons/mmocore/SelectorConfig.java	(revision 341)
@@ -50,3 +50,13 @@
 	 */
 	public int SLEEP_TIME = 10;
+	
+	/**
+	 * Used to enable/disable TCP_NODELAY which disable/enable Nagle's algorithm.<BR>
+	 * <BR>
+	 * Nagle's algorithm try to conserve bandwidth by minimizing the number of segments that are sent. When applications wish to decrease network latency and increase performance, they can disable Nagle's algorithm (that is enable TCP_NODELAY). Data will be sent earlier, at the cost of an increase
+	 * in bandwidth consumption. The Nagle's algorithm is described in RFC 896.<BR>
+	 * <BR>
+	 * Summary, data will be sent earlier, thus lowering the ping, at the cost of a small increase in bandwidth consumption.
+	 */
+	public boolean TCP_NODELAY = true;
 }
Index: /trunk/aCis_gameserver/java/net/sf/l2j/commons/mmocore/MMOConnection.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/commons/mmocore/MMOConnection.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/commons/mmocore/MMOConnection.java	(revision 341)
@@ -21,4 +21,5 @@
 import java.net.InetAddress;
 import java.net.Socket;
+import java.net.SocketException;
 import java.nio.ByteBuffer;
 import java.nio.channels.CancelledKeyException;
@@ -54,5 +55,5 @@
 	private T _client;
 	
-	public MMOConnection(final SelectorThread<T> selectorThread, final Socket socket, final SelectionKey key)
+	public MMOConnection(final SelectorThread<T> selectorThread, final Socket socket, final SelectionKey key, boolean tcpNoDelay)
 	{
 		_selectorThread = selectorThread;
@@ -67,4 +68,13 @@
 		
 		_sendQueue = new NioNetStackList<>();
+		
+		try
+		{
+			_socket.setTcpNoDelay(tcpNoDelay);
+		}
+		catch (SocketException e)
+		{
+			e.printStackTrace();
+		}
 	}
 	
Index: /trunk/aCis_gameserver/java/net/sf/l2j/commons/mmocore/SelectorThread.java
===================================================================
--- /trunk/aCis_gameserver/java/net/sf/l2j/commons/mmocore/SelectorThread.java	(revision 340)
+++ /trunk/aCis_gameserver/java/net/sf/l2j/commons/mmocore/SelectorThread.java	(revision 341)
@@ -59,4 +59,5 @@
 	private final int MAX_READ_PER_PASS;
 	private final long SLEEP_TIME;
+	public boolean TCP_NODELAY;
 	
 	// Main Buffers
@@ -86,4 +87,5 @@
 		
 		SLEEP_TIME = sc.SLEEP_TIME;
+		TCP_NODELAY = sc.TCP_NODELAY;
 		
 		DIRECT_WRITE_BUFFER = ByteBuffer.allocateDirect(sc.WRITE_BUFFER_SIZE).order(BYTE_ORDER);
@@ -204,7 +206,14 @@
 				while (!_pendingClose.isEmpty())
 				{
-					con = _pendingClose.removeFirst();
-					writeClosePacket(con);
-					closeConnectionImpl(con.getSelectionKey(), con);
+					try
+					{
+						con = _pendingClose.removeFirst();
+						writeClosePacket(con);
+						closeConnectionImpl(con.getSelectionKey(), con);
+					}
+					catch (Exception e)
+					{
+						e.printStackTrace();
+					}
 				}
 			}
@@ -255,5 +264,5 @@
 					sc.configureBlocking(false);
 					SelectionKey clientKey = sc.register(_selector, SelectionKey.OP_READ);
-					con = new MMOConnection<>(this, sc.socket(), clientKey);
+					con = new MMOConnection<>(this, sc.socket(), clientKey, TCP_NODELAY);
 					con.setClient(_clientFactory.create(con));
 					clientKey.attach(con);
@@ -580,4 +589,6 @@
 		// set the write buffer
 		sp._buf = WRITE_BUFFER;
+		// set the client.
+		sp._client = client;
 		// write content to buffer
 		sp.write();
